function wI(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var EI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function CI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xv={exports:{}},_c={},Pv={exports:{}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rl=Symbol.for("react.element"),SI=Symbol.for("react.portal"),II=Symbol.for("react.fragment"),TI=Symbol.for("react.strict_mode"),kI=Symbol.for("react.profiler"),NI=Symbol.for("react.provider"),bI=Symbol.for("react.context"),xI=Symbol.for("react.forward_ref"),PI=Symbol.for("react.suspense"),AI=Symbol.for("react.memo"),RI=Symbol.for("react.lazy"),ig=Symbol.iterator;function OI(t){return t===null||typeof t!="object"?null:(t=ig&&t[ig]||t["@@iterator"],typeof t=="function"?t:null)}var Av={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rv=Object.assign,Ov={};function Is(t,e,n){this.props=t,this.context=e,this.refs=Ov,this.updater=n||Av}Is.prototype.isReactComponent={};Is.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Is.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Dv(){}Dv.prototype=Is.prototype;function Rh(t,e,n){this.props=t,this.context=e,this.refs=Ov,this.updater=n||Av}var Oh=Rh.prototype=new Dv;Oh.constructor=Rh;Rv(Oh,Is.prototype);Oh.isPureReactComponent=!0;var sg=Array.isArray,Lv=Object.prototype.hasOwnProperty,Dh={current:null},Mv={key:!0,ref:!0,__self:!0,__source:!0};function Fv(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Lv.call(e,r)&&!Mv.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var c=Array(a),d=0;d<a;d++)c[d]=arguments[d+2];i.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:rl,type:t,key:s,ref:o,props:i,_owner:Dh.current}}function DI(t,e){return{$$typeof:rl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Lh(t){return typeof t=="object"&&t!==null&&t.$$typeof===rl}function LI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var og=/\/+/g;function xu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?LI(""+t.key):e.toString(36)}function la(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case rl:case SI:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+xu(o,0):r,sg(i)?(n="",t!=null&&(n=t.replace(og,"$&/")+"/"),la(i,e,n,"",function(d){return d})):i!=null&&(Lh(i)&&(i=DI(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(og,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",sg(t))for(var a=0;a<t.length;a++){s=t[a];var c=r+xu(s,a);o+=la(s,e,n,c,i)}else if(c=OI(t),typeof c=="function")for(t=c.call(t),a=0;!(s=t.next()).done;)s=s.value,c=r+xu(s,a++),o+=la(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function zl(t,e,n){if(t==null)return t;var r=[],i=0;return la(t,r,"","",function(s){return e.call(n,s,i++)}),r}function MI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var pt={current:null},aa={transition:null},FI={ReactCurrentDispatcher:pt,ReactCurrentBatchConfig:aa,ReactCurrentOwner:Dh};function jv(){throw Error("act(...) is not supported in production builds of React.")}ie.Children={map:zl,forEach:function(t,e,n){zl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return zl(t,function(){e++}),e},toArray:function(t){return zl(t,function(e){return e})||[]},only:function(t){if(!Lh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ie.Component=Is;ie.Fragment=II;ie.Profiler=kI;ie.PureComponent=Rh;ie.StrictMode=TI;ie.Suspense=PI;ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FI;ie.act=jv;ie.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Rv({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Dh.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)Lv.call(e,c)&&!Mv.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var d=0;d<c;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:rl,type:t.type,key:i,ref:s,props:r,_owner:o}};ie.createContext=function(t){return t={$$typeof:bI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:NI,_context:t},t.Consumer=t};ie.createElement=Fv;ie.createFactory=function(t){var e=Fv.bind(null,t);return e.type=t,e};ie.createRef=function(){return{current:null}};ie.forwardRef=function(t){return{$$typeof:xI,render:t}};ie.isValidElement=Lh;ie.lazy=function(t){return{$$typeof:RI,_payload:{_status:-1,_result:t},_init:MI}};ie.memo=function(t,e){return{$$typeof:AI,type:t,compare:e===void 0?null:e}};ie.startTransition=function(t){var e=aa.transition;aa.transition={};try{t()}finally{aa.transition=e}};ie.unstable_act=jv;ie.useCallback=function(t,e){return pt.current.useCallback(t,e)};ie.useContext=function(t){return pt.current.useContext(t)};ie.useDebugValue=function(){};ie.useDeferredValue=function(t){return pt.current.useDeferredValue(t)};ie.useEffect=function(t,e){return pt.current.useEffect(t,e)};ie.useId=function(){return pt.current.useId()};ie.useImperativeHandle=function(t,e,n){return pt.current.useImperativeHandle(t,e,n)};ie.useInsertionEffect=function(t,e){return pt.current.useInsertionEffect(t,e)};ie.useLayoutEffect=function(t,e){return pt.current.useLayoutEffect(t,e)};ie.useMemo=function(t,e){return pt.current.useMemo(t,e)};ie.useReducer=function(t,e,n){return pt.current.useReducer(t,e,n)};ie.useRef=function(t){return pt.current.useRef(t)};ie.useState=function(t){return pt.current.useState(t)};ie.useSyncExternalStore=function(t,e,n){return pt.current.useSyncExternalStore(t,e,n)};ie.useTransition=function(){return pt.current.useTransition()};ie.version="18.3.1";Pv.exports=ie;var L=Pv.exports;const Uv=CI(L),jI=wI({__proto__:null,default:Uv},[L]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UI=L,$I=Symbol.for("react.element"),zI=Symbol.for("react.fragment"),WI=Object.prototype.hasOwnProperty,BI=UI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,HI={key:!0,ref:!0,__self:!0,__source:!0};function $v(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)WI.call(e,r)&&!HI.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:$I,type:t,key:s,ref:o,props:i,_owner:BI.current}}_c.Fragment=zI;_c.jsx=$v;_c.jsxs=$v;xv.exports=_c;var S=xv.exports,gd={},zv={exports:{}},At={},Wv={exports:{}},Bv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,Q){var k=$.length;$.push(Q);e:for(;0<k;){var Se=k-1>>>1,De=$[Se];if(0<i(De,Q))$[Se]=Q,$[k]=De,k=Se;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var Q=$[0],k=$.pop();if(k!==Q){$[0]=k;e:for(var Se=0,De=$.length,qn=De>>>1;Se<qn;){var Qe=2*(Se+1)-1,Sn=$[Qe],je=Qe+1,Qn=$[je];if(0>i(Sn,k))je<De&&0>i(Qn,Sn)?($[Se]=Qn,$[je]=k,Se=je):($[Se]=Sn,$[Qe]=k,Se=Qe);else if(je<De&&0>i(Qn,k))$[Se]=Qn,$[je]=k,Se=je;else break e}}return Q}function i($,Q){var k=$.sortIndex-Q.sortIndex;return k!==0?k:$.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],d=[],f=1,p=null,g=3,w=!1,C=!1,T=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y($){for(var Q=n(d);Q!==null;){if(Q.callback===null)r(d);else if(Q.startTime<=$)r(d),Q.sortIndex=Q.expirationTime,e(c,Q);else break;Q=n(d)}}function N($){if(T=!1,y($),!C)if(n(c)!==null)C=!0,Ei(A);else{var Q=n(d);Q!==null&&Dr(N,Q.startTime-$)}}function A($,Q){C=!1,T&&(T=!1,v(j),j=-1),w=!0;var k=g;try{for(y(Q),p=n(c);p!==null&&(!(p.expirationTime>Q)||$&&!ot());){var Se=p.callback;if(typeof Se=="function"){p.callback=null,g=p.priorityLevel;var De=Se(p.expirationTime<=Q);Q=t.unstable_now(),typeof De=="function"?p.callback=De:p===n(c)&&r(c),y(Q)}else r(c);p=n(c)}if(p!==null)var qn=!0;else{var Qe=n(d);Qe!==null&&Dr(N,Qe.startTime-Q),qn=!1}return qn}finally{p=null,g=k,w=!1}}var O=!1,F=null,j=-1,se=5,J=-1;function ot(){return!(t.unstable_now()-J<se)}function ln(){if(F!==null){var $=t.unstable_now();J=$;var Q=!0;try{Q=F(!0,$)}finally{Q?Kn():(O=!1,F=null)}}else O=!1}var Kn;if(typeof _=="function")Kn=function(){_(ln)};else if(typeof MessageChannel<"u"){var Ms=new MessageChannel,yl=Ms.port2;Ms.port1.onmessage=ln,Kn=function(){yl.postMessage(null)}}else Kn=function(){x(ln,0)};function Ei($){F=$,O||(O=!0,Kn())}function Dr($,Q){j=x(function(){$(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){C||w||(C=!0,Ei(A))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function($){switch(g){case 1:case 2:case 3:var Q=3;break;default:Q=g}var k=g;g=Q;try{return $()}finally{g=k}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,Q){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var k=g;g=$;try{return Q()}finally{g=k}},t.unstable_scheduleCallback=function($,Q,k){var Se=t.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?Se+k:Se):k=Se,$){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=k+De,$={id:f++,callback:Q,priorityLevel:$,startTime:k,expirationTime:De,sortIndex:-1},k>Se?($.sortIndex=k,e(d,$),n(c)===null&&$===n(d)&&(T?(v(j),j=-1):T=!0,Dr(N,k-Se))):($.sortIndex=De,e(c,$),C||w||(C=!0,Ei(A))),$},t.unstable_shouldYield=ot,t.unstable_wrapCallback=function($){var Q=g;return function(){var k=g;g=Q;try{return $.apply(this,arguments)}finally{g=k}}}})(Bv);Wv.exports=Bv;var VI=Wv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GI=L,Pt=VI;function R(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Hv=new Set,ko={};function _i(t,e){us(t,e),us(t+"Capture",e)}function us(t,e){for(ko[t]=e,t=0;t<e.length;t++)Hv.add(e[t])}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_d=Object.prototype.hasOwnProperty,KI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lg={},ag={};function qI(t){return _d.call(ag,t)?!0:_d.call(lg,t)?!1:KI.test(t)?ag[t]=!0:(lg[t]=!0,!1)}function QI(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function YI(t,e,n,r){if(e===null||typeof e>"u"||QI(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function mt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ze[t]=new mt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ze[e]=new mt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ze[t]=new mt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ze[t]=new mt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ze[t]=new mt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ze[t]=new mt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ze[t]=new mt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ze[t]=new mt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ze[t]=new mt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Mh=/[\-:]([a-z])/g;function Fh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Mh,Fh);Ze[e]=new mt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Mh,Fh);Ze[e]=new mt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Mh,Fh);Ze[e]=new mt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ze[t]=new mt(t,1,!1,t.toLowerCase(),null,!1,!1)});Ze.xlinkHref=new mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ze[t]=new mt(t,1,!1,t.toLowerCase(),null,!0,!0)});function jh(t,e,n,r){var i=Ze.hasOwnProperty(e)?Ze[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(YI(e,n,i,r)&&(n=null),r||i===null?qI(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Vn=GI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wl=Symbol.for("react.element"),$i=Symbol.for("react.portal"),zi=Symbol.for("react.fragment"),Uh=Symbol.for("react.strict_mode"),vd=Symbol.for("react.profiler"),Vv=Symbol.for("react.provider"),Gv=Symbol.for("react.context"),$h=Symbol.for("react.forward_ref"),yd=Symbol.for("react.suspense"),wd=Symbol.for("react.suspense_list"),zh=Symbol.for("react.memo"),nr=Symbol.for("react.lazy"),Kv=Symbol.for("react.offscreen"),cg=Symbol.iterator;function Ks(t){return t===null||typeof t!="object"?null:(t=cg&&t[cg]||t["@@iterator"],typeof t=="function"?t:null)}var xe=Object.assign,Pu;function so(t){if(Pu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Pu=e&&e[1]||""}return`
`+Pu+t}var Au=!1;function Ru(t,e){if(!t||Au)return"";Au=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{Au=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?so(t):""}function XI(t){switch(t.tag){case 5:return so(t.type);case 16:return so("Lazy");case 13:return so("Suspense");case 19:return so("SuspenseList");case 0:case 2:case 15:return t=Ru(t.type,!1),t;case 11:return t=Ru(t.type.render,!1),t;case 1:return t=Ru(t.type,!0),t;default:return""}}function Ed(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case zi:return"Fragment";case $i:return"Portal";case vd:return"Profiler";case Uh:return"StrictMode";case yd:return"Suspense";case wd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Gv:return(t.displayName||"Context")+".Consumer";case Vv:return(t._context.displayName||"Context")+".Provider";case $h:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case zh:return e=t.displayName||null,e!==null?e:Ed(t.type)||"Memo";case nr:e=t._payload,t=t._init;try{return Ed(t(e))}catch{}}return null}function JI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ed(e);case 8:return e===Uh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Tr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function qv(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ZI(t){var e=qv(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Bl(t){t._valueTracker||(t._valueTracker=ZI(t))}function Qv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=qv(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ia(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Cd(t,e){var n=e.checked;return xe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ug(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Tr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Yv(t,e){e=e.checked,e!=null&&jh(t,"checked",e,!1)}function Sd(t,e){Yv(t,e);var n=Tr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Id(t,e.type,n):e.hasOwnProperty("defaultValue")&&Id(t,e.type,Tr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function dg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Id(t,e,n){(e!=="number"||Ia(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var oo=Array.isArray;function Zi(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Tr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Td(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(R(91));return xe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function hg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(R(92));if(oo(n)){if(1<n.length)throw Error(R(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Tr(n)}}function Xv(t,e){var n=Tr(e.value),r=Tr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function fg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Jv(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Jv(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Hl,Zv=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Hl=Hl||document.createElement("div"),Hl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Hl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function No(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var uo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eT=["Webkit","ms","Moz","O"];Object.keys(uo).forEach(function(t){eT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),uo[e]=uo[t]})});function ey(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||uo.hasOwnProperty(t)&&uo[t]?(""+e).trim():e+"px"}function ty(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ey(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var tT=xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nd(t,e){if(e){if(tT[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(R(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(R(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(R(61))}if(e.style!=null&&typeof e.style!="object")throw Error(R(62))}}function bd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xd=null;function Wh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Pd=null,es=null,ts=null;function pg(t){if(t=ol(t)){if(typeof Pd!="function")throw Error(R(280));var e=t.stateNode;e&&(e=Cc(e),Pd(t.stateNode,t.type,e))}}function ny(t){es?ts?ts.push(t):ts=[t]:es=t}function ry(){if(es){var t=es,e=ts;if(ts=es=null,pg(t),e)for(t=0;t<e.length;t++)pg(e[t])}}function iy(t,e){return t(e)}function sy(){}var Ou=!1;function oy(t,e,n){if(Ou)return t(e,n);Ou=!0;try{return iy(t,e,n)}finally{Ou=!1,(es!==null||ts!==null)&&(sy(),ry())}}function bo(t,e){var n=t.stateNode;if(n===null)return null;var r=Cc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(R(231,e,typeof n));return n}var Ad=!1;if(Un)try{var qs={};Object.defineProperty(qs,"passive",{get:function(){Ad=!0}}),window.addEventListener("test",qs,qs),window.removeEventListener("test",qs,qs)}catch{Ad=!1}function nT(t,e,n,r,i,s,o,a,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(f){this.onError(f)}}var ho=!1,Ta=null,ka=!1,Rd=null,rT={onError:function(t){ho=!0,Ta=t}};function iT(t,e,n,r,i,s,o,a,c){ho=!1,Ta=null,nT.apply(rT,arguments)}function sT(t,e,n,r,i,s,o,a,c){if(iT.apply(this,arguments),ho){if(ho){var d=Ta;ho=!1,Ta=null}else throw Error(R(198));ka||(ka=!0,Rd=d)}}function vi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ly(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function mg(t){if(vi(t)!==t)throw Error(R(188))}function oT(t){var e=t.alternate;if(!e){if(e=vi(t),e===null)throw Error(R(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return mg(i),t;if(s===r)return mg(i),e;s=s.sibling}throw Error(R(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(R(189))}}if(n.alternate!==r)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?t:e}function ay(t){return t=oT(t),t!==null?cy(t):null}function cy(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=cy(t);if(e!==null)return e;t=t.sibling}return null}var uy=Pt.unstable_scheduleCallback,gg=Pt.unstable_cancelCallback,lT=Pt.unstable_shouldYield,aT=Pt.unstable_requestPaint,Me=Pt.unstable_now,cT=Pt.unstable_getCurrentPriorityLevel,Bh=Pt.unstable_ImmediatePriority,dy=Pt.unstable_UserBlockingPriority,Na=Pt.unstable_NormalPriority,uT=Pt.unstable_LowPriority,hy=Pt.unstable_IdlePriority,vc=null,mn=null;function dT(t){if(mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(vc,t,void 0,(t.current.flags&128)===128)}catch{}}var tn=Math.clz32?Math.clz32:pT,hT=Math.log,fT=Math.LN2;function pT(t){return t>>>=0,t===0?32:31-(hT(t)/fT|0)|0}var Vl=64,Gl=4194304;function lo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ba(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=lo(a):(s&=o,s!==0&&(r=lo(s)))}else o=n&~i,o!==0?r=lo(o):s!==0&&(r=lo(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-tn(e),i=1<<n,r|=t[n],e&=~i;return r}function mT(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gT(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-tn(s),a=1<<o,c=i[o];c===-1?(!(a&n)||a&r)&&(i[o]=mT(a,e)):c<=e&&(t.expiredLanes|=a),s&=~a}}function Od(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function fy(){var t=Vl;return Vl<<=1,!(Vl&4194240)&&(Vl=64),t}function Du(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function il(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-tn(e),t[e]=n}function _T(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-tn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Hh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-tn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var fe=0;function py(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var my,Vh,gy,_y,vy,Dd=!1,Kl=[],hr=null,fr=null,pr=null,xo=new Map,Po=new Map,ir=[],vT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _g(t,e){switch(t){case"focusin":case"focusout":hr=null;break;case"dragenter":case"dragleave":fr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":xo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Po.delete(e.pointerId)}}function Qs(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ol(e),e!==null&&Vh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function yT(t,e,n,r,i){switch(e){case"focusin":return hr=Qs(hr,t,e,n,r,i),!0;case"dragenter":return fr=Qs(fr,t,e,n,r,i),!0;case"mouseover":return pr=Qs(pr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return xo.set(s,Qs(xo.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Po.set(s,Qs(Po.get(s)||null,t,e,n,r,i)),!0}return!1}function yy(t){var e=Yr(t.target);if(e!==null){var n=vi(e);if(n!==null){if(e=n.tag,e===13){if(e=ly(n),e!==null){t.blockedOn=e,vy(t.priority,function(){gy(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ca(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ld(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);xd=r,n.target.dispatchEvent(r),xd=null}else return e=ol(n),e!==null&&Vh(e),t.blockedOn=n,!1;e.shift()}return!0}function vg(t,e,n){ca(t)&&n.delete(e)}function wT(){Dd=!1,hr!==null&&ca(hr)&&(hr=null),fr!==null&&ca(fr)&&(fr=null),pr!==null&&ca(pr)&&(pr=null),xo.forEach(vg),Po.forEach(vg)}function Ys(t,e){t.blockedOn===e&&(t.blockedOn=null,Dd||(Dd=!0,Pt.unstable_scheduleCallback(Pt.unstable_NormalPriority,wT)))}function Ao(t){function e(i){return Ys(i,t)}if(0<Kl.length){Ys(Kl[0],t);for(var n=1;n<Kl.length;n++){var r=Kl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(hr!==null&&Ys(hr,t),fr!==null&&Ys(fr,t),pr!==null&&Ys(pr,t),xo.forEach(e),Po.forEach(e),n=0;n<ir.length;n++)r=ir[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ir.length&&(n=ir[0],n.blockedOn===null);)yy(n),n.blockedOn===null&&ir.shift()}var ns=Vn.ReactCurrentBatchConfig,xa=!0;function ET(t,e,n,r){var i=fe,s=ns.transition;ns.transition=null;try{fe=1,Gh(t,e,n,r)}finally{fe=i,ns.transition=s}}function CT(t,e,n,r){var i=fe,s=ns.transition;ns.transition=null;try{fe=4,Gh(t,e,n,r)}finally{fe=i,ns.transition=s}}function Gh(t,e,n,r){if(xa){var i=Ld(t,e,n,r);if(i===null)Hu(t,e,r,Pa,n),_g(t,r);else if(yT(i,t,e,n,r))r.stopPropagation();else if(_g(t,r),e&4&&-1<vT.indexOf(t)){for(;i!==null;){var s=ol(i);if(s!==null&&my(s),s=Ld(t,e,n,r),s===null&&Hu(t,e,r,Pa,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Hu(t,e,r,null,n)}}var Pa=null;function Ld(t,e,n,r){if(Pa=null,t=Wh(r),t=Yr(t),t!==null)if(e=vi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ly(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Pa=t,null}function wy(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cT()){case Bh:return 1;case dy:return 4;case Na:case uT:return 16;case hy:return 536870912;default:return 16}default:return 16}}var cr=null,Kh=null,ua=null;function Ey(){if(ua)return ua;var t,e=Kh,n=e.length,r,i="value"in cr?cr.value:cr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return ua=i.slice(t,1<r?1-r:void 0)}function da(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ql(){return!0}function yg(){return!1}function Rt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ql:yg,this.isPropagationStopped=yg,this}return xe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ql)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ql)},persist:function(){},isPersistent:ql}),e}var Ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qh=Rt(Ts),sl=xe({},Ts,{view:0,detail:0}),ST=Rt(sl),Lu,Mu,Xs,yc=xe({},sl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xs&&(Xs&&t.type==="mousemove"?(Lu=t.screenX-Xs.screenX,Mu=t.screenY-Xs.screenY):Mu=Lu=0,Xs=t),Lu)},movementY:function(t){return"movementY"in t?t.movementY:Mu}}),wg=Rt(yc),IT=xe({},yc,{dataTransfer:0}),TT=Rt(IT),kT=xe({},sl,{relatedTarget:0}),Fu=Rt(kT),NT=xe({},Ts,{animationName:0,elapsedTime:0,pseudoElement:0}),bT=Rt(NT),xT=xe({},Ts,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),PT=Rt(xT),AT=xe({},Ts,{data:0}),Eg=Rt(AT),RT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},OT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},DT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LT(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=DT[t])?!!e[t]:!1}function Qh(){return LT}var MT=xe({},sl,{key:function(t){if(t.key){var e=RT[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=da(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?OT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qh,charCode:function(t){return t.type==="keypress"?da(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?da(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),FT=Rt(MT),jT=xe({},yc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cg=Rt(jT),UT=xe({},sl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qh}),$T=Rt(UT),zT=xe({},Ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),WT=Rt(zT),BT=xe({},yc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),HT=Rt(BT),VT=[9,13,27,32],Yh=Un&&"CompositionEvent"in window,fo=null;Un&&"documentMode"in document&&(fo=document.documentMode);var GT=Un&&"TextEvent"in window&&!fo,Cy=Un&&(!Yh||fo&&8<fo&&11>=fo),Sg=" ",Ig=!1;function Sy(t,e){switch(t){case"keyup":return VT.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Iy(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Wi=!1;function KT(t,e){switch(t){case"compositionend":return Iy(e);case"keypress":return e.which!==32?null:(Ig=!0,Sg);case"textInput":return t=e.data,t===Sg&&Ig?null:t;default:return null}}function qT(t,e){if(Wi)return t==="compositionend"||!Yh&&Sy(t,e)?(t=Ey(),ua=Kh=cr=null,Wi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Cy&&e.locale!=="ko"?null:e.data;default:return null}}var QT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!QT[t.type]:e==="textarea"}function Ty(t,e,n,r){ny(r),e=Aa(e,"onChange"),0<e.length&&(n=new qh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var po=null,Ro=null;function YT(t){My(t,0)}function wc(t){var e=Vi(t);if(Qv(e))return t}function XT(t,e){if(t==="change")return e}var ky=!1;if(Un){var ju;if(Un){var Uu="oninput"in document;if(!Uu){var kg=document.createElement("div");kg.setAttribute("oninput","return;"),Uu=typeof kg.oninput=="function"}ju=Uu}else ju=!1;ky=ju&&(!document.documentMode||9<document.documentMode)}function Ng(){po&&(po.detachEvent("onpropertychange",Ny),Ro=po=null)}function Ny(t){if(t.propertyName==="value"&&wc(Ro)){var e=[];Ty(e,Ro,t,Wh(t)),oy(YT,e)}}function JT(t,e,n){t==="focusin"?(Ng(),po=e,Ro=n,po.attachEvent("onpropertychange",Ny)):t==="focusout"&&Ng()}function ZT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wc(Ro)}function e1(t,e){if(t==="click")return wc(e)}function t1(t,e){if(t==="input"||t==="change")return wc(e)}function n1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var on=typeof Object.is=="function"?Object.is:n1;function Oo(t,e){if(on(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!_d.call(e,i)||!on(t[i],e[i]))return!1}return!0}function bg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function xg(t,e){var n=bg(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bg(n)}}function by(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?by(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function xy(){for(var t=window,e=Ia();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ia(t.document)}return e}function Xh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function r1(t){var e=xy(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&by(n.ownerDocument.documentElement,n)){if(r!==null&&Xh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=xg(n,s);var o=xg(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var i1=Un&&"documentMode"in document&&11>=document.documentMode,Bi=null,Md=null,mo=null,Fd=!1;function Pg(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Fd||Bi==null||Bi!==Ia(r)||(r=Bi,"selectionStart"in r&&Xh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),mo&&Oo(mo,r)||(mo=r,r=Aa(Md,"onSelect"),0<r.length&&(e=new qh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Bi)))}function Ql(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Hi={animationend:Ql("Animation","AnimationEnd"),animationiteration:Ql("Animation","AnimationIteration"),animationstart:Ql("Animation","AnimationStart"),transitionend:Ql("Transition","TransitionEnd")},$u={},Py={};Un&&(Py=document.createElement("div").style,"AnimationEvent"in window||(delete Hi.animationend.animation,delete Hi.animationiteration.animation,delete Hi.animationstart.animation),"TransitionEvent"in window||delete Hi.transitionend.transition);function Ec(t){if($u[t])return $u[t];if(!Hi[t])return t;var e=Hi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Py)return $u[t]=e[n];return t}var Ay=Ec("animationend"),Ry=Ec("animationiteration"),Oy=Ec("animationstart"),Dy=Ec("transitionend"),Ly=new Map,Ag="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(t,e){Ly.set(t,e),_i(e,[t])}for(var zu=0;zu<Ag.length;zu++){var Wu=Ag[zu],s1=Wu.toLowerCase(),o1=Wu[0].toUpperCase()+Wu.slice(1);Pr(s1,"on"+o1)}Pr(Ay,"onAnimationEnd");Pr(Ry,"onAnimationIteration");Pr(Oy,"onAnimationStart");Pr("dblclick","onDoubleClick");Pr("focusin","onFocus");Pr("focusout","onBlur");Pr(Dy,"onTransitionEnd");us("onMouseEnter",["mouseout","mouseover"]);us("onMouseLeave",["mouseout","mouseover"]);us("onPointerEnter",["pointerout","pointerover"]);us("onPointerLeave",["pointerout","pointerover"]);_i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_i("onBeforeInput",["compositionend","keypress","textInput","paste"]);_i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ao="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l1=new Set("cancel close invalid load scroll toggle".split(" ").concat(ao));function Rg(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,sT(r,e,void 0,t),t.currentTarget=null}function My(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,d=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;Rg(i,a,d),s=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,d=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;Rg(i,a,d),s=c}}}if(ka)throw t=Rd,ka=!1,Rd=null,t}function Ie(t,e){var n=e[Wd];n===void 0&&(n=e[Wd]=new Set);var r=t+"__bubble";n.has(r)||(Fy(e,t,2,!1),n.add(r))}function Bu(t,e,n){var r=0;e&&(r|=4),Fy(n,t,r,e)}var Yl="_reactListening"+Math.random().toString(36).slice(2);function Do(t){if(!t[Yl]){t[Yl]=!0,Hv.forEach(function(n){n!=="selectionchange"&&(l1.has(n)||Bu(n,!1,t),Bu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Yl]||(e[Yl]=!0,Bu("selectionchange",!1,e))}}function Fy(t,e,n,r){switch(wy(e)){case 1:var i=ET;break;case 4:i=CT;break;default:i=Gh}n=i.bind(null,e,n,t),i=void 0,!Ad||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Hu(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Yr(a),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}a=a.parentNode}}r=r.return}oy(function(){var d=s,f=Wh(n),p=[];e:{var g=Ly.get(t);if(g!==void 0){var w=qh,C=t;switch(t){case"keypress":if(da(n)===0)break e;case"keydown":case"keyup":w=FT;break;case"focusin":C="focus",w=Fu;break;case"focusout":C="blur",w=Fu;break;case"beforeblur":case"afterblur":w=Fu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=wg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=TT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=$T;break;case Ay:case Ry:case Oy:w=bT;break;case Dy:w=WT;break;case"scroll":w=ST;break;case"wheel":w=HT;break;case"copy":case"cut":case"paste":w=PT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Cg}var T=(e&4)!==0,x=!T&&t==="scroll",v=T?g!==null?g+"Capture":null:g;T=[];for(var _=d,y;_!==null;){y=_;var N=y.stateNode;if(y.tag===5&&N!==null&&(y=N,v!==null&&(N=bo(_,v),N!=null&&T.push(Lo(_,N,y)))),x)break;_=_.return}0<T.length&&(g=new w(g,C,null,n,f),p.push({event:g,listeners:T}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",g&&n!==xd&&(C=n.relatedTarget||n.fromElement)&&(Yr(C)||C[$n]))break e;if((w||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,w?(C=n.relatedTarget||n.toElement,w=d,C=C?Yr(C):null,C!==null&&(x=vi(C),C!==x||C.tag!==5&&C.tag!==6)&&(C=null)):(w=null,C=d),w!==C)){if(T=wg,N="onMouseLeave",v="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(T=Cg,N="onPointerLeave",v="onPointerEnter",_="pointer"),x=w==null?g:Vi(w),y=C==null?g:Vi(C),g=new T(N,_+"leave",w,n,f),g.target=x,g.relatedTarget=y,N=null,Yr(f)===d&&(T=new T(v,_+"enter",C,n,f),T.target=y,T.relatedTarget=x,N=T),x=N,w&&C)t:{for(T=w,v=C,_=0,y=T;y;y=ji(y))_++;for(y=0,N=v;N;N=ji(N))y++;for(;0<_-y;)T=ji(T),_--;for(;0<y-_;)v=ji(v),y--;for(;_--;){if(T===v||v!==null&&T===v.alternate)break t;T=ji(T),v=ji(v)}T=null}else T=null;w!==null&&Og(p,g,w,T,!1),C!==null&&x!==null&&Og(p,x,C,T,!0)}}e:{if(g=d?Vi(d):window,w=g.nodeName&&g.nodeName.toLowerCase(),w==="select"||w==="input"&&g.type==="file")var A=XT;else if(Tg(g))if(ky)A=t1;else{A=ZT;var O=JT}else(w=g.nodeName)&&w.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(A=e1);if(A&&(A=A(t,d))){Ty(p,A,n,f);break e}O&&O(t,g,d),t==="focusout"&&(O=g._wrapperState)&&O.controlled&&g.type==="number"&&Id(g,"number",g.value)}switch(O=d?Vi(d):window,t){case"focusin":(Tg(O)||O.contentEditable==="true")&&(Bi=O,Md=d,mo=null);break;case"focusout":mo=Md=Bi=null;break;case"mousedown":Fd=!0;break;case"contextmenu":case"mouseup":case"dragend":Fd=!1,Pg(p,n,f);break;case"selectionchange":if(i1)break;case"keydown":case"keyup":Pg(p,n,f)}var F;if(Yh)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Wi?Sy(t,n)&&(j="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(Cy&&n.locale!=="ko"&&(Wi||j!=="onCompositionStart"?j==="onCompositionEnd"&&Wi&&(F=Ey()):(cr=f,Kh="value"in cr?cr.value:cr.textContent,Wi=!0)),O=Aa(d,j),0<O.length&&(j=new Eg(j,t,null,n,f),p.push({event:j,listeners:O}),F?j.data=F:(F=Iy(n),F!==null&&(j.data=F)))),(F=GT?KT(t,n):qT(t,n))&&(d=Aa(d,"onBeforeInput"),0<d.length&&(f=new Eg("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:d}),f.data=F))}My(p,e)})}function Lo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Aa(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=bo(t,n),s!=null&&r.unshift(Lo(t,s,i)),s=bo(t,e),s!=null&&r.push(Lo(t,s,i))),t=t.return}return r}function ji(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Og(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,d=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&d!==null&&(a=d,i?(c=bo(n,s),c!=null&&o.unshift(Lo(n,c,a))):i||(c=bo(n,s),c!=null&&o.push(Lo(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var a1=/\r\n?/g,c1=/\u0000|\uFFFD/g;function Dg(t){return(typeof t=="string"?t:""+t).replace(a1,`
`).replace(c1,"")}function Xl(t,e,n){if(e=Dg(e),Dg(t)!==e&&n)throw Error(R(425))}function Ra(){}var jd=null,Ud=null;function $d(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var zd=typeof setTimeout=="function"?setTimeout:void 0,u1=typeof clearTimeout=="function"?clearTimeout:void 0,Lg=typeof Promise=="function"?Promise:void 0,d1=typeof queueMicrotask=="function"?queueMicrotask:typeof Lg<"u"?function(t){return Lg.resolve(null).then(t).catch(h1)}:zd;function h1(t){setTimeout(function(){throw t})}function Vu(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ao(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ao(e)}function mr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Mg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ks=Math.random().toString(36).slice(2),pn="__reactFiber$"+ks,Mo="__reactProps$"+ks,$n="__reactContainer$"+ks,Wd="__reactEvents$"+ks,f1="__reactListeners$"+ks,p1="__reactHandles$"+ks;function Yr(t){var e=t[pn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[$n]||n[pn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Mg(t);t!==null;){if(n=t[pn])return n;t=Mg(t)}return e}t=n,n=t.parentNode}return null}function ol(t){return t=t[pn]||t[$n],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Vi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(R(33))}function Cc(t){return t[Mo]||null}var Bd=[],Gi=-1;function Ar(t){return{current:t}}function Te(t){0>Gi||(t.current=Bd[Gi],Bd[Gi]=null,Gi--)}function Ce(t,e){Gi++,Bd[Gi]=t.current,t.current=e}var kr={},it=Ar(kr),yt=Ar(!1),oi=kr;function ds(t,e){var n=t.type.contextTypes;if(!n)return kr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function wt(t){return t=t.childContextTypes,t!=null}function Oa(){Te(yt),Te(it)}function Fg(t,e,n){if(it.current!==kr)throw Error(R(168));Ce(it,e),Ce(yt,n)}function jy(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(R(108,JI(t)||"Unknown",i));return xe({},n,r)}function Da(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||kr,oi=it.current,Ce(it,t),Ce(yt,yt.current),!0}function jg(t,e,n){var r=t.stateNode;if(!r)throw Error(R(169));n?(t=jy(t,e,oi),r.__reactInternalMemoizedMergedChildContext=t,Te(yt),Te(it),Ce(it,t)):Te(yt),Ce(yt,n)}var bn=null,Sc=!1,Gu=!1;function Uy(t){bn===null?bn=[t]:bn.push(t)}function m1(t){Sc=!0,Uy(t)}function Rr(){if(!Gu&&bn!==null){Gu=!0;var t=0,e=fe;try{var n=bn;for(fe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}bn=null,Sc=!1}catch(i){throw bn!==null&&(bn=bn.slice(t+1)),uy(Bh,Rr),i}finally{fe=e,Gu=!1}}return null}var Ki=[],qi=0,La=null,Ma=0,jt=[],Ut=0,li=null,Pn=1,An="";function Gr(t,e){Ki[qi++]=Ma,Ki[qi++]=La,La=t,Ma=e}function $y(t,e,n){jt[Ut++]=Pn,jt[Ut++]=An,jt[Ut++]=li,li=t;var r=Pn;t=An;var i=32-tn(r)-1;r&=~(1<<i),n+=1;var s=32-tn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Pn=1<<32-tn(e)+i|n<<i|r,An=s+t}else Pn=1<<s|n<<i|r,An=t}function Jh(t){t.return!==null&&(Gr(t,1),$y(t,1,0))}function Zh(t){for(;t===La;)La=Ki[--qi],Ki[qi]=null,Ma=Ki[--qi],Ki[qi]=null;for(;t===li;)li=jt[--Ut],jt[Ut]=null,An=jt[--Ut],jt[Ut]=null,Pn=jt[--Ut],jt[Ut]=null}var xt=null,bt=null,ke=!1,Jt=null;function zy(t,e){var n=$t(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ug(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,xt=t,bt=mr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,xt=t,bt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=li!==null?{id:Pn,overflow:An}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=$t(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,xt=t,bt=null,!0):!1;default:return!1}}function Hd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Vd(t){if(ke){var e=bt;if(e){var n=e;if(!Ug(t,e)){if(Hd(t))throw Error(R(418));e=mr(n.nextSibling);var r=xt;e&&Ug(t,e)?zy(r,n):(t.flags=t.flags&-4097|2,ke=!1,xt=t)}}else{if(Hd(t))throw Error(R(418));t.flags=t.flags&-4097|2,ke=!1,xt=t}}}function $g(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;xt=t}function Jl(t){if(t!==xt)return!1;if(!ke)return $g(t),ke=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!$d(t.type,t.memoizedProps)),e&&(e=bt)){if(Hd(t))throw Wy(),Error(R(418));for(;e;)zy(t,e),e=mr(e.nextSibling)}if($g(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(R(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){bt=mr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}bt=null}}else bt=xt?mr(t.stateNode.nextSibling):null;return!0}function Wy(){for(var t=bt;t;)t=mr(t.nextSibling)}function hs(){bt=xt=null,ke=!1}function ef(t){Jt===null?Jt=[t]:Jt.push(t)}var g1=Vn.ReactCurrentBatchConfig;function Js(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var r=n.stateNode}if(!r)throw Error(R(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,t))}return t}function Zl(t,e){throw t=Object.prototype.toString.call(e),Error(R(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function zg(t){var e=t._init;return e(t._payload)}function By(t){function e(v,_){if(t){var y=v.deletions;y===null?(v.deletions=[_],v.flags|=16):y.push(_)}}function n(v,_){if(!t)return null;for(;_!==null;)e(v,_),_=_.sibling;return null}function r(v,_){for(v=new Map;_!==null;)_.key!==null?v.set(_.key,_):v.set(_.index,_),_=_.sibling;return v}function i(v,_){return v=yr(v,_),v.index=0,v.sibling=null,v}function s(v,_,y){return v.index=y,t?(y=v.alternate,y!==null?(y=y.index,y<_?(v.flags|=2,_):y):(v.flags|=2,_)):(v.flags|=1048576,_)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,_,y,N){return _===null||_.tag!==6?(_=Zu(y,v.mode,N),_.return=v,_):(_=i(_,y),_.return=v,_)}function c(v,_,y,N){var A=y.type;return A===zi?f(v,_,y.props.children,N,y.key):_!==null&&(_.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===nr&&zg(A)===_.type)?(N=i(_,y.props),N.ref=Js(v,_,y),N.return=v,N):(N=va(y.type,y.key,y.props,null,v.mode,N),N.ref=Js(v,_,y),N.return=v,N)}function d(v,_,y,N){return _===null||_.tag!==4||_.stateNode.containerInfo!==y.containerInfo||_.stateNode.implementation!==y.implementation?(_=ed(y,v.mode,N),_.return=v,_):(_=i(_,y.children||[]),_.return=v,_)}function f(v,_,y,N,A){return _===null||_.tag!==7?(_=ri(y,v.mode,N,A),_.return=v,_):(_=i(_,y),_.return=v,_)}function p(v,_,y){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Zu(""+_,v.mode,y),_.return=v,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Wl:return y=va(_.type,_.key,_.props,null,v.mode,y),y.ref=Js(v,null,_),y.return=v,y;case $i:return _=ed(_,v.mode,y),_.return=v,_;case nr:var N=_._init;return p(v,N(_._payload),y)}if(oo(_)||Ks(_))return _=ri(_,v.mode,y,null),_.return=v,_;Zl(v,_)}return null}function g(v,_,y,N){var A=_!==null?_.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return A!==null?null:a(v,_,""+y,N);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Wl:return y.key===A?c(v,_,y,N):null;case $i:return y.key===A?d(v,_,y,N):null;case nr:return A=y._init,g(v,_,A(y._payload),N)}if(oo(y)||Ks(y))return A!==null?null:f(v,_,y,N,null);Zl(v,y)}return null}function w(v,_,y,N,A){if(typeof N=="string"&&N!==""||typeof N=="number")return v=v.get(y)||null,a(_,v,""+N,A);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Wl:return v=v.get(N.key===null?y:N.key)||null,c(_,v,N,A);case $i:return v=v.get(N.key===null?y:N.key)||null,d(_,v,N,A);case nr:var O=N._init;return w(v,_,y,O(N._payload),A)}if(oo(N)||Ks(N))return v=v.get(y)||null,f(_,v,N,A,null);Zl(_,N)}return null}function C(v,_,y,N){for(var A=null,O=null,F=_,j=_=0,se=null;F!==null&&j<y.length;j++){F.index>j?(se=F,F=null):se=F.sibling;var J=g(v,F,y[j],N);if(J===null){F===null&&(F=se);break}t&&F&&J.alternate===null&&e(v,F),_=s(J,_,j),O===null?A=J:O.sibling=J,O=J,F=se}if(j===y.length)return n(v,F),ke&&Gr(v,j),A;if(F===null){for(;j<y.length;j++)F=p(v,y[j],N),F!==null&&(_=s(F,_,j),O===null?A=F:O.sibling=F,O=F);return ke&&Gr(v,j),A}for(F=r(v,F);j<y.length;j++)se=w(F,v,j,y[j],N),se!==null&&(t&&se.alternate!==null&&F.delete(se.key===null?j:se.key),_=s(se,_,j),O===null?A=se:O.sibling=se,O=se);return t&&F.forEach(function(ot){return e(v,ot)}),ke&&Gr(v,j),A}function T(v,_,y,N){var A=Ks(y);if(typeof A!="function")throw Error(R(150));if(y=A.call(y),y==null)throw Error(R(151));for(var O=A=null,F=_,j=_=0,se=null,J=y.next();F!==null&&!J.done;j++,J=y.next()){F.index>j?(se=F,F=null):se=F.sibling;var ot=g(v,F,J.value,N);if(ot===null){F===null&&(F=se);break}t&&F&&ot.alternate===null&&e(v,F),_=s(ot,_,j),O===null?A=ot:O.sibling=ot,O=ot,F=se}if(J.done)return n(v,F),ke&&Gr(v,j),A;if(F===null){for(;!J.done;j++,J=y.next())J=p(v,J.value,N),J!==null&&(_=s(J,_,j),O===null?A=J:O.sibling=J,O=J);return ke&&Gr(v,j),A}for(F=r(v,F);!J.done;j++,J=y.next())J=w(F,v,j,J.value,N),J!==null&&(t&&J.alternate!==null&&F.delete(J.key===null?j:J.key),_=s(J,_,j),O===null?A=J:O.sibling=J,O=J);return t&&F.forEach(function(ln){return e(v,ln)}),ke&&Gr(v,j),A}function x(v,_,y,N){if(typeof y=="object"&&y!==null&&y.type===zi&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Wl:e:{for(var A=y.key,O=_;O!==null;){if(O.key===A){if(A=y.type,A===zi){if(O.tag===7){n(v,O.sibling),_=i(O,y.props.children),_.return=v,v=_;break e}}else if(O.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===nr&&zg(A)===O.type){n(v,O.sibling),_=i(O,y.props),_.ref=Js(v,O,y),_.return=v,v=_;break e}n(v,O);break}else e(v,O);O=O.sibling}y.type===zi?(_=ri(y.props.children,v.mode,N,y.key),_.return=v,v=_):(N=va(y.type,y.key,y.props,null,v.mode,N),N.ref=Js(v,_,y),N.return=v,v=N)}return o(v);case $i:e:{for(O=y.key;_!==null;){if(_.key===O)if(_.tag===4&&_.stateNode.containerInfo===y.containerInfo&&_.stateNode.implementation===y.implementation){n(v,_.sibling),_=i(_,y.children||[]),_.return=v,v=_;break e}else{n(v,_);break}else e(v,_);_=_.sibling}_=ed(y,v.mode,N),_.return=v,v=_}return o(v);case nr:return O=y._init,x(v,_,O(y._payload),N)}if(oo(y))return C(v,_,y,N);if(Ks(y))return T(v,_,y,N);Zl(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,_!==null&&_.tag===6?(n(v,_.sibling),_=i(_,y),_.return=v,v=_):(n(v,_),_=Zu(y,v.mode,N),_.return=v,v=_),o(v)):n(v,_)}return x}var fs=By(!0),Hy=By(!1),Fa=Ar(null),ja=null,Qi=null,tf=null;function nf(){tf=Qi=ja=null}function rf(t){var e=Fa.current;Te(Fa),t._currentValue=e}function Gd(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function rs(t,e){ja=t,tf=Qi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(_t=!0),t.firstContext=null)}function Ht(t){var e=t._currentValue;if(tf!==t)if(t={context:t,memoizedValue:e,next:null},Qi===null){if(ja===null)throw Error(R(308));Qi=t,ja.dependencies={lanes:0,firstContext:t}}else Qi=Qi.next=t;return e}var Xr=null;function sf(t){Xr===null?Xr=[t]:Xr.push(t)}function Vy(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,sf(e)):(n.next=i.next,i.next=n),e.interleaved=n,zn(t,r)}function zn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var rr=!1;function of(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gy(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Fn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function gr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ae&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,zn(t,n)}return i=r.interleaved,i===null?(e.next=e,sf(r)):(e.next=i.next,i.next=e),r.interleaved=e,zn(t,n)}function ha(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Hh(t,n)}}function Wg(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ua(t,e,n,r){var i=t.updateQueue;rr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,d=c.next;c.next=null,o===null?s=d:o.next=d,o=c;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=d:a.next=d,f.lastBaseUpdate=c))}if(s!==null){var p=i.baseState;o=0,f=d=c=null,a=s;do{var g=a.lane,w=a.eventTime;if((r&g)===g){f!==null&&(f=f.next={eventTime:w,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var C=t,T=a;switch(g=e,w=n,T.tag){case 1:if(C=T.payload,typeof C=="function"){p=C.call(w,p,g);break e}p=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=T.payload,g=typeof C=="function"?C.call(w,p,g):C,g==null)break e;p=xe({},p,g);break e;case 2:rr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[a]:g.push(a))}else w={eventTime:w,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(d=f=w,c=p):f=f.next=w,o|=g;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;g=a,a=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(f===null&&(c=p),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ci|=o,t.lanes=o,t.memoizedState=p}}function Bg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(R(191,i));i.call(r)}}}var ll={},gn=Ar(ll),Fo=Ar(ll),jo=Ar(ll);function Jr(t){if(t===ll)throw Error(R(174));return t}function lf(t,e){switch(Ce(jo,e),Ce(Fo,t),Ce(gn,ll),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:kd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=kd(e,t)}Te(gn),Ce(gn,e)}function ps(){Te(gn),Te(Fo),Te(jo)}function Ky(t){Jr(jo.current);var e=Jr(gn.current),n=kd(e,t.type);e!==n&&(Ce(Fo,t),Ce(gn,n))}function af(t){Fo.current===t&&(Te(gn),Te(Fo))}var Ne=Ar(0);function $a(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ku=[];function cf(){for(var t=0;t<Ku.length;t++)Ku[t]._workInProgressVersionPrimary=null;Ku.length=0}var fa=Vn.ReactCurrentDispatcher,qu=Vn.ReactCurrentBatchConfig,ai=0,be=null,Ue=null,Ve=null,za=!1,go=!1,Uo=0,_1=0;function tt(){throw Error(R(321))}function uf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!on(t[n],e[n]))return!1;return!0}function df(t,e,n,r,i,s){if(ai=s,be=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,fa.current=t===null||t.memoizedState===null?E1:C1,t=n(r,i),go){s=0;do{if(go=!1,Uo=0,25<=s)throw Error(R(301));s+=1,Ve=Ue=null,e.updateQueue=null,fa.current=S1,t=n(r,i)}while(go)}if(fa.current=Wa,e=Ue!==null&&Ue.next!==null,ai=0,Ve=Ue=be=null,za=!1,e)throw Error(R(300));return t}function hf(){var t=Uo!==0;return Uo=0,t}function fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?be.memoizedState=Ve=t:Ve=Ve.next=t,Ve}function Vt(){if(Ue===null){var t=be.alternate;t=t!==null?t.memoizedState:null}else t=Ue.next;var e=Ve===null?be.memoizedState:Ve.next;if(e!==null)Ve=e,Ue=t;else{if(t===null)throw Error(R(310));Ue=t,t={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},Ve===null?be.memoizedState=Ve=t:Ve=Ve.next=t}return Ve}function $o(t,e){return typeof e=="function"?e(t):e}function Qu(t){var e=Vt(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var r=Ue,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,c=null,d=s;do{var f=d.lane;if((ai&f)===f)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var p={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(a=c=p,o=r):c=c.next=p,be.lanes|=f,ci|=f}d=d.next}while(d!==null&&d!==s);c===null?o=r:c.next=a,on(r,e.memoizedState)||(_t=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,be.lanes|=s,ci|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Yu(t){var e=Vt(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);on(s,e.memoizedState)||(_t=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function qy(){}function Qy(t,e){var n=be,r=Vt(),i=e(),s=!on(r.memoizedState,i);if(s&&(r.memoizedState=i,_t=!0),r=r.queue,ff(Jy.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ve!==null&&Ve.memoizedState.tag&1){if(n.flags|=2048,zo(9,Xy.bind(null,n,r,i,e),void 0,null),qe===null)throw Error(R(349));ai&30||Yy(n,e,i)}return i}function Yy(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=be.updateQueue,e===null?(e={lastEffect:null,stores:null},be.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Xy(t,e,n,r){e.value=n,e.getSnapshot=r,Zy(e)&&e0(t)}function Jy(t,e,n){return n(function(){Zy(e)&&e0(t)})}function Zy(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!on(t,n)}catch{return!0}}function e0(t){var e=zn(t,1);e!==null&&nn(e,t,1,-1)}function Hg(t){var e=fn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$o,lastRenderedState:t},e.queue=t,t=t.dispatch=w1.bind(null,be,t),[e.memoizedState,t]}function zo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=be.updateQueue,e===null?(e={lastEffect:null,stores:null},be.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function t0(){return Vt().memoizedState}function pa(t,e,n,r){var i=fn();be.flags|=t,i.memoizedState=zo(1|e,n,void 0,r===void 0?null:r)}function Ic(t,e,n,r){var i=Vt();r=r===void 0?null:r;var s=void 0;if(Ue!==null){var o=Ue.memoizedState;if(s=o.destroy,r!==null&&uf(r,o.deps)){i.memoizedState=zo(e,n,s,r);return}}be.flags|=t,i.memoizedState=zo(1|e,n,s,r)}function Vg(t,e){return pa(8390656,8,t,e)}function ff(t,e){return Ic(2048,8,t,e)}function n0(t,e){return Ic(4,2,t,e)}function r0(t,e){return Ic(4,4,t,e)}function i0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function s0(t,e,n){return n=n!=null?n.concat([t]):null,Ic(4,4,i0.bind(null,e,t),n)}function pf(){}function o0(t,e){var n=Vt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&uf(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function l0(t,e){var n=Vt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&uf(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function a0(t,e,n){return ai&21?(on(n,e)||(n=fy(),be.lanes|=n,ci|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,_t=!0),t.memoizedState=n)}function v1(t,e){var n=fe;fe=n!==0&&4>n?n:4,t(!0);var r=qu.transition;qu.transition={};try{t(!1),e()}finally{fe=n,qu.transition=r}}function c0(){return Vt().memoizedState}function y1(t,e,n){var r=vr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},u0(t))d0(e,n);else if(n=Vy(t,e,n,r),n!==null){var i=ft();nn(n,t,r,i),h0(n,e,r)}}function w1(t,e,n){var r=vr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(u0(t))d0(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,on(a,o)){var c=e.interleaved;c===null?(i.next=i,sf(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=Vy(t,e,i,r),n!==null&&(i=ft(),nn(n,t,r,i),h0(n,e,r))}}function u0(t){var e=t.alternate;return t===be||e!==null&&e===be}function d0(t,e){go=za=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function h0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Hh(t,n)}}var Wa={readContext:Ht,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useInsertionEffect:tt,useLayoutEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useMutableSource:tt,useSyncExternalStore:tt,useId:tt,unstable_isNewReconciler:!1},E1={readContext:Ht,useCallback:function(t,e){return fn().memoizedState=[t,e===void 0?null:e],t},useContext:Ht,useEffect:Vg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,pa(4194308,4,i0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return pa(4194308,4,t,e)},useInsertionEffect:function(t,e){return pa(4,2,t,e)},useMemo:function(t,e){var n=fn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=fn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=y1.bind(null,be,t),[r.memoizedState,t]},useRef:function(t){var e=fn();return t={current:t},e.memoizedState=t},useState:Hg,useDebugValue:pf,useDeferredValue:function(t){return fn().memoizedState=t},useTransition:function(){var t=Hg(!1),e=t[0];return t=v1.bind(null,t[1]),fn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=be,i=fn();if(ke){if(n===void 0)throw Error(R(407));n=n()}else{if(n=e(),qe===null)throw Error(R(349));ai&30||Yy(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Vg(Jy.bind(null,r,s,t),[t]),r.flags|=2048,zo(9,Xy.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=fn(),e=qe.identifierPrefix;if(ke){var n=An,r=Pn;n=(r&~(1<<32-tn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Uo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=_1++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},C1={readContext:Ht,useCallback:o0,useContext:Ht,useEffect:ff,useImperativeHandle:s0,useInsertionEffect:n0,useLayoutEffect:r0,useMemo:l0,useReducer:Qu,useRef:t0,useState:function(){return Qu($o)},useDebugValue:pf,useDeferredValue:function(t){var e=Vt();return a0(e,Ue.memoizedState,t)},useTransition:function(){var t=Qu($o)[0],e=Vt().memoizedState;return[t,e]},useMutableSource:qy,useSyncExternalStore:Qy,useId:c0,unstable_isNewReconciler:!1},S1={readContext:Ht,useCallback:o0,useContext:Ht,useEffect:ff,useImperativeHandle:s0,useInsertionEffect:n0,useLayoutEffect:r0,useMemo:l0,useReducer:Yu,useRef:t0,useState:function(){return Yu($o)},useDebugValue:pf,useDeferredValue:function(t){var e=Vt();return Ue===null?e.memoizedState=t:a0(e,Ue.memoizedState,t)},useTransition:function(){var t=Yu($o)[0],e=Vt().memoizedState;return[t,e]},useMutableSource:qy,useSyncExternalStore:Qy,useId:c0,unstable_isNewReconciler:!1};function Yt(t,e){if(t&&t.defaultProps){e=xe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Kd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:xe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Tc={isMounted:function(t){return(t=t._reactInternals)?vi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ft(),i=vr(t),s=Fn(r,i);s.payload=e,n!=null&&(s.callback=n),e=gr(t,s,i),e!==null&&(nn(e,t,i,r),ha(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ft(),i=vr(t),s=Fn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=gr(t,s,i),e!==null&&(nn(e,t,i,r),ha(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ft(),r=vr(t),i=Fn(n,r);i.tag=2,e!=null&&(i.callback=e),e=gr(t,i,r),e!==null&&(nn(e,t,r,n),ha(e,t,r))}};function Gg(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Oo(n,r)||!Oo(i,s):!0}function f0(t,e,n){var r=!1,i=kr,s=e.contextType;return typeof s=="object"&&s!==null?s=Ht(s):(i=wt(e)?oi:it.current,r=e.contextTypes,s=(r=r!=null)?ds(t,i):kr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Tc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Kg(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Tc.enqueueReplaceState(e,e.state,null)}function qd(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},of(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ht(s):(s=wt(e)?oi:it.current,i.context=ds(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Kd(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Tc.enqueueReplaceState(i,i.state,null),Ua(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ms(t,e){try{var n="",r=e;do n+=XI(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Xu(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Qd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var I1=typeof WeakMap=="function"?WeakMap:Map;function p0(t,e,n){n=Fn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ha||(Ha=!0,sh=r),Qd(t,e)},n}function m0(t,e,n){n=Fn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Qd(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Qd(t,e),typeof r!="function"&&(_r===null?_r=new Set([this]):_r.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function qg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new I1;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=j1.bind(null,t,e,n),e.then(t,t))}function Qg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Yg(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Fn(-1,1),e.tag=2,gr(n,e,1))),n.lanes|=1),t)}var T1=Vn.ReactCurrentOwner,_t=!1;function dt(t,e,n,r){e.child=t===null?Hy(e,null,n,r):fs(e,t.child,n,r)}function Xg(t,e,n,r,i){n=n.render;var s=e.ref;return rs(e,i),r=df(t,e,n,r,s,i),n=hf(),t!==null&&!_t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Wn(t,e,i)):(ke&&n&&Jh(e),e.flags|=1,dt(t,e,r,i),e.child)}function Jg(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Cf(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,g0(t,e,s,r,i)):(t=va(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Oo,n(o,r)&&t.ref===e.ref)return Wn(t,e,i)}return e.flags|=1,t=yr(s,r),t.ref=e.ref,t.return=e,e.child=t}function g0(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Oo(s,r)&&t.ref===e.ref)if(_t=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(_t=!0);else return e.lanes=t.lanes,Wn(t,e,i)}return Yd(t,e,n,r,i)}function _0(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(Xi,Nt),Nt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ce(Xi,Nt),Nt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ce(Xi,Nt),Nt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ce(Xi,Nt),Nt|=r;return dt(t,e,i,n),e.child}function v0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Yd(t,e,n,r,i){var s=wt(n)?oi:it.current;return s=ds(e,s),rs(e,i),n=df(t,e,n,r,s,i),r=hf(),t!==null&&!_t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Wn(t,e,i)):(ke&&r&&Jh(e),e.flags|=1,dt(t,e,n,i),e.child)}function Zg(t,e,n,r,i){if(wt(n)){var s=!0;Da(e)}else s=!1;if(rs(e,i),e.stateNode===null)ma(t,e),f0(e,n,r),qd(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Ht(d):(d=wt(n)?oi:it.current,d=ds(e,d));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==d)&&Kg(e,o,r,d),rr=!1;var g=e.memoizedState;o.state=g,Ua(e,r,o,i),c=e.memoizedState,a!==r||g!==c||yt.current||rr?(typeof f=="function"&&(Kd(e,n,f,r),c=e.memoizedState),(a=rr||Gg(e,n,a,r,g,c,d))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=d,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Gy(t,e),a=e.memoizedProps,d=e.type===e.elementType?a:Yt(e.type,a),o.props=d,p=e.pendingProps,g=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ht(c):(c=wt(n)?oi:it.current,c=ds(e,c));var w=n.getDerivedStateFromProps;(f=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||g!==c)&&Kg(e,o,r,c),rr=!1,g=e.memoizedState,o.state=g,Ua(e,r,o,i);var C=e.memoizedState;a!==p||g!==C||yt.current||rr?(typeof w=="function"&&(Kd(e,n,w,r),C=e.memoizedState),(d=rr||Gg(e,n,d,r,g,C,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,C,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,C,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=C),o.props=r,o.state=C,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return Xd(t,e,n,r,s,i)}function Xd(t,e,n,r,i,s){v0(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&jg(e,n,!1),Wn(t,e,s);r=e.stateNode,T1.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=fs(e,t.child,null,s),e.child=fs(e,null,a,s)):dt(t,e,a,s),e.memoizedState=r.state,i&&jg(e,n,!0),e.child}function y0(t){var e=t.stateNode;e.pendingContext?Fg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Fg(t,e.context,!1),lf(t,e.containerInfo)}function e_(t,e,n,r,i){return hs(),ef(i),e.flags|=256,dt(t,e,n,r),e.child}var Jd={dehydrated:null,treeContext:null,retryLane:0};function Zd(t){return{baseLanes:t,cachePool:null,transitions:null}}function w0(t,e,n){var r=e.pendingProps,i=Ne.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ce(Ne,i&1),t===null)return Vd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=bc(o,r,0,null),t=ri(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Zd(n),e.memoizedState=Jd,t):mf(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return k1(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=yr(i,c),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=yr(a,s):(s=ri(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Zd(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Jd,r}return s=t.child,t=s.sibling,r=yr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function mf(t,e){return e=bc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ea(t,e,n,r){return r!==null&&ef(r),fs(e,t.child,null,n),t=mf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function k1(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Xu(Error(R(422))),ea(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=bc({mode:"visible",children:r.children},i,0,null),s=ri(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&fs(e,t.child,null,o),e.child.memoizedState=Zd(o),e.memoizedState=Jd,s);if(!(e.mode&1))return ea(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(R(419)),r=Xu(s,r,void 0),ea(t,e,o,r)}if(a=(o&t.childLanes)!==0,_t||a){if(r=qe,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,zn(t,i),nn(r,t,i,-1))}return Ef(),r=Xu(Error(R(421))),ea(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=U1.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,bt=mr(i.nextSibling),xt=e,ke=!0,Jt=null,t!==null&&(jt[Ut++]=Pn,jt[Ut++]=An,jt[Ut++]=li,Pn=t.id,An=t.overflow,li=e),e=mf(e,r.children),e.flags|=4096,e)}function t_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Gd(t.return,e,n)}function Ju(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function E0(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(dt(t,e,r.children,n),r=Ne.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&t_(t,n,e);else if(t.tag===19)t_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ce(Ne,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&$a(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ju(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&$a(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ju(e,!0,n,null,s);break;case"together":Ju(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ma(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Wn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ci|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(R(153));if(e.child!==null){for(t=e.child,n=yr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=yr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function N1(t,e,n){switch(e.tag){case 3:y0(e),hs();break;case 5:Ky(e);break;case 1:wt(e.type)&&Da(e);break;case 4:lf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ce(Fa,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ce(Ne,Ne.current&1),e.flags|=128,null):n&e.child.childLanes?w0(t,e,n):(Ce(Ne,Ne.current&1),t=Wn(t,e,n),t!==null?t.sibling:null);Ce(Ne,Ne.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return E0(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ce(Ne,Ne.current),r)break;return null;case 22:case 23:return e.lanes=0,_0(t,e,n)}return Wn(t,e,n)}var C0,eh,S0,I0;C0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};eh=function(){};S0=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Jr(gn.current);var s=null;switch(n){case"input":i=Cd(t,i),r=Cd(t,r),s=[];break;case"select":i=xe({},i,{value:void 0}),r=xe({},r,{value:void 0}),s=[];break;case"textarea":i=Td(t,i),r=Td(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ra)}Nd(n,r);var o;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var a=i[d];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ko.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var c=r[d];if(a=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&c!==a&&(c!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(s=s||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ko.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ie("scroll",t),s||a===c||(s=[])):(s=s||[]).push(d,c))}n&&(s=s||[]).push("style",n);var d=s;(e.updateQueue=d)&&(e.flags|=4)}};I0=function(t,e,n,r){n!==r&&(e.flags|=4)};function Zs(t,e){if(!ke)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function nt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function b1(t,e,n){var r=e.pendingProps;switch(Zh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(e),null;case 1:return wt(e.type)&&Oa(),nt(e),null;case 3:return r=e.stateNode,ps(),Te(yt),Te(it),cf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Jl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Jt!==null&&(ah(Jt),Jt=null))),eh(t,e),nt(e),null;case 5:af(e);var i=Jr(jo.current);if(n=e.type,t!==null&&e.stateNode!=null)S0(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(R(166));return nt(e),null}if(t=Jr(gn.current),Jl(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[pn]=e,r[Mo]=s,t=(e.mode&1)!==0,n){case"dialog":Ie("cancel",r),Ie("close",r);break;case"iframe":case"object":case"embed":Ie("load",r);break;case"video":case"audio":for(i=0;i<ao.length;i++)Ie(ao[i],r);break;case"source":Ie("error",r);break;case"img":case"image":case"link":Ie("error",r),Ie("load",r);break;case"details":Ie("toggle",r);break;case"input":ug(r,s),Ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ie("invalid",r);break;case"textarea":hg(r,s),Ie("invalid",r)}Nd(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Xl(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Xl(r.textContent,a,t),i=["children",""+a]):ko.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ie("scroll",r)}switch(n){case"input":Bl(r),dg(r,s,!0);break;case"textarea":Bl(r),fg(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ra)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Jv(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[pn]=e,t[Mo]=r,C0(t,e,!1,!1),e.stateNode=t;e:{switch(o=bd(n,r),n){case"dialog":Ie("cancel",t),Ie("close",t),i=r;break;case"iframe":case"object":case"embed":Ie("load",t),i=r;break;case"video":case"audio":for(i=0;i<ao.length;i++)Ie(ao[i],t);i=r;break;case"source":Ie("error",t),i=r;break;case"img":case"image":case"link":Ie("error",t),Ie("load",t),i=r;break;case"details":Ie("toggle",t),i=r;break;case"input":ug(t,r),i=Cd(t,r),Ie("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=xe({},r,{value:void 0}),Ie("invalid",t);break;case"textarea":hg(t,r),i=Td(t,r),Ie("invalid",t);break;default:i=r}Nd(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="style"?ty(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Zv(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&No(t,c):typeof c=="number"&&No(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ko.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Ie("scroll",t):c!=null&&jh(t,s,c,o))}switch(n){case"input":Bl(t),dg(t,r,!1);break;case"textarea":Bl(t),fg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Tr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Zi(t,!!r.multiple,s,!1):r.defaultValue!=null&&Zi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ra)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return nt(e),null;case 6:if(t&&e.stateNode!=null)I0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(R(166));if(n=Jr(jo.current),Jr(gn.current),Jl(e)){if(r=e.stateNode,n=e.memoizedProps,r[pn]=e,(s=r.nodeValue!==n)&&(t=xt,t!==null))switch(t.tag){case 3:Xl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Xl(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[pn]=e,e.stateNode=r}return nt(e),null;case 13:if(Te(Ne),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ke&&bt!==null&&e.mode&1&&!(e.flags&128))Wy(),hs(),e.flags|=98560,s=!1;else if(s=Jl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(R(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(R(317));s[pn]=e}else hs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;nt(e),s=!1}else Jt!==null&&(ah(Jt),Jt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ne.current&1?ze===0&&(ze=3):Ef())),e.updateQueue!==null&&(e.flags|=4),nt(e),null);case 4:return ps(),eh(t,e),t===null&&Do(e.stateNode.containerInfo),nt(e),null;case 10:return rf(e.type._context),nt(e),null;case 17:return wt(e.type)&&Oa(),nt(e),null;case 19:if(Te(Ne),s=e.memoizedState,s===null)return nt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Zs(s,!1);else{if(ze!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=$a(t),o!==null){for(e.flags|=128,Zs(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ce(Ne,Ne.current&1|2),e.child}t=t.sibling}s.tail!==null&&Me()>gs&&(e.flags|=128,r=!0,Zs(s,!1),e.lanes=4194304)}else{if(!r)if(t=$a(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Zs(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ke)return nt(e),null}else 2*Me()-s.renderingStartTime>gs&&n!==1073741824&&(e.flags|=128,r=!0,Zs(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Me(),e.sibling=null,n=Ne.current,Ce(Ne,r?n&1|2:n&1),e):(nt(e),null);case 22:case 23:return wf(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Nt&1073741824&&(nt(e),e.subtreeFlags&6&&(e.flags|=8192)):nt(e),null;case 24:return null;case 25:return null}throw Error(R(156,e.tag))}function x1(t,e){switch(Zh(e),e.tag){case 1:return wt(e.type)&&Oa(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ps(),Te(yt),Te(it),cf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return af(e),null;case 13:if(Te(Ne),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(R(340));hs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Te(Ne),null;case 4:return ps(),null;case 10:return rf(e.type._context),null;case 22:case 23:return wf(),null;case 24:return null;default:return null}}var ta=!1,rt=!1,P1=typeof WeakSet=="function"?WeakSet:Set,W=null;function Yi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ae(t,e,r)}else n.current=null}function th(t,e,n){try{n()}catch(r){Ae(t,e,r)}}var n_=!1;function A1(t,e){if(jd=xa,t=xy(),Xh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,d=0,f=0,p=t,g=null;t:for(;;){for(var w;p!==n||i!==0&&p.nodeType!==3||(a=o+i),p!==s||r!==0&&p.nodeType!==3||(c=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(w=p.firstChild)!==null;)g=p,p=w;for(;;){if(p===t)break t;if(g===n&&++d===i&&(a=o),g===s&&++f===r&&(c=o),(w=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=w}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ud={focusedElem:t,selectionRange:n},xa=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var C=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var T=C.memoizedProps,x=C.memoizedState,v=e.stateNode,_=v.getSnapshotBeforeUpdate(e.elementType===e.type?T:Yt(e.type,T),x);v.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(N){Ae(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return C=n_,n_=!1,C}function _o(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&th(e,n,s)}i=i.next}while(i!==r)}}function kc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function nh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function T0(t){var e=t.alternate;e!==null&&(t.alternate=null,T0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[pn],delete e[Mo],delete e[Wd],delete e[f1],delete e[p1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function k0(t){return t.tag===5||t.tag===3||t.tag===4}function r_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||k0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ra));else if(r!==4&&(t=t.child,t!==null))for(rh(t,e,n),t=t.sibling;t!==null;)rh(t,e,n),t=t.sibling}function ih(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ih(t,e,n),t=t.sibling;t!==null;)ih(t,e,n),t=t.sibling}var Ye=null,Xt=!1;function er(t,e,n){for(n=n.child;n!==null;)N0(t,e,n),n=n.sibling}function N0(t,e,n){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(vc,n)}catch{}switch(n.tag){case 5:rt||Yi(n,e);case 6:var r=Ye,i=Xt;Ye=null,er(t,e,n),Ye=r,Xt=i,Ye!==null&&(Xt?(t=Ye,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ye.removeChild(n.stateNode));break;case 18:Ye!==null&&(Xt?(t=Ye,n=n.stateNode,t.nodeType===8?Vu(t.parentNode,n):t.nodeType===1&&Vu(t,n),Ao(t)):Vu(Ye,n.stateNode));break;case 4:r=Ye,i=Xt,Ye=n.stateNode.containerInfo,Xt=!0,er(t,e,n),Ye=r,Xt=i;break;case 0:case 11:case 14:case 15:if(!rt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&th(n,e,o),i=i.next}while(i!==r)}er(t,e,n);break;case 1:if(!rt&&(Yi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ae(n,e,a)}er(t,e,n);break;case 21:er(t,e,n);break;case 22:n.mode&1?(rt=(r=rt)||n.memoizedState!==null,er(t,e,n),rt=r):er(t,e,n);break;default:er(t,e,n)}}function i_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new P1),e.forEach(function(r){var i=$1.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Qt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ye=a.stateNode,Xt=!1;break e;case 3:Ye=a.stateNode.containerInfo,Xt=!0;break e;case 4:Ye=a.stateNode.containerInfo,Xt=!0;break e}a=a.return}if(Ye===null)throw Error(R(160));N0(s,o,i),Ye=null,Xt=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){Ae(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)b0(e,t),e=e.sibling}function b0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Qt(e,t),hn(t),r&4){try{_o(3,t,t.return),kc(3,t)}catch(T){Ae(t,t.return,T)}try{_o(5,t,t.return)}catch(T){Ae(t,t.return,T)}}break;case 1:Qt(e,t),hn(t),r&512&&n!==null&&Yi(n,n.return);break;case 5:if(Qt(e,t),hn(t),r&512&&n!==null&&Yi(n,n.return),t.flags&32){var i=t.stateNode;try{No(i,"")}catch(T){Ae(t,t.return,T)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Yv(i,s),bd(a,o);var d=bd(a,s);for(o=0;o<c.length;o+=2){var f=c[o],p=c[o+1];f==="style"?ty(i,p):f==="dangerouslySetInnerHTML"?Zv(i,p):f==="children"?No(i,p):jh(i,f,p,d)}switch(a){case"input":Sd(i,s);break;case"textarea":Xv(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var w=s.value;w!=null?Zi(i,!!s.multiple,w,!1):g!==!!s.multiple&&(s.defaultValue!=null?Zi(i,!!s.multiple,s.defaultValue,!0):Zi(i,!!s.multiple,s.multiple?[]:"",!1))}i[Mo]=s}catch(T){Ae(t,t.return,T)}}break;case 6:if(Qt(e,t),hn(t),r&4){if(t.stateNode===null)throw Error(R(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(T){Ae(t,t.return,T)}}break;case 3:if(Qt(e,t),hn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ao(e.containerInfo)}catch(T){Ae(t,t.return,T)}break;case 4:Qt(e,t),hn(t);break;case 13:Qt(e,t),hn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(vf=Me())),r&4&&i_(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(rt=(d=rt)||f,Qt(e,t),rt=d):Qt(e,t),hn(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!f&&t.mode&1)for(W=t,f=t.child;f!==null;){for(p=W=f;W!==null;){switch(g=W,w=g.child,g.tag){case 0:case 11:case 14:case 15:_o(4,g,g.return);break;case 1:Yi(g,g.return);var C=g.stateNode;if(typeof C.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,C.props=e.memoizedProps,C.state=e.memoizedState,C.componentWillUnmount()}catch(T){Ae(r,n,T)}}break;case 5:Yi(g,g.return);break;case 22:if(g.memoizedState!==null){o_(p);continue}}w!==null?(w.return=g,W=w):o_(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,d?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=p.stateNode,c=p.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=ey("display",o))}catch(T){Ae(t,t.return,T)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(T){Ae(t,t.return,T)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Qt(e,t),hn(t),r&4&&i_(t);break;case 21:break;default:Qt(e,t),hn(t)}}function hn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(k0(n)){var r=n;break e}n=n.return}throw Error(R(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(No(i,""),r.flags&=-33);var s=r_(t);ih(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=r_(t);rh(t,a,o);break;default:throw Error(R(161))}}catch(c){Ae(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function R1(t,e,n){W=t,x0(t)}function x0(t,e,n){for(var r=(t.mode&1)!==0;W!==null;){var i=W,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ta;if(!o){var a=i.alternate,c=a!==null&&a.memoizedState!==null||rt;a=ta;var d=rt;if(ta=o,(rt=c)&&!d)for(W=i;W!==null;)o=W,c=o.child,o.tag===22&&o.memoizedState!==null?l_(i):c!==null?(c.return=o,W=c):l_(i);for(;s!==null;)W=s,x0(s),s=s.sibling;W=i,ta=a,rt=d}s_(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,W=s):s_(t)}}function s_(t){for(;W!==null;){var e=W;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:rt||kc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!rt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Yt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Bg(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Bg(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&Ao(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}rt||e.flags&512&&nh(e)}catch(g){Ae(e,e.return,g)}}if(e===t){W=null;break}if(n=e.sibling,n!==null){n.return=e.return,W=n;break}W=e.return}}function o_(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var n=e.sibling;if(n!==null){n.return=e.return,W=n;break}W=e.return}}function l_(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{kc(4,e)}catch(c){Ae(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){Ae(e,i,c)}}var s=e.return;try{nh(e)}catch(c){Ae(e,s,c)}break;case 5:var o=e.return;try{nh(e)}catch(c){Ae(e,o,c)}}}catch(c){Ae(e,e.return,c)}if(e===t){W=null;break}var a=e.sibling;if(a!==null){a.return=e.return,W=a;break}W=e.return}}var O1=Math.ceil,Ba=Vn.ReactCurrentDispatcher,gf=Vn.ReactCurrentOwner,Wt=Vn.ReactCurrentBatchConfig,ae=0,qe=null,Fe=null,Je=0,Nt=0,Xi=Ar(0),ze=0,Wo=null,ci=0,Nc=0,_f=0,vo=null,gt=null,vf=0,gs=1/0,Nn=null,Ha=!1,sh=null,_r=null,na=!1,ur=null,Va=0,yo=0,oh=null,ga=-1,_a=0;function ft(){return ae&6?Me():ga!==-1?ga:ga=Me()}function vr(t){return t.mode&1?ae&2&&Je!==0?Je&-Je:g1.transition!==null?(_a===0&&(_a=fy()),_a):(t=fe,t!==0||(t=window.event,t=t===void 0?16:wy(t.type)),t):1}function nn(t,e,n,r){if(50<yo)throw yo=0,oh=null,Error(R(185));il(t,n,r),(!(ae&2)||t!==qe)&&(t===qe&&(!(ae&2)&&(Nc|=n),ze===4&&sr(t,Je)),Et(t,r),n===1&&ae===0&&!(e.mode&1)&&(gs=Me()+500,Sc&&Rr()))}function Et(t,e){var n=t.callbackNode;gT(t,e);var r=ba(t,t===qe?Je:0);if(r===0)n!==null&&gg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&gg(n),e===1)t.tag===0?m1(a_.bind(null,t)):Uy(a_.bind(null,t)),d1(function(){!(ae&6)&&Rr()}),n=null;else{switch(py(r)){case 1:n=Bh;break;case 4:n=dy;break;case 16:n=Na;break;case 536870912:n=hy;break;default:n=Na}n=F0(n,P0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function P0(t,e){if(ga=-1,_a=0,ae&6)throw Error(R(327));var n=t.callbackNode;if(is()&&t.callbackNode!==n)return null;var r=ba(t,t===qe?Je:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ga(t,r);else{e=r;var i=ae;ae|=2;var s=R0();(qe!==t||Je!==e)&&(Nn=null,gs=Me()+500,ni(t,e));do try{M1();break}catch(a){A0(t,a)}while(!0);nf(),Ba.current=s,ae=i,Fe!==null?e=0:(qe=null,Je=0,e=ze)}if(e!==0){if(e===2&&(i=Od(t),i!==0&&(r=i,e=lh(t,i))),e===1)throw n=Wo,ni(t,0),sr(t,r),Et(t,Me()),n;if(e===6)sr(t,r);else{if(i=t.current.alternate,!(r&30)&&!D1(i)&&(e=Ga(t,r),e===2&&(s=Od(t),s!==0&&(r=s,e=lh(t,s))),e===1))throw n=Wo,ni(t,0),sr(t,r),Et(t,Me()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(R(345));case 2:Kr(t,gt,Nn);break;case 3:if(sr(t,r),(r&130023424)===r&&(e=vf+500-Me(),10<e)){if(ba(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ft(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=zd(Kr.bind(null,t,gt,Nn),e);break}Kr(t,gt,Nn);break;case 4:if(sr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-tn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Me()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*O1(r/1960))-r,10<r){t.timeoutHandle=zd(Kr.bind(null,t,gt,Nn),r);break}Kr(t,gt,Nn);break;case 5:Kr(t,gt,Nn);break;default:throw Error(R(329))}}}return Et(t,Me()),t.callbackNode===n?P0.bind(null,t):null}function lh(t,e){var n=vo;return t.current.memoizedState.isDehydrated&&(ni(t,e).flags|=256),t=Ga(t,e),t!==2&&(e=gt,gt=n,e!==null&&ah(e)),t}function ah(t){gt===null?gt=t:gt.push.apply(gt,t)}function D1(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!on(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function sr(t,e){for(e&=~_f,e&=~Nc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-tn(e),r=1<<n;t[n]=-1,e&=~r}}function a_(t){if(ae&6)throw Error(R(327));is();var e=ba(t,0);if(!(e&1))return Et(t,Me()),null;var n=Ga(t,e);if(t.tag!==0&&n===2){var r=Od(t);r!==0&&(e=r,n=lh(t,r))}if(n===1)throw n=Wo,ni(t,0),sr(t,e),Et(t,Me()),n;if(n===6)throw Error(R(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Kr(t,gt,Nn),Et(t,Me()),null}function yf(t,e){var n=ae;ae|=1;try{return t(e)}finally{ae=n,ae===0&&(gs=Me()+500,Sc&&Rr())}}function ui(t){ur!==null&&ur.tag===0&&!(ae&6)&&is();var e=ae;ae|=1;var n=Wt.transition,r=fe;try{if(Wt.transition=null,fe=1,t)return t()}finally{fe=r,Wt.transition=n,ae=e,!(ae&6)&&Rr()}}function wf(){Nt=Xi.current,Te(Xi)}function ni(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,u1(n)),Fe!==null)for(n=Fe.return;n!==null;){var r=n;switch(Zh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Oa();break;case 3:ps(),Te(yt),Te(it),cf();break;case 5:af(r);break;case 4:ps();break;case 13:Te(Ne);break;case 19:Te(Ne);break;case 10:rf(r.type._context);break;case 22:case 23:wf()}n=n.return}if(qe=t,Fe=t=yr(t.current,null),Je=Nt=e,ze=0,Wo=null,_f=Nc=ci=0,gt=vo=null,Xr!==null){for(e=0;e<Xr.length;e++)if(n=Xr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Xr=null}return t}function A0(t,e){do{var n=Fe;try{if(nf(),fa.current=Wa,za){for(var r=be.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}za=!1}if(ai=0,Ve=Ue=be=null,go=!1,Uo=0,gf.current=null,n===null||n.return===null){ze=1,Wo=e,Fe=null;break}e:{var s=t,o=n.return,a=n,c=e;if(e=Je,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,f=a,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var w=Qg(o);if(w!==null){w.flags&=-257,Yg(w,o,a,s,e),w.mode&1&&qg(s,d,e),e=w,c=d;var C=e.updateQueue;if(C===null){var T=new Set;T.add(c),e.updateQueue=T}else C.add(c);break e}else{if(!(e&1)){qg(s,d,e),Ef();break e}c=Error(R(426))}}else if(ke&&a.mode&1){var x=Qg(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Yg(x,o,a,s,e),ef(ms(c,a));break e}}s=c=ms(c,a),ze!==4&&(ze=2),vo===null?vo=[s]:vo.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=p0(s,c,e);Wg(s,v);break e;case 1:a=c;var _=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(_r===null||!_r.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var N=m0(s,a,e);Wg(s,N);break e}}s=s.return}while(s!==null)}D0(n)}catch(A){e=A,Fe===n&&n!==null&&(Fe=n=n.return);continue}break}while(!0)}function R0(){var t=Ba.current;return Ba.current=Wa,t===null?Wa:t}function Ef(){(ze===0||ze===3||ze===2)&&(ze=4),qe===null||!(ci&268435455)&&!(Nc&268435455)||sr(qe,Je)}function Ga(t,e){var n=ae;ae|=2;var r=R0();(qe!==t||Je!==e)&&(Nn=null,ni(t,e));do try{L1();break}catch(i){A0(t,i)}while(!0);if(nf(),ae=n,Ba.current=r,Fe!==null)throw Error(R(261));return qe=null,Je=0,ze}function L1(){for(;Fe!==null;)O0(Fe)}function M1(){for(;Fe!==null&&!lT();)O0(Fe)}function O0(t){var e=M0(t.alternate,t,Nt);t.memoizedProps=t.pendingProps,e===null?D0(t):Fe=e,gf.current=null}function D0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=x1(n,e),n!==null){n.flags&=32767,Fe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ze=6,Fe=null;return}}else if(n=b1(n,e,Nt),n!==null){Fe=n;return}if(e=e.sibling,e!==null){Fe=e;return}Fe=e=t}while(e!==null);ze===0&&(ze=5)}function Kr(t,e,n){var r=fe,i=Wt.transition;try{Wt.transition=null,fe=1,F1(t,e,n,r)}finally{Wt.transition=i,fe=r}return null}function F1(t,e,n,r){do is();while(ur!==null);if(ae&6)throw Error(R(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(R(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(_T(t,s),t===qe&&(Fe=qe=null,Je=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||na||(na=!0,F0(Na,function(){return is(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Wt.transition,Wt.transition=null;var o=fe;fe=1;var a=ae;ae|=4,gf.current=null,A1(t,n),b0(n,t),r1(Ud),xa=!!jd,Ud=jd=null,t.current=n,R1(n),aT(),ae=a,fe=o,Wt.transition=s}else t.current=n;if(na&&(na=!1,ur=t,Va=i),s=t.pendingLanes,s===0&&(_r=null),dT(n.stateNode),Et(t,Me()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ha)throw Ha=!1,t=sh,sh=null,t;return Va&1&&t.tag!==0&&is(),s=t.pendingLanes,s&1?t===oh?yo++:(yo=0,oh=t):yo=0,Rr(),null}function is(){if(ur!==null){var t=py(Va),e=Wt.transition,n=fe;try{if(Wt.transition=null,fe=16>t?16:t,ur===null)var r=!1;else{if(t=ur,ur=null,Va=0,ae&6)throw Error(R(331));var i=ae;for(ae|=4,W=t.current;W!==null;){var s=W,o=s.child;if(W.flags&16){var a=s.deletions;if(a!==null){for(var c=0;c<a.length;c++){var d=a[c];for(W=d;W!==null;){var f=W;switch(f.tag){case 0:case 11:case 15:_o(8,f,s)}var p=f.child;if(p!==null)p.return=f,W=p;else for(;W!==null;){f=W;var g=f.sibling,w=f.return;if(T0(f),f===d){W=null;break}if(g!==null){g.return=w,W=g;break}W=w}}}var C=s.alternate;if(C!==null){var T=C.child;if(T!==null){C.child=null;do{var x=T.sibling;T.sibling=null,T=x}while(T!==null)}}W=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,W=o;else e:for(;W!==null;){if(s=W,s.flags&2048)switch(s.tag){case 0:case 11:case 15:_o(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,W=v;break e}W=s.return}}var _=t.current;for(W=_;W!==null;){o=W;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,W=y;else e:for(o=_;W!==null;){if(a=W,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:kc(9,a)}}catch(A){Ae(a,a.return,A)}if(a===o){W=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,W=N;break e}W=a.return}}if(ae=i,Rr(),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(vc,t)}catch{}r=!0}return r}finally{fe=n,Wt.transition=e}}return!1}function c_(t,e,n){e=ms(n,e),e=p0(t,e,1),t=gr(t,e,1),e=ft(),t!==null&&(il(t,1,e),Et(t,e))}function Ae(t,e,n){if(t.tag===3)c_(t,t,n);else for(;e!==null;){if(e.tag===3){c_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_r===null||!_r.has(r))){t=ms(n,t),t=m0(e,t,1),e=gr(e,t,1),t=ft(),e!==null&&(il(e,1,t),Et(e,t));break}}e=e.return}}function j1(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ft(),t.pingedLanes|=t.suspendedLanes&n,qe===t&&(Je&n)===n&&(ze===4||ze===3&&(Je&130023424)===Je&&500>Me()-vf?ni(t,0):_f|=n),Et(t,e)}function L0(t,e){e===0&&(t.mode&1?(e=Gl,Gl<<=1,!(Gl&130023424)&&(Gl=4194304)):e=1);var n=ft();t=zn(t,e),t!==null&&(il(t,e,n),Et(t,n))}function U1(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),L0(t,n)}function $1(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(R(314))}r!==null&&r.delete(e),L0(t,n)}var M0;M0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||yt.current)_t=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return _t=!1,N1(t,e,n);_t=!!(t.flags&131072)}else _t=!1,ke&&e.flags&1048576&&$y(e,Ma,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ma(t,e),t=e.pendingProps;var i=ds(e,it.current);rs(e,n),i=df(null,e,r,t,i,n);var s=hf();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,wt(r)?(s=!0,Da(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,of(e),i.updater=Tc,e.stateNode=i,i._reactInternals=e,qd(e,r,t,n),e=Xd(null,e,r,!0,s,n)):(e.tag=0,ke&&s&&Jh(e),dt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ma(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=W1(r),t=Yt(r,t),i){case 0:e=Yd(null,e,r,t,n);break e;case 1:e=Zg(null,e,r,t,n);break e;case 11:e=Xg(null,e,r,t,n);break e;case 14:e=Jg(null,e,r,Yt(r.type,t),n);break e}throw Error(R(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yt(r,i),Yd(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yt(r,i),Zg(t,e,r,i,n);case 3:e:{if(y0(e),t===null)throw Error(R(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Gy(t,e),Ua(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ms(Error(R(423)),e),e=e_(t,e,r,n,i);break e}else if(r!==i){i=ms(Error(R(424)),e),e=e_(t,e,r,n,i);break e}else for(bt=mr(e.stateNode.containerInfo.firstChild),xt=e,ke=!0,Jt=null,n=Hy(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(hs(),r===i){e=Wn(t,e,n);break e}dt(t,e,r,n)}e=e.child}return e;case 5:return Ky(e),t===null&&Vd(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,$d(r,i)?o=null:s!==null&&$d(r,s)&&(e.flags|=32),v0(t,e),dt(t,e,o,n),e.child;case 6:return t===null&&Vd(e),null;case 13:return w0(t,e,n);case 4:return lf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=fs(e,null,r,n):dt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yt(r,i),Xg(t,e,r,i,n);case 7:return dt(t,e,e.pendingProps,n),e.child;case 8:return dt(t,e,e.pendingProps.children,n),e.child;case 12:return dt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ce(Fa,r._currentValue),r._currentValue=o,s!==null)if(on(s.value,o)){if(s.children===i.children&&!yt.current){e=Wn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Fn(-1,n&-n),c.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?c.next=c:(c.next=f.next,f.next=c),d.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),Gd(s.return,n,e),a.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(R(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Gd(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}dt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,rs(e,n),i=Ht(i),r=r(i),e.flags|=1,dt(t,e,r,n),e.child;case 14:return r=e.type,i=Yt(r,e.pendingProps),i=Yt(r.type,i),Jg(t,e,r,i,n);case 15:return g0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yt(r,i),ma(t,e),e.tag=1,wt(r)?(t=!0,Da(e)):t=!1,rs(e,n),f0(e,r,i),qd(e,r,i,n),Xd(null,e,r,!0,t,n);case 19:return E0(t,e,n);case 22:return _0(t,e,n)}throw Error(R(156,e.tag))};function F0(t,e){return uy(t,e)}function z1(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $t(t,e,n,r){return new z1(t,e,n,r)}function Cf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function W1(t){if(typeof t=="function")return Cf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===$h)return 11;if(t===zh)return 14}return 2}function yr(t,e){var n=t.alternate;return n===null?(n=$t(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function va(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Cf(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case zi:return ri(n.children,i,s,e);case Uh:o=8,i|=8;break;case vd:return t=$t(12,n,e,i|2),t.elementType=vd,t.lanes=s,t;case yd:return t=$t(13,n,e,i),t.elementType=yd,t.lanes=s,t;case wd:return t=$t(19,n,e,i),t.elementType=wd,t.lanes=s,t;case Kv:return bc(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Vv:o=10;break e;case Gv:o=9;break e;case $h:o=11;break e;case zh:o=14;break e;case nr:o=16,r=null;break e}throw Error(R(130,t==null?t:typeof t,""))}return e=$t(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ri(t,e,n,r){return t=$t(7,t,r,e),t.lanes=n,t}function bc(t,e,n,r){return t=$t(22,t,r,e),t.elementType=Kv,t.lanes=n,t.stateNode={isHidden:!1},t}function Zu(t,e,n){return t=$t(6,t,null,e),t.lanes=n,t}function ed(t,e,n){return e=$t(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function B1(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Du(0),this.expirationTimes=Du(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Du(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Sf(t,e,n,r,i,s,o,a,c){return t=new B1(t,e,n,a,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=$t(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},of(s),t}function H1(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$i,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function j0(t){if(!t)return kr;t=t._reactInternals;e:{if(vi(t)!==t||t.tag!==1)throw Error(R(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(wt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(R(171))}if(t.tag===1){var n=t.type;if(wt(n))return jy(t,n,e)}return e}function U0(t,e,n,r,i,s,o,a,c){return t=Sf(n,r,!0,t,i,s,o,a,c),t.context=j0(null),n=t.current,r=ft(),i=vr(n),s=Fn(r,i),s.callback=e??null,gr(n,s,i),t.current.lanes=i,il(t,i,r),Et(t,r),t}function xc(t,e,n,r){var i=e.current,s=ft(),o=vr(i);return n=j0(n),e.context===null?e.context=n:e.pendingContext=n,e=Fn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=gr(i,e,o),t!==null&&(nn(t,i,o,s),ha(t,i,o)),o}function Ka(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function u_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function If(t,e){u_(t,e),(t=t.alternate)&&u_(t,e)}function V1(){return null}var $0=typeof reportError=="function"?reportError:function(t){console.error(t)};function Tf(t){this._internalRoot=t}Pc.prototype.render=Tf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(R(409));xc(t,e,null,null)};Pc.prototype.unmount=Tf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ui(function(){xc(null,t,null,null)}),e[$n]=null}};function Pc(t){this._internalRoot=t}Pc.prototype.unstable_scheduleHydration=function(t){if(t){var e=_y();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ir.length&&e!==0&&e<ir[n].priority;n++);ir.splice(n,0,t),n===0&&yy(t)}};function kf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ac(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function d_(){}function G1(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var d=Ka(o);s.call(d)}}var o=U0(e,r,t,0,null,!1,!1,"",d_);return t._reactRootContainer=o,t[$n]=o.current,Do(t.nodeType===8?t.parentNode:t),ui(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var d=Ka(c);a.call(d)}}var c=Sf(t,0,!1,null,null,!1,!1,"",d_);return t._reactRootContainer=c,t[$n]=c.current,Do(t.nodeType===8?t.parentNode:t),ui(function(){xc(e,c,n,r)}),c}function Rc(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var c=Ka(o);a.call(c)}}xc(e,o,t,i)}else o=G1(n,e,t,i,r);return Ka(o)}my=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=lo(e.pendingLanes);n!==0&&(Hh(e,n|1),Et(e,Me()),!(ae&6)&&(gs=Me()+500,Rr()))}break;case 13:ui(function(){var r=zn(t,1);if(r!==null){var i=ft();nn(r,t,1,i)}}),If(t,1)}};Vh=function(t){if(t.tag===13){var e=zn(t,134217728);if(e!==null){var n=ft();nn(e,t,134217728,n)}If(t,134217728)}};gy=function(t){if(t.tag===13){var e=vr(t),n=zn(t,e);if(n!==null){var r=ft();nn(n,t,e,r)}If(t,e)}};_y=function(){return fe};vy=function(t,e){var n=fe;try{return fe=t,e()}finally{fe=n}};Pd=function(t,e,n){switch(e){case"input":if(Sd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Cc(r);if(!i)throw Error(R(90));Qv(r),Sd(r,i)}}}break;case"textarea":Xv(t,n);break;case"select":e=n.value,e!=null&&Zi(t,!!n.multiple,e,!1)}};iy=yf;sy=ui;var K1={usingClientEntryPoint:!1,Events:[ol,Vi,Cc,ny,ry,yf]},eo={findFiberByHostInstance:Yr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},q1={bundleType:eo.bundleType,version:eo.version,rendererPackageName:eo.rendererPackageName,rendererConfig:eo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ay(t),t===null?null:t.stateNode},findFiberByHostInstance:eo.findFiberByHostInstance||V1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ra=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ra.isDisabled&&ra.supportsFiber)try{vc=ra.inject(q1),mn=ra}catch{}}At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K1;At.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kf(e))throw Error(R(200));return H1(t,e,null,n)};At.createRoot=function(t,e){if(!kf(t))throw Error(R(299));var n=!1,r="",i=$0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Sf(t,1,!1,null,null,n,!1,r,i),t[$n]=e.current,Do(t.nodeType===8?t.parentNode:t),new Tf(e)};At.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(R(188)):(t=Object.keys(t).join(","),Error(R(268,t)));return t=ay(e),t=t===null?null:t.stateNode,t};At.flushSync=function(t){return ui(t)};At.hydrate=function(t,e,n){if(!Ac(e))throw Error(R(200));return Rc(null,t,e,!0,n)};At.hydrateRoot=function(t,e,n){if(!kf(t))throw Error(R(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=$0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=U0(e,null,t,1,n??null,i,!1,s,o),t[$n]=e.current,Do(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Pc(e)};At.render=function(t,e,n){if(!Ac(e))throw Error(R(200));return Rc(null,t,e,!1,n)};At.unmountComponentAtNode=function(t){if(!Ac(t))throw Error(R(40));return t._reactRootContainer?(ui(function(){Rc(null,null,t,!1,function(){t._reactRootContainer=null,t[$n]=null})}),!0):!1};At.unstable_batchedUpdates=yf;At.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ac(n))throw Error(R(200));if(t==null||t._reactInternals===void 0)throw Error(R(38));return Rc(t,e,n,!1,r)};At.version="18.3.1-next-f1338f8080-20240426";function z0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(z0)}catch(t){console.error(t)}}z0(),zv.exports=At;var Q1=zv.exports,h_=Q1;gd.createRoot=h_.createRoot,gd.hydrateRoot=h_.hydrateRoot;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bo(){return Bo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bo.apply(this,arguments)}var dr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(dr||(dr={}));const f_="popstate";function Y1(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return ch("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:B0(i)}return J1(e,n,null,t)}function We(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function W0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function X1(){return Math.random().toString(36).substr(2,8)}function p_(t,e){return{usr:t.state,key:t.key,idx:e}}function ch(t,e,n,r){return n===void 0&&(n=null),Bo({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ns(e):e,{state:n,key:e&&e.key||r||X1()})}function B0(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ns(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function J1(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=dr.Pop,c=null,d=f();d==null&&(d=0,o.replaceState(Bo({},o.state,{idx:d}),""));function f(){return(o.state||{idx:null}).idx}function p(){a=dr.Pop;let x=f(),v=x==null?null:x-d;d=x,c&&c({action:a,location:T.location,delta:v})}function g(x,v){a=dr.Push;let _=ch(T.location,x,v);d=f()+1;let y=p_(_,d),N=T.createHref(_);try{o.pushState(y,"",N)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(N)}s&&c&&c({action:a,location:T.location,delta:1})}function w(x,v){a=dr.Replace;let _=ch(T.location,x,v);d=f();let y=p_(_,d),N=T.createHref(_);o.replaceState(y,"",N),s&&c&&c({action:a,location:T.location,delta:0})}function C(x){let v=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof x=="string"?x:B0(x);return _=_.replace(/ $/,"%20"),We(v,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,v)}let T={get action(){return a},get location(){return t(i,o)},listen(x){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(f_,p),c=x,()=>{i.removeEventListener(f_,p),c=null}},createHref(x){return e(i,x)},createURL:C,encodeLocation(x){let v=C(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:g,replace:w,go(x){return o.go(x)}};return T}var m_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(m_||(m_={}));function Z1(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Ns(e):e,i=G0(r.pathname||"/",n);if(i==null)return null;let s=H0(t);ek(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let c=hk(i);o=ck(s[a],c)}return o}function H0(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let c={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(We(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=ii([r,c.relativePath]),f=n.concat(c);s.children&&s.children.length>0&&(We(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),H0(s.children,e,f,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:lk(d,s.index),routesMeta:f})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let c of V0(s.path))i(s,o,c)}),e}function V0(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=V0(r.join("/")),a=[];return a.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function ek(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ak(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const tk=/^:[\w-]+$/,nk=3,rk=2,ik=1,sk=10,ok=-2,g_=t=>t==="*";function lk(t,e){let n=t.split("/"),r=n.length;return n.some(g_)&&(r+=ok),e&&(r+=rk),n.filter(i=>!g_(i)).reduce((i,s)=>i+(tk.test(s)?nk:s===""?ik:sk),r)}function ak(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function ck(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],c=o===n.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=uk({path:a.relativePath,caseSensitive:a.caseSensitive,end:c},d);if(!f)return null;Object.assign(r,f.params);let p=a.route;s.push({params:r,pathname:ii([i,f.pathname]),pathnameBase:vk(ii([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=ii([i,f.pathnameBase]))}return s}function uk(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=dk(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((d,f,p)=>{let{paramName:g,isOptional:w}=f;if(g==="*"){let T=a[p]||"";o=s.slice(0,s.length-T.length).replace(/(.)\/+$/,"$1")}const C=a[p];return w&&!C?d[g]=void 0:d[g]=(C||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:t}}function dk(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),W0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function hk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return W0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function G0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function fk(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ns(t):t;return{pathname:n?n.startsWith("/")?n:pk(n,e):e,search:yk(r),hash:wk(i)}}function pk(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function td(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function mk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function gk(t,e){let n=mk(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function _k(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ns(t):(i=Bo({},t),We(!i.pathname||!i.pathname.includes("?"),td("?","pathname","search",i)),We(!i.pathname||!i.pathname.includes("#"),td("#","pathname","hash",i)),We(!i.search||!i.search.includes("#"),td("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}a=p>=0?e[p]:"/"}let c=fk(i,a),d=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||f)&&(c.pathname+="/"),c}const ii=t=>t.join("/").replace(/\/\/+/g,"/"),vk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),yk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,wk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Ek(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const K0=["post","put","patch","delete"];new Set(K0);const Ck=["get",...K0];new Set(Ck);/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ho(){return Ho=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ho.apply(this,arguments)}const Nf=L.createContext(null),Sk=L.createContext(null),Oc=L.createContext(null),Dc=L.createContext(null),bs=L.createContext({outlet:null,matches:[],isDataRoute:!1}),q0=L.createContext(null);function Lc(){return L.useContext(Dc)!=null}function bf(){return Lc()||We(!1),L.useContext(Dc).location}function Q0(t){L.useContext(Oc).static||L.useLayoutEffect(t)}function al(){let{isDataRoute:t}=L.useContext(bs);return t?Mk():Ik()}function Ik(){Lc()||We(!1);let t=L.useContext(Nf),{basename:e,future:n,navigator:r}=L.useContext(Oc),{matches:i}=L.useContext(bs),{pathname:s}=bf(),o=JSON.stringify(gk(i,n.v7_relativeSplatPath)),a=L.useRef(!1);return Q0(()=>{a.current=!0}),L.useCallback(function(d,f){if(f===void 0&&(f={}),!a.current)return;if(typeof d=="number"){r.go(d);return}let p=_k(d,JSON.parse(o),s,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:ii([e,p.pathname])),(f.replace?r.replace:r.push)(p,f.state,f)},[e,r,o,s,t])}function Tk(t,e){return kk(t,e)}function kk(t,e,n,r){Lc()||We(!1);let{navigator:i}=L.useContext(Oc),{matches:s}=L.useContext(bs),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=bf(),f;if(e){var p;let x=typeof e=="string"?Ns(e):e;c==="/"||(p=x.pathname)!=null&&p.startsWith(c)||We(!1),f=x}else f=d;let g=f.pathname||"/",w=g;if(c!=="/"){let x=c.replace(/^\//,"").split("/");w="/"+g.replace(/^\//,"").split("/").slice(x.length).join("/")}let C=Z1(t,{pathname:w}),T=Ak(C&&C.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:ii([c,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:ii([c,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,r);return e&&T?L.createElement(Dc.Provider,{value:{location:Ho({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:dr.Pop}},T):T}function Nk(){let t=Lk(),e=Ek(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:i},n):null,null)}const bk=L.createElement(Nk,null);class xk extends L.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?L.createElement(bs.Provider,{value:this.props.routeContext},L.createElement(q0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Pk(t){let{routeContext:e,match:n,children:r}=t,i=L.useContext(Nf);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),L.createElement(bs.Provider,{value:e},r)}function Ak(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let f=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);f>=0||We(!1),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let p=o[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.id){let{loaderData:g,errors:w}=n,C=p.route.loader&&g[p.route.id]===void 0&&(!w||w[p.route.id]===void 0);if(p.route.lazy||C){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,p,g)=>{let w,C=!1,T=null,x=null;n&&(w=a&&p.route.id?a[p.route.id]:void 0,T=p.route.errorElement||bk,c&&(d<0&&g===0?(C=!0,x=null):d===g&&(C=!0,x=p.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,g+1)),_=()=>{let y;return w?y=T:C?y=x:p.route.Component?y=L.createElement(p.route.Component,null):p.route.element?y=p.route.element:y=f,L.createElement(Pk,{match:p,routeContext:{outlet:f,matches:v,isDataRoute:n!=null},children:y})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?L.createElement(xk,{location:n.location,revalidation:n.revalidation,component:T,error:w,children:_(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):_()},null)}var Y0=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Y0||{}),qa=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(qa||{});function Rk(t){let e=L.useContext(Nf);return e||We(!1),e}function Ok(t){let e=L.useContext(Sk);return e||We(!1),e}function Dk(t){let e=L.useContext(bs);return e||We(!1),e}function X0(t){let e=Dk(),n=e.matches[e.matches.length-1];return n.route.id||We(!1),n.route.id}function Lk(){var t;let e=L.useContext(q0),n=Ok(qa.UseRouteError),r=X0(qa.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Mk(){let{router:t}=Rk(Y0.UseNavigateStable),e=X0(qa.UseNavigateStable),n=L.useRef(!1);return Q0(()=>{n.current=!0}),L.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ho({fromRouteId:e},s)))},[t,e])}function co(t){We(!1)}function Fk(t){let{basename:e="/",children:n=null,location:r,navigationType:i=dr.Pop,navigator:s,static:o=!1,future:a}=t;Lc()&&We(!1);let c=e.replace(/^\/*/,"/"),d=L.useMemo(()=>({basename:c,navigator:s,static:o,future:Ho({v7_relativeSplatPath:!1},a)}),[c,a,s,o]);typeof r=="string"&&(r=Ns(r));let{pathname:f="/",search:p="",hash:g="",state:w=null,key:C="default"}=r,T=L.useMemo(()=>{let x=G0(f,c);return x==null?null:{location:{pathname:x,search:p,hash:g,state:w,key:C},navigationType:i}},[c,f,p,g,w,C,i]);return T==null?null:L.createElement(Oc.Provider,{value:d},L.createElement(Dc.Provider,{children:n,value:T}))}function jk(t){let{children:e,location:n}=t;return Tk(uh(e),n)}new Promise(()=>{});function uh(t,e){e===void 0&&(e=[]);let n=[];return L.Children.forEach(t,(r,i)=>{if(!L.isValidElement(r))return;let s=[...e,i];if(r.type===L.Fragment){n.push.apply(n,uh(r.props.children,s));return}r.type!==co&&We(!1),!r.props.index||!r.props.children||We(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=uh(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Uk="6";try{window.__reactRouterVersion=Uk}catch{}const $k="startTransition",__=jI[$k];function zk(t){let{basename:e,children:n,future:r,window:i}=t,s=L.useRef();s.current==null&&(s.current=Y1({window:i,v5Compat:!0}));let o=s.current,[a,c]=L.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},f=L.useCallback(p=>{d&&__?__(()=>c(p)):c(p)},[c,d]);return L.useLayoutEffect(()=>o.listen(f),[o,f]),L.createElement(Fk,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var v_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(v_||(v_={}));var y_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(y_||(y_={}));var w_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D=function(t,e){if(!t)throw xs(e)},xs=function(t){return new Error("Firebase Database ("+J0.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Wk=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},xf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,d=c?t[i+2]:0,f=s>>2,p=(s&3)<<4|a>>4;let g=(a&15)<<2|d>>6,w=d&63;c||(w=64,o||(g=64)),r.push(n[f],n[p],n[g],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Z0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Wk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||d==null||p==null)throw new Bk;const g=s<<2|a>>4;if(r.push(g),d!==64){const w=a<<4&240|d>>2;if(r.push(w),p!==64){const C=d<<6&192|p;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Bk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ew=function(t){const e=Z0(t);return xf.encodeByteArray(e,!0)},Qa=function(t){return ew(t).replace(/\./g,"")},Ya=function(t){try{return xf.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(t){return tw(void 0,t)}function tw(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Vk(n)||(t[n]=tw(t[n],e[n]));return t}function Vk(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk=()=>Gk().__FIREBASE_DEFAULTS__,qk=()=>{if(typeof process>"u"||typeof w_>"u")return;const t=w_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Qk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ya(t[1]);return e&&JSON.parse(e)},Pf=()=>{try{return Kk()||qk()||Qk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},nw=t=>{var e,n;return(n=(e=Pf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Yk=t=>{const e=nw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},rw=()=>{var t;return(t=Pf())===null||t===void 0?void 0:t.config},iw=t=>{var e;return(e=Pf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Qa(JSON.stringify(n)),Qa(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function st(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Af(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(st())}function Jk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function sw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Zk(){const t=st();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ow(){return J0.NODE_ADMIN===!0}function eN(){try{return typeof indexedDB=="object"}catch{return!1}}function tN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN="FirebaseError";class Or extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=nN,Object.setPrototypeOf(this,Or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cl.prototype.create)}}class cl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?rN(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Or(i,a,r)}}function rN(t,e){return t.replace(iN,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const iN=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vo(t){return JSON.parse(t)}function $e(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Vo(Ya(s[0])||""),n=Vo(Ya(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},sN=function(t){const e=lw(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},oN=function(t){const e=lw(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _s(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function dh(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Xa(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Ja(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(E_(s)&&E_(o)){if(!Ja(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function E_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let p=0;p<16;p++)r[p]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let p=0;p<16;p++)r[p]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let p=16;p<80;p++){const g=r[p-3]^r[p-8]^r[p-14]^r[p-16];r[p]=(g<<1|g>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],c=this.chain_[4],d,f;for(let p=0;p<80;p++){p<40?p<20?(d=a^s&(o^a),f=1518500249):(d=s^o^a,f=1859775393):p<60?(d=s&o|a&(s|o),f=2400959708):(d=s^o^a,f=3395469782);const g=(i<<5|i>>>27)+d+c+f+r[p]&4294967295;c=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=g}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function aN(t,e){const n=new cN(t,e);return n.subscribe.bind(n)}class cN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");uN(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=nd),i.error===void 0&&(i.error=nd),i.complete===void 0&&(i.complete=nd);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function nd(){}function Rf(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,D(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Fc=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(t){return t&&t._delegate?t._delegate:t}class di{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Mc;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pN(e))try{this.getOrInitializeService({instanceIdentifier:qr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=qr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qr){return this.instances.has(e)}getOptions(e=qr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:fN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qr){return this.component?this.component.multipleInstances?e:qr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fN(t){return t===qr?void 0:t}function pN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new hN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ge||(ge={}));const gN={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},_N=ge.INFO,vN={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},yN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=vN[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Of{constructor(e){this.name=e,this._logLevel=_N,this._logHandler=yN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...e),this._logHandler(this,ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...e),this._logHandler(this,ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...e),this._logHandler(this,ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...e),this._logHandler(this,ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...e),this._logHandler(this,ge.ERROR,...e)}}const wN=(t,e)=>e.some(n=>t instanceof n);let C_,S_;function EN(){return C_||(C_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CN(){return S_||(S_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const aw=new WeakMap,hh=new WeakMap,cw=new WeakMap,rd=new WeakMap,Df=new WeakMap;function SN(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(wr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&aw.set(n,t)}).catch(()=>{}),Df.set(e,t),e}function IN(t){if(hh.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});hh.set(t,e)}let fh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return hh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||cw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function TN(t){fh=t(fh)}function kN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(id(this),e,...n);return cw.set(r,e.sort?e.sort():[e]),wr(r)}:CN().includes(t)?function(...e){return t.apply(id(this),e),wr(aw.get(this))}:function(...e){return wr(t.apply(id(this),e))}}function NN(t){return typeof t=="function"?kN(t):(t instanceof IDBTransaction&&IN(t),wN(t,EN())?new Proxy(t,fh):t)}function wr(t){if(t instanceof IDBRequest)return SN(t);if(rd.has(t))return rd.get(t);const e=NN(t);return e!==t&&(rd.set(t,e),Df.set(e,t)),e}const id=t=>Df.get(t);function bN(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=wr(o);return r&&o.addEventListener("upgradeneeded",c=>{r(wr(o.result),c.oldVersion,c.newVersion,wr(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}const xN=["get","getKey","getAll","getAllKeys","count"],PN=["put","add","delete","clear"],sd=new Map;function I_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(sd.get(e))return sd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=PN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||xN.includes(n)))return;const s=async function(o,...a){const c=this.transaction(o,i?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(a.shift())),(await Promise.all([d[n](...a),i&&c.done]))[0]};return sd.set(e,s),s}TN(t=>({...t,get:(e,n,r)=>I_(e,n)||t.get(e,n,r),has:(e,n)=>!!I_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(RN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function RN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ph="@firebase/app",T_="0.10.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi=new Of("@firebase/app"),ON="@firebase/app-compat",DN="@firebase/analytics-compat",LN="@firebase/analytics",MN="@firebase/app-check-compat",FN="@firebase/app-check",jN="@firebase/auth",UN="@firebase/auth-compat",$N="@firebase/database",zN="@firebase/database-compat",WN="@firebase/functions",BN="@firebase/functions-compat",HN="@firebase/installations",VN="@firebase/installations-compat",GN="@firebase/messaging",KN="@firebase/messaging-compat",qN="@firebase/performance",QN="@firebase/performance-compat",YN="@firebase/remote-config",XN="@firebase/remote-config-compat",JN="@firebase/storage",ZN="@firebase/storage-compat",eb="@firebase/firestore",tb="@firebase/vertexai-preview",nb="@firebase/firestore-compat",rb="firebase",ib="10.12.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh="[DEFAULT]",sb={[ph]:"fire-core",[ON]:"fire-core-compat",[LN]:"fire-analytics",[DN]:"fire-analytics-compat",[FN]:"fire-app-check",[MN]:"fire-app-check-compat",[jN]:"fire-auth",[UN]:"fire-auth-compat",[$N]:"fire-rtdb",[zN]:"fire-rtdb-compat",[WN]:"fire-fn",[BN]:"fire-fn-compat",[HN]:"fire-iid",[VN]:"fire-iid-compat",[GN]:"fire-fcm",[KN]:"fire-fcm-compat",[qN]:"fire-perf",[QN]:"fire-perf-compat",[YN]:"fire-rc",[XN]:"fire-rc-compat",[JN]:"fire-gcs",[ZN]:"fire-gcs-compat",[eb]:"fire-fst",[nb]:"fire-fst-compat",[tb]:"fire-vertex","fire-js":"fire-js",[rb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za=new Map,ob=new Map,gh=new Map;function k_(t,e){try{t.container.addComponent(e)}catch(n){hi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function vs(t){const e=t.name;if(gh.has(e))return hi.debug(`There were multiple attempts to register component ${e}.`),!1;gh.set(e,t);for(const n of Za.values())k_(n,t);for(const n of ob.values())k_(n,t);return!0}function Lf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Rn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Er=new cl("app","Firebase",lb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new di("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Er.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As=ib;function uw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:mh,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Er.create("bad-app-name",{appName:String(i)});if(n||(n=rw()),!n)throw Er.create("no-options");const s=Za.get(i);if(s){if(Ja(n,s.options)&&Ja(r,s.config))return s;throw Er.create("duplicate-app",{appName:i})}const o=new mN(i);for(const c of gh.values())o.addComponent(c);const a=new ab(n,r,o);return Za.set(i,a),a}function dw(t=mh){const e=Za.get(t);if(!e&&t===mh&&rw())return uw();if(!e)throw Er.create("no-app",{appName:t});return e}function Cr(t,e,n){var r;let i=(r=sb[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hi.warn(a.join(" "));return}vs(new di(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb="firebase-heartbeat-database",ub=1,Go="firebase-heartbeat-store";let od=null;function hw(){return od||(od=bN(cb,ub,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Go)}catch(n){console.warn(n)}}}}).catch(t=>{throw Er.create("idb-open",{originalErrorMessage:t.message})})),od}async function db(t){try{const n=(await hw()).transaction(Go),r=await n.objectStore(Go).get(fw(t));return await n.done,r}catch(e){if(e instanceof Or)hi.warn(e.message);else{const n=Er.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});hi.warn(n.message)}}}async function N_(t,e){try{const r=(await hw()).transaction(Go,"readwrite");await r.objectStore(Go).put(e,fw(t)),await r.done}catch(n){if(n instanceof Or)hi.warn(n.message);else{const r=Er.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});hi.warn(r.message)}}}function fw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb=1024,fb=30*24*60*60*1e3;class pb{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new gb(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=b_();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=fb}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=b_(),{heartbeatsToSend:r,unsentEntries:i}=mb(this._heartbeatsCache.heartbeats),s=Qa(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function b_(){return new Date().toISOString().substring(0,10)}function mb(t,e=hb){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),x_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),x_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class gb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eN()?tN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await db(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return N_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return N_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function x_(t){return Qa(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b(t){vs(new di("platform-logger",e=>new AN(e),"PRIVATE")),vs(new di("heartbeat",e=>new pb(e),"PRIVATE")),Cr(ph,T_,t),Cr(ph,T_,"esm2017"),Cr("fire-js","")}_b("");function Mf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function pw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vb=pw,mw=new cl("auth","Firebase",pw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec=new Of("@firebase/auth");function yb(t,...e){ec.logLevel<=ge.WARN&&ec.warn(`Auth (${As}): ${t}`,...e)}function ya(t,...e){ec.logLevel<=ge.ERROR&&ec.error(`Auth (${As}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(t,...e){throw jf(t,...e)}function rn(t,...e){return jf(t,...e)}function Ff(t,e,n){const r=Object.assign(Object.assign({},vb()),{[e]:n});return new cl("auth","Firebase",r).create(e,{appName:t.name})}function si(t){return Ff(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wb(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&wn(t,"argument-error"),Ff(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function jf(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return mw.create(t,...e)}function q(t,e,...n){if(!t)throw jf(e,...n)}function On(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ya(e),new Error(e)}function Bn(t,e){t||On(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Eb(){return P_()==="http:"||P_()==="https:"}function P_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Eb()||Jk()||"connection"in navigator)?navigator.onLine:!0}function Sb(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e,n){this.shortDelay=e,this.longDelay=n,Bn(n>e,"Short delay should be less than long delay!"),this.isMobile=Af()||sw()}get(){return Cb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(t,e){Bn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;On("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;On("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;On("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb=new ul(3e4,6e4);function $f(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Rs(t,e,n,r,i={}){return _w(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Ps(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),gw.fetch()(vw(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))})}async function _w(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Ib),e);try{const i=new Nb(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw ia(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,d]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw ia(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw ia(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw ia(t,"user-disabled",o);const f=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Ff(t,f,d);wn(t,f)}}catch(i){if(i instanceof Or)throw i;wn(t,"network-request-failed",{message:String(i)})}}async function kb(t,e,n,r,i={}){const s=await Rs(t,e,n,r,i);return"mfaPendingCredential"in s&&wn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function vw(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Uf(t.config,i):`${t.config.apiScheme}://${i}`}class Nb{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(rn(this.auth,"network-request-failed")),Tb.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ia(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=rn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bb(t,e){return Rs(t,"POST","/v1/accounts:delete",e)}async function yw(t,e){return Rs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xb(t,e=!1){const n=Gt(t),r=await n.getIdToken(e),i=zf(r);q(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:wo(ld(i.auth_time)),issuedAtTime:wo(ld(i.iat)),expirationTime:wo(ld(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function ld(t){return Number(t)*1e3}function zf(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ya("JWT malformed, contained fewer than 3 sections"),null;try{const i=Ya(n);return i?JSON.parse(i):(ya("Failed to decode base64 JWT payload"),null)}catch(i){return ya("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function A_(t){const e=zf(t);return q(e,"internal-error"),q(typeof e.exp<"u","internal-error"),q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ko(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Or&&Pb(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Pb({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wo(this.lastLoginAt),this.creationTime=wo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ko(t,yw(n,{idToken:r}));q(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?ww(s.providerUserInfo):[],a=Ob(t.providerData,o),c=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),f=c?d:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new vh(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,p)}async function Rb(t){const e=Gt(t);await tc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ob(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ww(t){return t.map(e=>{var{providerId:n}=e,r=Mf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Db(t,e){const n=await _w(t,{},async()=>{const r=Ps({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=vw(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",gw.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Lb(t,e){return Rs(t,"POST","/v2/accounts:revokeToken",$f(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){q(e.idToken,"internal-error"),q(typeof e.idToken<"u","internal-error"),q(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):A_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){q(e.length!==0,"internal-error");const n=A_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Db(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ss;return r&&(q(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(q(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(q(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ss,this.toJSON())}_performRefresh(){return On("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(t,e){q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Dn{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Mf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ab(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new vh(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ko(this,this.stsTokenManager.getToken(this.auth,e));return q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return xb(this,e)}reload(){return Rb(this)}_assign(e){this!==e&&(q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Dn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await tc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rn(this.auth.app))return Promise.reject(si(this.auth));const e=await this.getIdToken();return await Ko(this,bb(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,d,f;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,w=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,C=(o=n.photoURL)!==null&&o!==void 0?o:void 0,T=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,v=(d=n.createdAt)!==null&&d!==void 0?d:void 0,_=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:y,emailVerified:N,isAnonymous:A,providerData:O,stsTokenManager:F}=n;q(y&&F,e,"internal-error");const j=ss.fromJSON(this.name,F);q(typeof y=="string",e,"internal-error"),tr(p,e.name),tr(g,e.name),q(typeof N=="boolean",e,"internal-error"),q(typeof A=="boolean",e,"internal-error"),tr(w,e.name),tr(C,e.name),tr(T,e.name),tr(x,e.name),tr(v,e.name),tr(_,e.name);const se=new Dn({uid:y,auth:e,email:g,emailVerified:N,displayName:p,isAnonymous:A,photoURL:C,phoneNumber:w,tenantId:T,stsTokenManager:j,createdAt:v,lastLoginAt:_});return O&&Array.isArray(O)&&(se.providerData=O.map(J=>Object.assign({},J))),x&&(se._redirectEventId=x),se}static async _fromIdTokenResponse(e,n,r=!1){const i=new ss;i.updateFromServerResponse(n);const s=new Dn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await tc(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];q(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?ww(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new ss;a.updateFromIdToken(r);const c=new Dn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new vh(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_=new Map;function Ln(t){Bn(t instanceof Function,"Expected a class definition");let e=R_.get(t);return e?(Bn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,R_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Ew.type="NONE";const O_=Ew;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wa(t,e,n){return`firebase:${t}:${e}:${n}`}class os{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=wa(this.userKey,i.apiKey,s),this.fullPersistenceKey=wa("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Dn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new os(Ln(O_),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=i[0]||Ln(O_);const o=wa(r,e.config.apiKey,e.name);let a=null;for(const d of n)try{const f=await d._get(o);if(f){const p=Dn._fromJSON(e,f);d!==s&&(a=p),s=d;break}}catch{}const c=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new os(s,e,r):(s=c[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async d=>{if(d!==s)try{await d._remove(o)}catch{}})),new os(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Iw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Cw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kw(e))return"Blackberry";if(Nw(e))return"Webos";if(Wf(e))return"Safari";if((e.includes("chrome/")||Sw(e))&&!e.includes("edge/"))return"Chrome";if(Tw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Cw(t=st()){return/firefox\//i.test(t)}function Wf(t=st()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Sw(t=st()){return/crios\//i.test(t)}function Iw(t=st()){return/iemobile/i.test(t)}function Tw(t=st()){return/android/i.test(t)}function kw(t=st()){return/blackberry/i.test(t)}function Nw(t=st()){return/webos/i.test(t)}function jc(t=st()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Mb(t=st()){var e;return jc(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Fb(){return Zk()&&document.documentMode===10}function bw(t=st()){return jc(t)||Tw(t)||Nw(t)||kw(t)||/windows phone/i.test(t)||Iw(t)}function jb(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(t,e=[]){let n;switch(t){case"Browser":n=D_(st());break;case"Worker":n=`${D_(st())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${As}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $b(t,e={}){return Rs(t,"GET","/v2/passwordPolicy",$f(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb=6;class Wb{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:zb,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new L_(this),this.idTokenSubscription=new L_(this),this.beforeStateQueue=new Ub(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ln(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await os.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await yw(this,{idToken:e}),r=await Dn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Rn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await tc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Sb()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rn(this.app))return Promise.reject(si(this));const n=e?Gt(e):null;return n&&q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rn(this.app)?Promise.reject(si(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rn(this.app)?Promise.reject(si(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ln(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $b(this),n=new Wb(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new cl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Lb(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ln(e)||this._popupRedirectResolver;q(n,this,"argument-error"),this.redirectPersistenceManager=await os.create(this,[Ln(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(q(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&yb(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Uc(t){return Gt(t)}class L_{constructor(e){this.auth=e,this.observer=null,this.addObserver=aN(n=>this.observer=n)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Hb(t){Bf=t}function Vb(t){return Bf.loadJS(t)}function Gb(){return Bf.gapiScript}function Kb(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(t,e){const n=Lf(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Ja(s,e??{}))return i;wn(i,"already-initialized")}return n.initialize({options:e})}function Qb(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ln);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Yb(t,e,n){const r=Uc(t);q(r._canInitEmulator,r,"emulator-config-failed"),q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=Pw(e),{host:o,port:a}=Xb(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),Jb()}function Pw(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Xb(t){const e=Pw(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:M_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:M_(o)}}}function M_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Jb(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return On("not implemented")}_getIdTokenResponse(e){return On("not implemented")}_linkToIdToken(e,n){return On("not implemented")}_getReauthenticationResolver(e){return On("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ls(t,e){return kb(t,"POST","/v1/accounts:signInWithIdp",$f(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb="http://localhost";class fi extends Aw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):wn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Mf(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new fi(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ls(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ls(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ls(e,n)}buildRequest(){const e={requestUri:Zb,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ps(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl extends Hf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or extends dl{constructor(){super("facebook.com")}static credential(e){return fi._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return or.credential(e.oauthAccessToken)}catch{return null}}}or.FACEBOOK_SIGN_IN_METHOD="facebook.com";or.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn extends dl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fi._fromParams({providerId:xn.PROVIDER_ID,signInMethod:xn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return xn.credentialFromTaggedObject(e)}static credentialFromError(e){return xn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return xn.credential(n,r)}catch{return null}}}xn.GOOGLE_SIGN_IN_METHOD="google.com";xn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr extends dl{constructor(){super("github.com")}static credential(e){return fi._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lr.credential(e.oauthAccessToken)}catch{return null}}}lr.GITHUB_SIGN_IN_METHOD="github.com";lr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar extends dl{constructor(){super("twitter.com")}static credential(e,n){return fi._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ar.credential(n,r)}catch{return null}}}ar.TWITTER_SIGN_IN_METHOD="twitter.com";ar.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Dn._fromIdTokenResponse(e,r,i),o=F_(r);return new ys({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=F_(r);return new ys({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function F_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc extends Or{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,nc.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new nc(e,n,r,i)}}function Rw(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?nc._fromErrorAndOperation(t,s,e,r):s})}async function ex(t,e,n=!1){const r=await Ko(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ys._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tx(t,e,n=!1){const{auth:r}=t;if(Rn(r.app))return Promise.reject(si(r));const i="reauthenticate";try{const s=await Ko(t,Rw(r,i,e,t),n);q(s.idToken,r,"internal-error");const o=zf(s.idToken);q(o,r,"internal-error");const{sub:a}=o;return q(t.uid===a,r,"user-mismatch"),ys._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&wn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nx(t,e,n=!1){if(Rn(t.app))return Promise.reject(si(t));const r="signIn",i=await Rw(t,r,e),s=await ys._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function rx(t,e,n,r){return Gt(t).onIdTokenChanged(e,n,r)}function ix(t,e,n){return Gt(t).beforeAuthStateChanged(e,n)}function sx(t,e,n,r){return Gt(t).onAuthStateChanged(e,n,r)}const rc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(rc,"1"),this.storage.removeItem(rc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(){const t=st();return Wf(t)||jc(t)}const lx=1e3,ax=10;class Dw extends Ow{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=ox()&&jb(),this.fallbackToPolling=bw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Fb()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,ax):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},lx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Dw.type="LOCAL";const cx=Dw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw extends Ow{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Lw.type="SESSION";const Mw=Lw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new $c(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async d=>d(n.origin,s)),c=await ux(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$c.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vf(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{const d=Vf("",20);i.port1.start();const f=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){const g=p;if(g.data.eventId===d)switch(g.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(g.data.response);break;default:clearTimeout(f),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(){return window}function hx(t){_n().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(){return typeof _n().WorkerGlobalScope<"u"&&typeof _n().importScripts=="function"}async function fx(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function px(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function mx(){return Fw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw="firebaseLocalStorageDb",gx=1,ic="firebaseLocalStorage",Uw="fbase_key";class hl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function zc(t,e){return t.transaction([ic],e?"readwrite":"readonly").objectStore(ic)}function _x(){const t=indexedDB.deleteDatabase(jw);return new hl(t).toPromise()}function yh(){const t=indexedDB.open(jw,gx);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ic,{keyPath:Uw})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ic)?e(r):(r.close(),await _x(),e(await yh()))})})}async function j_(t,e,n){const r=zc(t,!0).put({[Uw]:e,value:n});return new hl(r).toPromise()}async function vx(t,e){const n=zc(t,!1).get(e),r=await new hl(n).toPromise();return r===void 0?null:r.value}function U_(t,e){const n=zc(t,!0).delete(e);return new hl(n).toPromise()}const yx=800,wx=3;class $w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>wx)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Fw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$c._getInstance(mx()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await fx(),!this.activeServiceWorker)return;this.sender=new dx(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||px()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yh();return await j_(e,rc,"1"),await U_(e,rc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>j_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>vx(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>U_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=zc(i,!1).getAll();return new hl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$w.type="LOCAL";const Ex=$w;new ul(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(t,e){return e?Ln(e):(q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf extends Aw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ls(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ls(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ls(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Cx(t){return nx(t.auth,new Gf(t),t.bypassAuthState)}function Sx(t){const{auth:e,user:n}=t;return q(n,e,"internal-error"),tx(n,new Gf(t),t.bypassAuthState)}async function Ix(t){const{auth:e,user:n}=t;return q(n,e,"internal-error"),ex(n,new Gf(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Cx;case"linkViaPopup":case"linkViaRedirect":return Ix;case"reauthViaPopup":case"reauthViaRedirect":return Sx;default:wn(this.auth,"internal-error")}}resolve(e){Bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx=new ul(2e3,1e4);async function kx(t,e,n){if(Rn(t.app))return Promise.reject(rn(t,"operation-not-supported-in-this-environment"));const r=Uc(t);wb(t,e,Hf);const i=zw(r,n);return new Zr(r,"signInViaPopup",e,i).executeNotNull()}class Zr extends Ww{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Zr.currentPopupAction&&Zr.currentPopupAction.cancel(),Zr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return q(e,this.auth,"internal-error"),e}async onExecution(){Bn(this.filter.length===1,"Popup operations only handle one event");const e=Vf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(rn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(rn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(rn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Tx.get())};e()}}Zr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx="pendingRedirect",Ea=new Map;class bx extends Ww{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ea.get(this.auth._key());if(!e){try{const r=await xx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ea.set(this.auth._key(),e)}return this.bypassAuthState||Ea.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xx(t,e){const n=Rx(e),r=Ax(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Px(t,e){Ea.set(t._key(),e)}function Ax(t){return Ln(t._redirectPersistence)}function Rx(t){return wa(Nx,t.config.apiKey,t.name)}async function Ox(t,e,n=!1){if(Rn(t.app))return Promise.reject(si(t));const r=Uc(t),i=zw(r,e),o=await new bx(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx=10*60*1e3;class Lx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Mx(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Bw(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(rn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Dx&&this.cachedEventUids.clear(),this.cachedEventUids.has($_(e))}saveEventToCache(e){this.cachedEventUids.add($_(e)),this.lastProcessedEventTime=Date.now()}}function $_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Bw({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Mx(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Bw(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fx(t,e={}){return Rs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ux=/^https?/;async function $x(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Fx(t);for(const n of e)try{if(zx(n))return}catch{}wn(t,"unauthorized-domain")}function zx(t){const e=_h(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Ux.test(n))return!1;if(jx.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx=new ul(3e4,6e4);function z_(){const t=_n().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Bx(t){return new Promise((e,n)=>{var r,i,s;function o(){z_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{z_(),n(rn(t,"network-request-failed"))},timeout:Wx.get()})}if(!((i=(r=_n().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=_n().gapi)===null||s===void 0)&&s.load)o();else{const a=Kb("iframefcb");return _n()[a]=()=>{gapi.load?o():n(rn(t,"network-request-failed"))},Vb(`${Gb()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Ca=null,e})}let Ca=null;function Hx(t){return Ca=Ca||Bx(t),Ca}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx=new ul(5e3,15e3),Gx="__/auth/iframe",Kx="emulator/auth/iframe",qx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Qx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Yx(t){const e=t.config;q(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Uf(e,Kx):`https://${t.config.authDomain}/${Gx}`,r={apiKey:e.apiKey,appName:t.name,v:As},i=Qx.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ps(r).slice(1)}`}async function Xx(t){const e=await Hx(t),n=_n().gapi;return q(n,t,"internal-error"),e.open({where:document.body,url:Yx(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qx,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=rn(t,"network-request-failed"),a=_n().setTimeout(()=>{s(o)},Vx.get());function c(){_n().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Zx=500,eP=600,tP="_blank",nP="http://localhost";class W_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rP(t,e,n,r=Zx,i=eP){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},Jx),{width:r.toString(),height:i.toString(),top:s,left:o}),d=st().toLowerCase();n&&(a=Sw(d)?tP:n),Cw(d)&&(e=e||nP,c.scrollbars="yes");const f=Object.entries(c).reduce((g,[w,C])=>`${g}${w}=${C},`,"");if(Mb(d)&&a!=="_self")return iP(e||"",a),new W_(null);const p=window.open(e||"",a,f);q(p,t,"popup-blocked");try{p.focus()}catch{}return new W_(p)}function iP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP="__/auth/handler",oP="emulator/auth/handler",lP=encodeURIComponent("fac");async function B_(t,e,n,r,i,s){q(t.config.authDomain,t,"auth-domain-config-required"),q(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:As,eventId:i};if(e instanceof Hf){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",dh(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,p]of Object.entries({}))o[f]=p}if(e instanceof dl){const f=e.getScopes().filter(p=>p!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const f of Object.keys(a))a[f]===void 0&&delete a[f];const c=await t._getAppCheckToken(),d=c?`#${lP}=${encodeURIComponent(c)}`:"";return`${aP(t)}?${Ps(a).slice(1)}${d}`}function aP({config:t}){return t.emulator?Uf(t,oP):`https://${t.authDomain}/${sP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad="webStorageSupport";class cP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Mw,this._completeRedirectFn=Ox,this._overrideRedirectResult=Px}async _openPopup(e,n,r,i){var s;Bn((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await B_(e,n,r,_h(),i);return rP(e,o,Vf())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await B_(e,n,r,_h(),i);return hx(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Bn(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Xx(e),r=new Lx(e);return n.register("authEvent",i=>(q(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ad,{type:ad},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[ad];o!==void 0&&n(!!o),wn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$x(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return bw()||Wf()||jc()}}const uP=cP;var H_="@firebase/auth",V_="1.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fP(t){vs(new di("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;q(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xw(t)},d=new Bb(r,i,s,c);return Qb(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),vs(new di("auth-internal",e=>{const n=Uc(e.getProvider("auth").getImmediate());return(r=>new dP(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Cr(H_,V_,hP(t)),Cr(H_,V_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP=5*60,mP=iw("authIdTokenMaxAge")||pP;let G_=null;const gP=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>mP)return;const i=n==null?void 0:n.token;G_!==i&&(G_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function wh(t=dw()){const e=Lf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=qb(t,{popupRedirectResolver:uP,persistence:[Ex,cx,Mw]}),r=iw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=gP(s.toString());ix(n,o,()=>o(n.currentUser)),rx(n,a=>o(a))}}const i=nw("auth");return i&&Yb(n,`http://${i}`),n}function _P(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Hb({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=rn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",_P().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fP("Browser");var vP="firebase",yP="10.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cr(vP,yP,"app");class Hw{constructor(){this.init(),this.getApp()}init(){const e={apiKey:"AIzaSyCEtmKIbRKlsUFPSt6dBVy9yxCNyvW4oUs",authDomain:"worktime-ff90a.firebaseapp.com",databaseURL:"https://worktime-ff90a-default-rtdb.europe-west1.firebasedatabase.app",projectId:"worktime-ff90a",storageBucket:"worktime-ff90a.appspot.com",messagingSenderId:"49314853679",appId:"1:49314853679:web:1a70da158449fabbd0a7da"};this.app=uw(e)}getApp(){return this.app}}const wP=()=>{const[t,e]=L.useState(new Hw),[n,r]=L.useState(new xn),[i,s]=L.useState(),[o,a]=L.useState(),c=al(),d=async()=>{try{s(t.getApp());const f=wh(i),p=await kx(f,n);a(p.user),c("/dashboard")}catch(f){console.log("error: ",f)}};return S.jsx("div",{className:"buttons-container",onClick:d,children:S.jsxs("div",{className:"google-login-button",children:[S.jsxs("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",version:"1.1",x:"0px",y:"0px",className:"google-icon",viewBox:"0 0 48 48",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("path",{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
                          c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
                          c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`}),S.jsx("path",{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
                          C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`}),S.jsx("path",{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
                          c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`}),S.jsx("path",{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
                          c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`})]}),S.jsx("span",{children:"Log in with Google"})]})})},EP=()=>S.jsx(S.Fragment,{children:S.jsxs("div",{className:"d-flex main-content",children:[S.jsx("div",{className:"login mr-2",children:S.jsx("div",{className:"loginCadre",children:S.jsxs("div",{className:"form-container",children:[S.jsx("p",{className:"title",children:"Welcome"}),S.jsxs("form",{className:"form",children:[S.jsx("input",{type:"text",className:"input",placeholder:"Name"}),S.jsx("input",{type:"text",className:"input",placeholder:"Firstname"}),S.jsxs("div",{className:"dropdown",children:[S.jsx("input",{type:"text",className:"input",id:"searchInput",placeholder:"Organisation"}),S.jsx("div",{className:"dropdown-content input"})]}),S.jsx("input",{type:"email",className:"input",placeholder:"Email"}),S.jsx("input",{type:"password",className:"input",placeholder:"Password"}),S.jsx("p",{className:"page-link",children:S.jsx("span",{className:"page-link-label",children:"Forgot Password?"})}),S.jsx("button",{className:"form-btn",children:"Log in"})]}),S.jsxs("p",{className:"sign-up-label",children:["Don't have an account?",S.jsx("span",{className:"sign-up-link",children:"Sign up"})]}),S.jsx(wP,{})]})})}),S.jsx("div",{className:"logo",children:S.jsx("div",{className:"logoCadre",children:S.jsx("img",{src:"./src/assets/images/PhotoRoom-20240501_131716.png",alt:""})})})]})});var K_={};const q_="@firebase/database",Q_="1.0.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vw="";function CP(t){Vw=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),$e(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Vo(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Cn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new SP(e)}}catch{}return new IP},ei=Gw("localStorage"),TP=Gw("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as=new Of("@firebase/database"),kP=function(){let t=1;return function(){return t++}}(),Kw=function(t){const e=dN(t),n=new lN;n.update(e);const r=n.digest();return xf.encodeByteArray(r)},fl=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=fl.apply(null,r):typeof r=="object"?e+=$e(r):e+=r,e+=" "}return e};let Eo=null,Y_=!0;const NP=function(t,e){D(!e,"Can't turn on custom loggers persistently."),as.logLevel=ge.VERBOSE,Eo=as.log.bind(as)},Xe=function(...t){if(Y_===!0&&(Y_=!1,Eo===null&&TP.get("logging_enabled")===!0&&NP()),Eo){const e=fl.apply(null,t);Eo(e)}},pl=function(t){return function(...e){Xe(t,...e)}},Eh=function(...t){const e="FIREBASE INTERNAL ERROR: "+fl(...t);as.error(e)},Hn=function(...t){const e=`FIREBASE FATAL ERROR: ${fl(...t)}`;throw as.error(e),new Error(e)},Ct=function(...t){const e="FIREBASE WARNING: "+fl(...t);as.warn(e)},bP=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ct("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Kf=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},xP=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ws="[MIN_NAME]",pi="[MAX_NAME]",yi=function(t,e){if(t===e)return 0;if(t===ws||e===pi)return-1;if(e===ws||t===pi)return 1;{const n=X_(t),r=X_(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},PP=function(t,e){return t===e?0:t<e?-1:1},to=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+$e(e))},qf=function(t){if(typeof t!="object"||t===null)return $e(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=$e(e[r]),n+=":",n+=qf(t[e[r]]);return n+="}",n},qw=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function et(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Qw=function(t){D(!Kf(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,c;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const d=[];for(c=n;c;c-=1)d.push(o%2?1:0),o=Math.floor(o/2);for(c=e;c;c-=1)d.push(s%2?1:0),s=Math.floor(s/2);d.push(i?1:0),d.reverse();const f=d.join("");let p="";for(c=0;c<64;c+=8){let g=parseInt(f.substr(c,8),2).toString(16);g.length===1&&(g="0"+g),p=p+g}return p.toLowerCase()},AP=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},RP=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function OP(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const DP=new RegExp("^-?(0*)\\d{1,10}$"),LP=-2147483648,MP=2147483647,X_=function(t){if(DP.test(t)){const e=Number(t);if(e>=LP&&e<=MP)return e}return null},Os=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Ct("Exception was thrown by user callback.",n),e},Math.floor(0))}},FP=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Co=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ct(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Xe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ct(e)}}class Sa{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Sa.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf="5",Yw="v",Xw="s",Jw="r",Zw="f",eE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,tE="ls",nE="p",Ch="ac",rE="websocket",iE="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e,n,r,i,s=!1,o="",a=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ei.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ei.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function $P(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function oE(t,e,n){D(typeof e=="string","typeof type must == string"),D(typeof n=="object","typeof params must == object");let r;if(e===rE)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===iE)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);$P(t)&&(n.ns=t.namespace);const i=[];return et(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(){this.counters_={}}incrementCounter(e,n=1){Cn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Hk(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd={},ud={};function Yf(t){const e=t.toString();return cd[e]||(cd[e]=new zP),cd[e]}function WP(t,e){const n=t.toString();return ud[n]||(ud[n]=e()),ud[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Os(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="start",HP="close",VP="pLPCommand",GP="pRTLPCB",lE="id",aE="pw",cE="ser",KP="cb",qP="seg",QP="ts",YP="d",XP="dframe",uE=1870,dE=30,JP=uE-dE,ZP=25e3,eA=3e4;class Ji{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=pl(e),this.stats_=Yf(n),this.urlFn=c=>(this.appCheckToken&&(c[Ch]=this.appCheckToken),oE(n,iE,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new BP(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(eA)),xP(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Xf((...s)=>{const[o,a,c,d,f]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===J_)this.id=a,this.password=c;else if(o===HP)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[J_]="t",r[cE]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[KP]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Yw]=Qf,this.transportSessionId&&(r[Xw]=this.transportSessionId),this.lastSessionId&&(r[tE]=this.lastSessionId),this.applicationId&&(r[nE]=this.applicationId),this.appCheckToken&&(r[Ch]=this.appCheckToken),typeof location<"u"&&location.hostname&&eE.test(location.hostname)&&(r[Jw]=Zw);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ji.forceAllow_=!0}static forceDisallow(){Ji.forceDisallow_=!0}static isAvailable(){return Ji.forceAllow_?!0:!Ji.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!AP()&&!RP()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=$e(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=ew(n),i=qw(r,JP);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[XP]="t",r[lE]=e,r[aE]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=$e(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Xf{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=kP(),window[VP+this.uniqueCallbackIdentifier]=e,window[GP+this.uniqueCallbackIdentifier]=n,this.myIFrame=Xf.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Xe("frame writing exception"),a.stack&&Xe(a.stack),Xe(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Xe("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[lE]=this.myID,e[aE]=this.myPW,e[cE]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+dE+r.length<=uE;){const o=this.pendingSegs.shift();r=r+"&"+qP+i+"="+o.seg+"&"+QP+i+"="+o.ts+"&"+YP+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(ZP)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Xe("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA=16384,nA=45e3;let sc=null;typeof MozWebSocket<"u"?sc=MozWebSocket:typeof WebSocket<"u"&&(sc=WebSocket);class Zt{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=pl(this.connId),this.stats_=Yf(n),this.connURL=Zt.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[Yw]=Qf,typeof location<"u"&&location.hostname&&eE.test(location.hostname)&&(o[Jw]=Zw),n&&(o[Xw]=n),r&&(o[tE]=r),i&&(o[Ch]=i),s&&(o[nE]=s),oE(e,rE,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ei.set("previous_websocket_failure",!0);try{let r;ow(),this.mySock=new sc(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Zt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&sc!==null&&!Zt.forceDisallow_}static previouslyFailed(){return ei.isInMemoryStorage||ei.get("previous_websocket_failure")===!0}markConnectionHealthy(){ei.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Vo(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(D(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=$e(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=qw(n,tA);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(nA))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Zt.responsesRequiredToBeHealthy=2;Zt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Ji,Zt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Zt&&Zt.isAvailable();let r=n&&!Zt.previouslyFailed();if(e.webSocketOnly&&(n||Ct("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Zt];else{const i=this.transports_=[];for(const s of qo.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);qo.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}qo.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA=6e4,iA=5e3,sA=10*1024,oA=100*1024,dd="t",Z_="d",lA="s",ev="r",aA="e",tv="o",nv="a",rv="n",iv="p",cA="h";class uA{constructor(e,n,r,i,s,o,a,c,d,f){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=c,this.onKill_=d,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=pl("c:"+this.id+":"),this.transportManager_=new qo(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Co(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>oA?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>sA?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(dd in e){const n=e[dd];n===nv?this.upgradeIfSecondaryHealthy_():n===ev?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===tv&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=to("t",e),r=to("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:iv,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:nv,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:rv,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=to("t",e),r=to("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=to(dd,e);if(Z_ in e){const r=e[Z_];if(n===cA){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===rv){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===lA?this.onConnectionShutdown_(r):n===ev?this.onReset_(r):n===aA?Eh("Server Error: "+r):n===tv?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Eh("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Qf!==r&&Ct("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Co(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(rA))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Co(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(iA))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:iv,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ei.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e){this.allowedEvents_=e,this.listeners_={},D(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){D(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc extends fE{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Af()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new oc}getInitialEvent(e){return D(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv=32,ov=768;class _e{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ce(){return new _e("")}function le(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Nr(t){return t.pieces_.length-t.pieceNum_}function Ee(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new _e(t.pieces_,e)}function Jf(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function dA(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Qo(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function pE(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new _e(e,0)}function Re(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof _e)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new _e(n,0)}function re(t){return t.pieceNum_>=t.pieces_.length}function ht(t,e){const n=le(t),r=le(e);if(n===null)return e;if(n===r)return ht(Ee(t),Ee(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function hA(t,e){const n=Qo(t,0),r=Qo(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=yi(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function mE(t,e){if(Nr(t)!==Nr(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function zt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Nr(t)>Nr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class fA{constructor(e,n){this.errorPrefix_=n,this.parts_=Qo(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Fc(this.parts_[r]);gE(this)}}function pA(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Fc(e),gE(t)}function mA(t){const e=t.parts_.pop();t.byteLength_-=Fc(e),t.parts_.length>0&&(t.byteLength_-=1)}function gE(t){if(t.byteLength_>ov)throw new Error(t.errorPrefix_+"has a key path longer than "+ov+" bytes ("+t.byteLength_+").");if(t.parts_.length>sv)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+sv+") or object contains a cycle "+Qr(t))}function Qr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf extends fE{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Zf}getInitialEvent(e){return D(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=1e3,gA=60*5*1e3,lv=30*1e3,_A=1.3,vA=3e4,yA="server_kill",av=3;class jn extends hE{constructor(e,n,r,i,s,o,a,c){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=c,this.id=jn.nextPersistentConnectionId_++,this.log_=pl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=no,this.maxReconnectDelay_=gA,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!ow())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Zf.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&oc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_($e(s)),D(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Mc,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),D(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),D(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const c=a.d,d=a.s;jn.warnOnListenWarnings_(c,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),d!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(d,c))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Cn(e,"w")){const r=_s(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Ct(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||oN(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=lv)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=sN(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),D(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+$e(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Eh("Unrecognized action received from server: "+$e(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){D(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=no,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=no,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>vA&&(this.reconnectDelay_=no),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*_A)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+jn.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const c=function(){a?a.close():(o=!0,r())},d=function(p){D(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(p)};this.realtime_={close:c,sendRequest:d};const f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[p,g]=await Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);o?Xe("getToken() completed but was canceled"):(Xe("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=g&&g.token,a=new uA(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,w=>{Ct(w+" ("+this.repoInfo_.toString()+")"),this.interrupt(yA)},s))}catch(p){this.log_("Failed to get token: "+p),o||(this.repoInfo_.nodeAdmin&&Ct(p),c())}}}interrupt(e){Xe("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Xe("Resuming connection for reason: "+e),delete this.interruptReasons_[e],dh(this.interruptReasons_)&&(this.reconnectDelay_=no,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>qf(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new _e(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Xe("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=av&&(this.reconnectDelay_=lv,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Xe("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=av&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Vw.replace(/\./g,"-")]=1,Af()?e["framework.cordova"]=1:sw()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=oc.getInstance().currentlyOnline();return dh(this.interruptReasons_)&&e}}jn.nextPersistentConnectionId_=0;jn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ne(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new ne(ws,e),i=new ne(ws,n);return this.compare(r,i)!==0}minPost(){return ne.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sa;class _E extends Wc{static get __EMPTY_NODE(){return sa}static set __EMPTY_NODE(e){sa=e}compare(e,n){return yi(e.name,n.name)}isDefinedOn(e){throw xs("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ne.MIN}maxPost(){return new ne(pi,sa)}makePost(e,n){return D(typeof e=="string","KeyIndex indexValue must always be a string."),new ne(e,sa)}toString(){return".key"}}const cs=new _E;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ge{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ge.RED,this.left=i??vt.EMPTY_NODE,this.right=s??vt.EMPTY_NODE}copy(e,n,r,i,s){return new Ge(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return vt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return vt.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ge.RED=!0;Ge.BLACK=!1;class wA{copy(e,n,r,i,s){return this}insert(e,n,r){return new Ge(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class vt{constructor(e,n=vt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new vt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ge.BLACK,null,null))}remove(e){return new vt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ge.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new oa(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new oa(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new oa(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new oa(this.root_,null,this.comparator_,!0,e)}}vt.EMPTY_NODE=new wA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(t,e){return yi(t.name,e.name)}function ep(t,e){return yi(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sh;function CA(t){Sh=t}const vE=function(t){return typeof t=="number"?"number:"+Qw(t):"string:"+t},yE=function(t){if(t.isLeafNode()){const e=t.val();D(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Cn(e,".sv"),"Priority must be a string or number.")}else D(t===Sh||t.isEmpty(),"priority of unexpected type.");D(t===Sh||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cv;class He{constructor(e,n=He.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,D(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),yE(this.priorityNode_)}static set __childrenNodeConstructor(e){cv=e}static get __childrenNodeConstructor(){return cv}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new He(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:He.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return re(e)?this:le(e)===".priority"?this.priorityNode_:He.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:He.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=le(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(D(r!==".priority"||Nr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,He.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ee(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+vE(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Qw(this.value_):e+=this.value_,this.lazyHash_=Kw(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===He.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof He.__childrenNodeConstructor?-1:(D(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=He.VALUE_TYPE_ORDER.indexOf(n),s=He.VALUE_TYPE_ORDER.indexOf(r);return D(i>=0,"Unknown leaf type: "+n),D(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}He.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wE,EE;function SA(t){wE=t}function IA(t){EE=t}class TA extends Wc{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?yi(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ne.MIN}maxPost(){return new ne(pi,new He("[PRIORITY-POST]",EE))}makePost(e,n){const r=wE(e);return new ne(n,new He("[PRIORITY-POST]",r))}toString(){return".priority"}}const Oe=new TA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA=Math.log(2);class NA{constructor(e){const n=s=>parseInt(Math.log(s)/kA,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const lc=function(t,e,n,r){t.sort(e);const i=function(c,d){const f=d-c;let p,g;if(f===0)return null;if(f===1)return p=t[c],g=n?n(p):p,new Ge(g,p.node,Ge.BLACK,null,null);{const w=parseInt(f/2,10)+c,C=i(c,w),T=i(w+1,d);return p=t[w],g=n?n(p):p,new Ge(g,p.node,Ge.BLACK,C,T)}},s=function(c){let d=null,f=null,p=t.length;const g=function(C,T){const x=p-C,v=p;p-=C;const _=i(x+1,v),y=t[x],N=n?n(y):y;w(new Ge(N,y.node,T,null,_))},w=function(C){d?(d.left=C,d=C):(f=C,d=C)};for(let C=0;C<c.count;++C){const T=c.nextBitIsOne(),x=Math.pow(2,c.count-(C+1));T?g(x,Ge.BLACK):(g(x,Ge.BLACK),g(x,Ge.RED))}return f},o=new NA(t.length),a=s(o);return new vt(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hd;const Ui={};class Mn{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return D(Ui&&Oe,"ChildrenNode.ts has not been loaded"),hd=hd||new Mn({".priority":Ui},{".priority":Oe}),hd}get(e){const n=_s(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof vt?n:null}hasIndex(e){return Cn(this.indexSet_,e.toString())}addIndex(e,n){D(e!==cs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(ne.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=lc(r,e.getCompare()):a=Ui;const c=e.toString(),d=Object.assign({},this.indexSet_);d[c]=e;const f=Object.assign({},this.indexes_);return f[c]=a,new Mn(f,d)}addToIndexes(e,n){const r=Xa(this.indexes_,(i,s)=>{const o=_s(this.indexSet_,s);if(D(o,"Missing index implementation for "+s),i===Ui)if(o.isDefinedOn(e.node)){const a=[],c=n.getIterator(ne.Wrap);let d=c.getNext();for(;d;)d.name!==e.name&&a.push(d),d=c.getNext();return a.push(e),lc(a,o.getCompare())}else return Ui;else{const a=n.get(e.name);let c=i;return a&&(c=c.remove(new ne(e.name,a))),c.insert(e,e.node)}});return new Mn(r,this.indexSet_)}removeFromIndexes(e,n){const r=Xa(this.indexes_,i=>{if(i===Ui)return i;{const s=n.get(e.name);return s?i.remove(new ne(e.name,s)):i}});return new Mn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ro;class G{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&yE(this.priorityNode_),this.children_.isEmpty()&&D(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ro||(ro=new G(new vt(ep),null,Mn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ro}updatePriority(e){return this.children_.isEmpty()?this:new G(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?ro:n}}getChild(e){const n=le(e);return n===null?this:this.getImmediateChild(n).getChild(Ee(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(D(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new ne(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?ro:this.priorityNode_;return new G(i,o,s)}}updateChild(e,n){const r=le(e);if(r===null)return n;{D(le(e)!==".priority"||Nr(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Ee(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Oe,(o,a)=>{n[o]=a.val(e),r++,s&&G.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+vE(this.getPriority().val())+":"),this.forEachChild(Oe,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":Kw(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new ne(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ne(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ne(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,ne.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,ne.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ml?-1:0}withIndex(e){if(e===cs||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new G(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===cs||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Oe),i=n.getIterator(Oe);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===cs?null:this.indexMap_.get(e.toString())}}G.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class bA extends G{constructor(){super(new vt(ep),G.EMPTY_NODE,Mn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return G.EMPTY_NODE}isEmpty(){return!1}}const ml=new bA;Object.defineProperties(ne,{MIN:{value:new ne(ws,G.EMPTY_NODE)},MAX:{value:new ne(pi,ml)}});_E.__EMPTY_NODE=G.EMPTY_NODE;He.__childrenNodeConstructor=G;CA(ml);IA(ml);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA=!0;function Ke(t,e=null){if(t===null)return G.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),D(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new He(n,Ke(e))}if(!(t instanceof Array)&&xA){const n=[];let r=!1;if(et(t,(o,a)=>{if(o.substring(0,1)!=="."){const c=Ke(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new ne(o,c)))}}),n.length===0)return G.EMPTY_NODE;const s=lc(n,EA,o=>o.name,ep);if(r){const o=lc(n,Oe.getCompare());return new G(s,Ke(e),new Mn({".priority":o},{".priority":Oe}))}else return new G(s,Ke(e),Mn.Default)}else{let n=G.EMPTY_NODE;return et(t,(r,i)=>{if(Cn(t,r)&&r.substring(0,1)!=="."){const s=Ke(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Ke(e))}}SA(Ke);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA extends Wc{constructor(e){super(),this.indexPath_=e,D(!re(e)&&le(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?yi(e.name,n.name):s}makePost(e,n){const r=Ke(e),i=G.EMPTY_NODE.updateChild(this.indexPath_,r);return new ne(n,i)}maxPost(){const e=G.EMPTY_NODE.updateChild(this.indexPath_,ml);return new ne(pi,e)}toString(){return Qo(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA extends Wc{compare(e,n){const r=e.node.compareTo(n.node);return r===0?yi(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ne.MIN}maxPost(){return ne.MAX}makePost(e,n){const r=Ke(e);return new ne(n,r)}toString(){return".value"}}const RA=new AA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(t){return{type:"value",snapshotNode:t}}function Es(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Yo(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Xo(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function OA(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){D(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Yo(n,a)):D(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Es(n,r)):o.trackChildChange(Xo(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Oe,(i,s)=>{n.hasChild(i)||r.trackChildChange(Yo(i,s))}),n.isLeafNode()||n.forEachChild(Oe,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(Xo(i,s,o))}else r.trackChildChange(Es(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?G.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e){this.indexedFilter_=new tp(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Jo.getStartPost_(e),this.endPost_=Jo.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new ne(n,r))||(r=G.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=G.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(G.EMPTY_NODE);const s=this;return n.forEachChild(Oe,(o,a)=>{s.matches(new ne(o,a))||(i=i.updateImmediateChild(o,G.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Jo(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new ne(n,r))||(r=G.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=G.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=G.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(G.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,G.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const p=this.index_.getCompare();o=(g,w)=>p(w,g)}else o=this.index_.getCompare();const a=e;D(a.numChildren()===this.limit_,"");const c=new ne(n,r),d=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),f=this.rangedFilter_.matches(c);if(a.hasChild(n)){const p=a.getImmediateChild(n);let g=i.getChildAfterChild(this.index_,d,this.reverse_);for(;g!=null&&(g.name===n||a.hasChild(g.name));)g=i.getChildAfterChild(this.index_,g,this.reverse_);const w=g==null?1:o(g,c);if(f&&!r.isEmpty()&&w>=0)return s!=null&&s.trackChildChange(Xo(n,r,p)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Yo(n,p));const T=a.updateImmediateChild(n,G.EMPTY_NODE);return g!=null&&this.rangedFilter_.matches(g)?(s!=null&&s.trackChildChange(Es(g.name,g.node)),T.updateImmediateChild(g.name,g.node)):T}}else return r.isEmpty()?e:f&&o(d,c)>=0?(s!=null&&(s.trackChildChange(Yo(d.name,d.node)),s.trackChildChange(Es(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(d.name,G.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Oe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return D(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return D(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ws}hasEnd(){return this.endSet_}getIndexEndValue(){return D(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return D(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:pi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return D(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Oe}copy(){const e=new np;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function LA(t){return t.loadsAllData()?new tp(t.getIndex()):t.hasLimit()?new DA(t):new Jo(t)}function uv(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Oe?n="$priority":t.index_===RA?n="$value":t.index_===cs?n="$key":(D(t.index_ instanceof PA,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=$e(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=$e(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+$e(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=$e(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+$e(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function dv(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Oe&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac extends hE{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=pl("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(D(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=ac.getListenId_(e,r),a={};this.listens_[o]=a;const c=uv(e._queryParams);this.restRequest_(s+".json",c,(d,f)=>{let p=f;if(d===404&&(p=null,d=null),d===null&&this.onDataUpdate_(s,p,!1,r),_s(this.listens_,o)===a){let g;d?d===401?g="permission_denied":g="rest_error:"+d:g="ok",i(g,null)}})}unlisten(e,n){const r=ac.getListenId_(e,n);delete this.listens_[r]}get(e){const n=uv(e._queryParams),r=e._path.toString(),i=new Mc;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ps(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=Vo(a.responseText)}catch{Ct("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&Ct("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(){this.rootNode_=G.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cc(){return{value:null,children:new Map}}function SE(t,e,n){if(re(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=le(e);t.children.has(r)||t.children.set(r,cc());const i=t.children.get(r);e=Ee(e),SE(i,e,n)}}function Ih(t,e,n){t.value!==null?n(e,t.value):FA(t,(r,i)=>{const s=new _e(e.toString()+"/"+r);Ih(i,s,n)})}function FA(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&et(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv=10*1e3,UA=30*1e3,$A=5*60*1e3;class zA{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new jA(e);const r=hv+(UA-hv)*Math.random();Co(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;et(e,(i,s)=>{s>0&&Cn(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Co(this.reportStats_.bind(this),Math.floor(Math.random()*2*$A))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var en;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(en||(en={}));function rp(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function ip(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function sp(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=en.ACK_USER_WRITE,this.source=rp()}operationForChild(e){if(re(this.path)){if(this.affectedTree.value!=null)return D(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new _e(e));return new uc(ce(),n,this.revert)}}else return D(le(this.path)===e,"operationForChild called for unrelated child."),new uc(Ee(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,n){this.source=e,this.path=n,this.type=en.LISTEN_COMPLETE}operationForChild(e){return re(this.path)?new Zo(this.source,ce()):new Zo(this.source,Ee(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=en.OVERWRITE}operationForChild(e){return re(this.path)?new mi(this.source,ce(),this.snap.getImmediateChild(e)):new mi(this.source,Ee(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=en.MERGE}operationForChild(e){if(re(this.path)){const n=this.children.subtree(new _e(e));return n.isEmpty()?null:n.value?new mi(this.source,ce(),n.value):new Cs(this.source,ce(),n)}else return D(le(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Cs(this.source,Ee(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(re(e))return this.isFullyInitialized()&&!this.filtered_;const n=le(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function BA(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(OA(o.childName,o.snapshotNode))}),io(t,i,"child_removed",e,r,n),io(t,i,"child_added",e,r,n),io(t,i,"child_moved",s,r,n),io(t,i,"child_changed",e,r,n),io(t,i,"value",e,r,n),i}function io(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,c)=>VA(t,a,c)),o.forEach(a=>{const c=HA(t,a,s);i.forEach(d=>{d.respondsTo(a.type)&&e.push(d.createEvent(c,t.query_))})})}function HA(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function VA(t,e,n){if(e.childName==null||n.childName==null)throw xs("Should only compare child_ events.");const r=new ne(e.childName,e.snapshotNode),i=new ne(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bc(t,e){return{eventCache:t,serverCache:e}}function So(t,e,n,r){return Bc(new br(e,n,r),t.serverCache)}function IE(t,e,n,r){return Bc(t.eventCache,new br(e,n,r))}function dc(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function gi(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fd;const GA=()=>(fd||(fd=new vt(PP)),fd);class we{constructor(e,n=GA()){this.value=e,this.children=n}static fromObject(e){let n=new we(null);return et(e,(r,i)=>{n=n.set(new _e(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ce(),value:this.value};if(re(e))return null;{const r=le(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(Ee(e),n);return s!=null?{path:Re(new _e(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(re(e))return this;{const n=le(e),r=this.children.get(n);return r!==null?r.subtree(Ee(e)):new we(null)}}set(e,n){if(re(e))return new we(n,this.children);{const r=le(e),s=(this.children.get(r)||new we(null)).set(Ee(e),n),o=this.children.insert(r,s);return new we(this.value,o)}}remove(e){if(re(e))return this.children.isEmpty()?new we(null):new we(null,this.children);{const n=le(e),r=this.children.get(n);if(r){const i=r.remove(Ee(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new we(null):new we(this.value,s)}else return this}}get(e){if(re(e))return this.value;{const n=le(e),r=this.children.get(n);return r?r.get(Ee(e)):null}}setTree(e,n){if(re(e))return n;{const r=le(e),s=(this.children.get(r)||new we(null)).setTree(Ee(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new we(this.value,o)}}fold(e){return this.fold_(ce(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Re(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ce(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(re(e))return null;{const s=le(e),o=this.children.get(s);return o?o.findOnPath_(Ee(e),Re(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ce(),n)}foreachOnPath_(e,n,r){if(re(e))return this;{this.value&&r(n,this.value);const i=le(e),s=this.children.get(i);return s?s.foreachOnPath_(Ee(e),Re(n,i),r):new we(null)}}foreach(e){this.foreach_(ce(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Re(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.writeTree_=e}static empty(){return new sn(new we(null))}}function Io(t,e,n){if(re(e))return new sn(new we(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=ht(i,e);return s=s.updateChild(o,n),new sn(t.writeTree_.set(i,s))}else{const i=new we(n),s=t.writeTree_.setTree(e,i);return new sn(s)}}}function Th(t,e,n){let r=t;return et(n,(i,s)=>{r=Io(r,Re(e,i),s)}),r}function fv(t,e){if(re(e))return sn.empty();{const n=t.writeTree_.setTree(e,new we(null));return new sn(n)}}function kh(t,e){return wi(t,e)!=null}function wi(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(ht(n.path,e)):null}function pv(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Oe,(r,i)=>{e.push(new ne(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new ne(r,i.value))}),e}function Sr(t,e){if(re(e))return t;{const n=wi(t,e);return n!=null?new sn(new we(n)):new sn(t.writeTree_.subtree(e))}}function Nh(t){return t.writeTree_.isEmpty()}function Ss(t,e){return TE(ce(),t.writeTree_,e)}function TE(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(D(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=TE(Re(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Re(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(t,e){return xE(e,t)}function KA(t,e,n,r,i){D(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Io(t.visibleWrites,e,n)),t.lastWriteId=r}function qA(t,e,n,r){D(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Th(t.visibleWrites,e,n),t.lastWriteId=r}function QA(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function YA(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);D(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&XA(a,r.path)?i=!1:zt(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return JA(t),!0;if(r.snap)t.visibleWrites=fv(t.visibleWrites,r.path);else{const a=r.children;et(a,c=>{t.visibleWrites=fv(t.visibleWrites,Re(r.path,c))})}return!0}else return!1}function XA(t,e){if(t.snap)return zt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&zt(Re(t.path,n),e))return!0;return!1}function JA(t){t.visibleWrites=kE(t.allWrites,ZA,ce()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function ZA(t){return t.visible}function kE(t,e,n){let r=sn.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)zt(n,o)?(a=ht(n,o),r=Io(r,a,s.snap)):zt(o,n)&&(a=ht(o,n),r=Io(r,ce(),s.snap.getChild(a)));else if(s.children){if(zt(n,o))a=ht(n,o),r=Th(r,a,s.children);else if(zt(o,n))if(a=ht(o,n),re(a))r=Th(r,ce(),s.children);else{const c=_s(s.children,le(a));if(c){const d=c.getChild(Ee(a));r=Io(r,ce(),d)}}}else throw xs("WriteRecord should have .snap or .children")}}return r}function NE(t,e,n,r,i){if(!r&&!i){const s=wi(t.visibleWrites,e);if(s!=null)return s;{const o=Sr(t.visibleWrites,e);if(Nh(o))return n;if(n==null&&!kh(o,ce()))return null;{const a=n||G.EMPTY_NODE;return Ss(o,a)}}}else{const s=Sr(t.visibleWrites,e);if(!i&&Nh(s))return n;if(!i&&n==null&&!kh(s,ce()))return null;{const o=function(d){return(d.visible||i)&&(!r||!~r.indexOf(d.writeId))&&(zt(d.path,e)||zt(e,d.path))},a=kE(t.allWrites,o,e),c=n||G.EMPTY_NODE;return Ss(a,c)}}}function eR(t,e,n){let r=G.EMPTY_NODE;const i=wi(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Oe,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Sr(t.visibleWrites,e);return n.forEachChild(Oe,(o,a)=>{const c=Ss(Sr(s,new _e(o)),a);r=r.updateImmediateChild(o,c)}),pv(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Sr(t.visibleWrites,e);return pv(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function tR(t,e,n,r,i){D(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Re(e,n);if(kh(t.visibleWrites,s))return null;{const o=Sr(t.visibleWrites,s);return Nh(o)?i.getChild(n):Ss(o,i.getChild(n))}}function nR(t,e,n,r){const i=Re(e,n),s=wi(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Sr(t.visibleWrites,i);return Ss(o,r.getNode().getImmediateChild(n))}else return null}function rR(t,e){return wi(t.visibleWrites,e)}function iR(t,e,n,r,i,s,o){let a;const c=Sr(t.visibleWrites,e),d=wi(c,ce());if(d!=null)a=d;else if(n!=null)a=Ss(c,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const f=[],p=o.getCompare(),g=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let w=g.getNext();for(;w&&f.length<i;)p(w,r)!==0&&f.push(w),w=g.getNext();return f}else return[]}function sR(){return{visibleWrites:sn.empty(),allWrites:[],lastWriteId:-1}}function hc(t,e,n,r){return NE(t.writeTree,t.treePath,e,n,r)}function op(t,e){return eR(t.writeTree,t.treePath,e)}function mv(t,e,n,r){return tR(t.writeTree,t.treePath,e,n,r)}function fc(t,e){return rR(t.writeTree,Re(t.treePath,e))}function oR(t,e,n,r,i,s){return iR(t.writeTree,t.treePath,e,n,r,i,s)}function lp(t,e,n){return nR(t.writeTree,t.treePath,e,n)}function bE(t,e){return xE(Re(t.treePath,e),t.writeTree)}function xE(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;D(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),D(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Xo(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Yo(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Es(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Xo(r,e.snapshotNode,i.oldSnap));else throw xs("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const PE=new aR;class ap{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new br(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return lp(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:gi(this.viewCache_),s=oR(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(t){return{filter:t}}function uR(t,e){D(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),D(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function dR(t,e,n,r,i){const s=new lR;let o,a;if(n.type===en.OVERWRITE){const d=n;d.source.fromUser?o=bh(t,e,d.path,d.snap,r,i,s):(D(d.source.fromServer,"Unknown source."),a=d.source.tagged||e.serverCache.isFiltered()&&!re(d.path),o=pc(t,e,d.path,d.snap,r,i,a,s))}else if(n.type===en.MERGE){const d=n;d.source.fromUser?o=fR(t,e,d.path,d.children,r,i,s):(D(d.source.fromServer,"Unknown source."),a=d.source.tagged||e.serverCache.isFiltered(),o=xh(t,e,d.path,d.children,r,i,a,s))}else if(n.type===en.ACK_USER_WRITE){const d=n;d.revert?o=gR(t,e,d.path,r,i,s):o=pR(t,e,d.path,d.affectedTree,r,i,s)}else if(n.type===en.LISTEN_COMPLETE)o=mR(t,e,n.path,r,s);else throw xs("Unknown operation type: "+n.type);const c=s.getChanges();return hR(e,o,c),{viewCache:o,changes:c}}function hR(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=dc(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(CE(dc(e)))}}function AE(t,e,n,r,i,s){const o=e.eventCache;if(fc(r,n)!=null)return e;{let a,c;if(re(n))if(D(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const d=gi(e),f=d instanceof G?d:G.EMPTY_NODE,p=op(r,f);a=t.filter.updateFullNode(e.eventCache.getNode(),p,s)}else{const d=hc(r,gi(e));a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const d=le(n);if(d===".priority"){D(Nr(n)===1,"Can't have a priority with additional path components");const f=o.getNode();c=e.serverCache.getNode();const p=mv(r,n,f,c);p!=null?a=t.filter.updatePriority(f,p):a=o.getNode()}else{const f=Ee(n);let p;if(o.isCompleteForChild(d)){c=e.serverCache.getNode();const g=mv(r,n,o.getNode(),c);g!=null?p=o.getNode().getImmediateChild(d).updateChild(f,g):p=o.getNode().getImmediateChild(d)}else p=lp(r,d,e.serverCache);p!=null?a=t.filter.updateChild(o.getNode(),d,p,f,i,s):a=o.getNode()}}return So(e,a,o.isFullyInitialized()||re(n),t.filter.filtersNodes())}}function pc(t,e,n,r,i,s,o,a){const c=e.serverCache;let d;const f=o?t.filter:t.filter.getIndexedFilter();if(re(n))d=f.updateFullNode(c.getNode(),r,null);else if(f.filtersNodes()&&!c.isFiltered()){const w=c.getNode().updateChild(n,r);d=f.updateFullNode(c.getNode(),w,null)}else{const w=le(n);if(!c.isCompleteForPath(n)&&Nr(n)>1)return e;const C=Ee(n),x=c.getNode().getImmediateChild(w).updateChild(C,r);w===".priority"?d=f.updatePriority(c.getNode(),x):d=f.updateChild(c.getNode(),w,x,C,PE,null)}const p=IE(e,d,c.isFullyInitialized()||re(n),f.filtersNodes()),g=new ap(i,p,s);return AE(t,p,n,i,g,a)}function bh(t,e,n,r,i,s,o){const a=e.eventCache;let c,d;const f=new ap(i,e,s);if(re(n))d=t.filter.updateFullNode(e.eventCache.getNode(),r,o),c=So(e,d,!0,t.filter.filtersNodes());else{const p=le(n);if(p===".priority")d=t.filter.updatePriority(e.eventCache.getNode(),r),c=So(e,d,a.isFullyInitialized(),a.isFiltered());else{const g=Ee(n),w=a.getNode().getImmediateChild(p);let C;if(re(g))C=r;else{const T=f.getCompleteChild(p);T!=null?Jf(g)===".priority"&&T.getChild(pE(g)).isEmpty()?C=T:C=T.updateChild(g,r):C=G.EMPTY_NODE}if(w.equals(C))c=e;else{const T=t.filter.updateChild(a.getNode(),p,C,g,f,o);c=So(e,T,a.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function gv(t,e){return t.eventCache.isCompleteForChild(e)}function fR(t,e,n,r,i,s,o){let a=e;return r.foreach((c,d)=>{const f=Re(n,c);gv(e,le(f))&&(a=bh(t,a,f,d,i,s,o))}),r.foreach((c,d)=>{const f=Re(n,c);gv(e,le(f))||(a=bh(t,a,f,d,i,s,o))}),a}function _v(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function xh(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,d;re(n)?d=r:d=new we(null).setTree(n,r);const f=e.serverCache.getNode();return d.children.inorderTraversal((p,g)=>{if(f.hasChild(p)){const w=e.serverCache.getNode().getImmediateChild(p),C=_v(t,w,g);c=pc(t,c,new _e(p),C,i,s,o,a)}}),d.children.inorderTraversal((p,g)=>{const w=!e.serverCache.isCompleteForChild(p)&&g.value===null;if(!f.hasChild(p)&&!w){const C=e.serverCache.getNode().getImmediateChild(p),T=_v(t,C,g);c=pc(t,c,new _e(p),T,i,s,o,a)}}),c}function pR(t,e,n,r,i,s,o){if(fc(i,n)!=null)return e;const a=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(re(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return pc(t,e,n,c.getNode().getChild(n),i,s,a,o);if(re(n)){let d=new we(null);return c.getNode().forEachChild(cs,(f,p)=>{d=d.set(new _e(f),p)}),xh(t,e,n,d,i,s,a,o)}else return e}else{let d=new we(null);return r.foreach((f,p)=>{const g=Re(n,f);c.isCompleteForPath(g)&&(d=d.set(f,c.getNode().getChild(g)))}),xh(t,e,n,d,i,s,a,o)}}function mR(t,e,n,r,i){const s=e.serverCache,o=IE(e,s.getNode(),s.isFullyInitialized()||re(n),s.isFiltered());return AE(t,o,n,r,PE,i)}function gR(t,e,n,r,i,s){let o;if(fc(r,n)!=null)return e;{const a=new ap(r,e,i),c=e.eventCache.getNode();let d;if(re(n)||le(n)===".priority"){let f;if(e.serverCache.isFullyInitialized())f=hc(r,gi(e));else{const p=e.serverCache.getNode();D(p instanceof G,"serverChildren would be complete if leaf node"),f=op(r,p)}f=f,d=t.filter.updateFullNode(c,f,s)}else{const f=le(n);let p=lp(r,f,e.serverCache);p==null&&e.serverCache.isCompleteForChild(f)&&(p=c.getImmediateChild(f)),p!=null?d=t.filter.updateChild(c,f,p,Ee(n),a,s):e.eventCache.getNode().hasChild(f)?d=t.filter.updateChild(c,f,G.EMPTY_NODE,Ee(n),a,s):d=c,d.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=hc(r,gi(e)),o.isLeafNode()&&(d=t.filter.updateFullNode(d,o,s)))}return o=e.serverCache.isFullyInitialized()||fc(r,ce())!=null,So(e,d,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new tp(r.getIndex()),s=LA(r);this.processor_=cR(s);const o=n.serverCache,a=n.eventCache,c=i.updateFullNode(G.EMPTY_NODE,o.getNode(),null),d=s.updateFullNode(G.EMPTY_NODE,a.getNode(),null),f=new br(c,o.isFullyInitialized(),i.filtersNodes()),p=new br(d,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=Bc(p,f),this.eventGenerator_=new WA(this.query_)}get query(){return this.query_}}function vR(t){return t.viewCache_.serverCache.getNode()}function yR(t){return dc(t.viewCache_)}function wR(t,e){const n=gi(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!re(e)&&!n.getImmediateChild(le(e)).isEmpty())?n.getChild(e):null}function vv(t){return t.eventRegistrations_.length===0}function ER(t,e){t.eventRegistrations_.push(e)}function yv(t,e,n){const r=[];if(n){D(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function wv(t,e,n,r){e.type===en.MERGE&&e.source.queryId!==null&&(D(gi(t.viewCache_),"We should always have a full cache before handling merges"),D(dc(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=dR(t.processor_,i,e,n,r);return uR(t.processor_,s.viewCache),D(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,RE(t,s.changes,s.viewCache.eventCache.getNode(),null)}function CR(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Oe,(s,o)=>{r.push(Es(s,o))}),n.isFullyInitialized()&&r.push(CE(n.getNode())),RE(t,r,n.getNode(),e)}function RE(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return BA(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mc;class OE{constructor(){this.views=new Map}}function SR(t){D(!mc,"__referenceConstructor has already been defined"),mc=t}function IR(){return D(mc,"Reference.ts has not been loaded"),mc}function TR(t){return t.views.size===0}function cp(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return D(s!=null,"SyncTree gave us an op for an invalid query."),wv(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(wv(o,e,n,r));return s}}function DE(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=hc(n,i?r:null),c=!1;a?c=!0:r instanceof G?(a=op(n,r),c=!1):(a=G.EMPTY_NODE,c=!1);const d=Bc(new br(a,c,!1),new br(r,i,!1));return new _R(e,d)}return o}function kR(t,e,n,r,i,s){const o=DE(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),ER(o,n),CR(o,n)}function NR(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=xr(t);if(i==="default")for(const[c,d]of t.views.entries())o=o.concat(yv(d,n,r)),vv(d)&&(t.views.delete(c),d.query._queryParams.loadsAllData()||s.push(d.query));else{const c=t.views.get(i);c&&(o=o.concat(yv(c,n,r)),vv(c)&&(t.views.delete(i),c.query._queryParams.loadsAllData()||s.push(c.query)))}return a&&!xr(t)&&s.push(new(IR())(e._repo,e._path)),{removed:s,events:o}}function LE(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Ir(t,e){let n=null;for(const r of t.views.values())n=n||wR(r,e);return n}function ME(t,e){if(e._queryParams.loadsAllData())return Vc(t);{const r=e._queryIdentifier;return t.views.get(r)}}function FE(t,e){return ME(t,e)!=null}function xr(t){return Vc(t)!=null}function Vc(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gc;function bR(t){D(!gc,"__referenceConstructor has already been defined"),gc=t}function xR(){return D(gc,"Reference.ts has not been loaded"),gc}let PR=1;class Ev{constructor(e){this.listenProvider_=e,this.syncPointTree_=new we(null),this.pendingWriteTree_=sR(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function AR(t,e,n,r,i){return KA(t.pendingWriteTree_,e,n,r,i),i?Ds(t,new mi(rp(),e,n)):[]}function RR(t,e,n,r){qA(t.pendingWriteTree_,e,n,r);const i=we.fromObject(n);return Ds(t,new Cs(rp(),e,i))}function ti(t,e,n=!1){const r=QA(t.pendingWriteTree_,e);if(YA(t.pendingWriteTree_,e)){let s=new we(null);return r.snap!=null?s=s.set(ce(),!0):et(r.children,o=>{s=s.set(new _e(o),!0)}),Ds(t,new uc(r.path,s,n))}else return[]}function gl(t,e,n){return Ds(t,new mi(ip(),e,n))}function OR(t,e,n){const r=we.fromObject(n);return Ds(t,new Cs(ip(),e,r))}function DR(t,e){return Ds(t,new Zo(ip(),e))}function LR(t,e,n){const r=up(t,n);if(r){const i=dp(r),s=i.path,o=i.queryId,a=ht(s,e),c=new Zo(sp(o),a);return hp(t,s,c)}else return[]}function jE(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||FE(o,e))){const c=NR(o,e,n,r);TR(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const d=c.removed;if(a=c.events,!i){const f=d.findIndex(g=>g._queryParams.loadsAllData())!==-1,p=t.syncPointTree_.findOnPath(s,(g,w)=>xr(w));if(f&&!p){const g=t.syncPointTree_.subtree(s);if(!g.isEmpty()){const w=UR(g);for(let C=0;C<w.length;++C){const T=w[C],x=T.query,v=BE(t,T);t.listenProvider_.startListening(To(x),el(t,x),v.hashFn,v.onComplete)}}}!p&&d.length>0&&!r&&(f?t.listenProvider_.stopListening(To(e),null):d.forEach(g=>{const w=t.queryToTagMap.get(Gc(g));t.listenProvider_.stopListening(To(g),w)}))}$R(t,d)}return a}function UE(t,e,n,r){const i=up(t,r);if(i!=null){const s=dp(i),o=s.path,a=s.queryId,c=ht(o,e),d=new mi(sp(a),c,n);return hp(t,o,d)}else return[]}function MR(t,e,n,r){const i=up(t,r);if(i){const s=dp(i),o=s.path,a=s.queryId,c=ht(o,e),d=we.fromObject(n),f=new Cs(sp(a),c,d);return hp(t,o,f)}else return[]}function FR(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(g,w)=>{const C=ht(g,i);s=s||Ir(w,C),o=o||xr(w)});let a=t.syncPointTree_.get(i);a?(o=o||xr(a),s=s||Ir(a,ce())):(a=new OE,t.syncPointTree_=t.syncPointTree_.set(i,a));let c;s!=null?c=!0:(c=!1,s=G.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((w,C)=>{const T=Ir(C,ce());T&&(s=s.updateImmediateChild(w,T))}));const d=FE(a,e);if(!d&&!e._queryParams.loadsAllData()){const g=Gc(e);D(!t.queryToTagMap.has(g),"View does not exist, but we have a tag");const w=zR();t.queryToTagMap.set(g,w),t.tagToQueryMap.set(w,g)}const f=Hc(t.pendingWriteTree_,i);let p=kR(a,e,n,f,s,c);if(!d&&!o&&!r){const g=ME(a,e);p=p.concat(WR(t,e,g))}return p}function $E(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const c=ht(o,e),d=Ir(a,c);if(d)return d});return NE(i,e,s,n,!0)}function jR(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(d,f)=>{const p=ht(d,n);r=r||Ir(f,p)});let i=t.syncPointTree_.get(n);i?r=r||Ir(i,ce()):(i=new OE,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,o=s?new br(r,!0,!1):null,a=Hc(t.pendingWriteTree_,e._path),c=DE(i,e,a,s?o.getNode():G.EMPTY_NODE,s);return yR(c)}function Ds(t,e){return zE(e,t.syncPointTree_,null,Hc(t.pendingWriteTree_,ce()))}function zE(t,e,n,r){if(re(t.path))return WE(t,e,n,r);{const i=e.get(ce());n==null&&i!=null&&(n=Ir(i,ce()));let s=[];const o=le(t.path),a=t.operationForChild(o),c=e.children.get(o);if(c&&a){const d=n?n.getImmediateChild(o):null,f=bE(r,o);s=s.concat(zE(a,c,d,f))}return i&&(s=s.concat(cp(i,t,r,n))),s}}function WE(t,e,n,r){const i=e.get(ce());n==null&&i!=null&&(n=Ir(i,ce()));let s=[];return e.children.inorderTraversal((o,a)=>{const c=n?n.getImmediateChild(o):null,d=bE(r,o),f=t.operationForChild(o);f&&(s=s.concat(WE(f,a,c,d)))}),i&&(s=s.concat(cp(i,t,r,n))),s}function BE(t,e){const n=e.query,r=el(t,n);return{hashFn:()=>(vR(e)||G.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?LR(t,n._path,r):DR(t,n._path);{const s=OP(i,n);return jE(t,n,null,s)}}}}function el(t,e){const n=Gc(e);return t.queryToTagMap.get(n)}function Gc(t){return t._path.toString()+"$"+t._queryIdentifier}function up(t,e){return t.tagToQueryMap.get(e)}function dp(t){const e=t.indexOf("$");return D(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new _e(t.substr(0,e))}}function hp(t,e,n){const r=t.syncPointTree_.get(e);D(r,"Missing sync point for query tag that we're tracking");const i=Hc(t.pendingWriteTree_,e);return cp(r,n,i,null)}function UR(t){return t.fold((e,n,r)=>{if(n&&xr(n))return[Vc(n)];{let i=[];return n&&(i=LE(n)),et(r,(s,o)=>{i=i.concat(o)}),i}})}function To(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(xR())(t._repo,t._path):t}function $R(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Gc(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function zR(){return PR++}function WR(t,e,n){const r=e._path,i=el(t,e),s=BE(t,n),o=t.listenProvider_.startListening(To(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)D(!xr(a.value),"If we're adding a query, it shouldn't be shadowed");else{const c=a.fold((d,f,p)=>{if(!re(d)&&f&&xr(f))return[Vc(f).query];{let g=[];return f&&(g=g.concat(LE(f).map(w=>w.query))),et(p,(w,C)=>{g=g.concat(C)}),g}});for(let d=0;d<c.length;++d){const f=c[d];t.listenProvider_.stopListening(To(f),el(t,f))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new fp(n)}node(){return this.node_}}class pp{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Re(this.path_,e);return new pp(this.syncTree_,n)}node(){return $E(this.syncTree_,this.path_)}}const BR=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Cv=function(t,e,n){if(!t||typeof t!="object")return t;if(D(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return HR(t[".sv"],e,n);if(typeof t[".sv"]=="object")return VR(t[".sv"],e);D(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},HR=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:D(!1,"Unexpected server value: "+t)}},VR=function(t,e,n){t.hasOwnProperty("increment")||D(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&D(!1,"Unexpected increment value: "+r);const i=e.node();if(D(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},HE=function(t,e,n,r){return mp(e,new pp(n,t),r)},GR=function(t,e,n){return mp(t,new fp(e),n)};function mp(t,e,n){const r=t.getPriority().val(),i=Cv(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=Cv(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new He(a,Ke(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new He(i))),o.forEachChild(Oe,(a,c)=>{const d=mp(c,e.getImmediateChild(a),n);d!==c&&(s=s.updateImmediateChild(a,d))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function _p(t,e){let n=e instanceof _e?e:new _e(e),r=t,i=le(n);for(;i!==null;){const s=_s(r.node.children,i)||{children:{},childCount:0};r=new gp(i,r,s),n=Ee(n),i=le(n)}return r}function Ls(t){return t.node.value}function VE(t,e){t.node.value=e,Ph(t)}function GE(t){return t.node.childCount>0}function KR(t){return Ls(t)===void 0&&!GE(t)}function Kc(t,e){et(t.node.children,(n,r)=>{e(new gp(n,t,r))})}function KE(t,e,n,r){n&&!r&&e(t),Kc(t,i=>{KE(i,e,!0,r)}),n&&r&&e(t)}function qR(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function _l(t){return new _e(t.parent===null?t.name:_l(t.parent)+"/"+t.name)}function Ph(t){t.parent!==null&&QR(t.parent,t.name,t)}function QR(t,e,n){const r=KR(n),i=Cn(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Ph(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Ph(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=/[\[\].#$\/\u0000-\u001F\u007F]/,XR=/[\[\].#$\u0000-\u001F\u007F]/,pd=10*1024*1024,vp=function(t){return typeof t=="string"&&t.length!==0&&!YR.test(t)},qE=function(t){return typeof t=="string"&&t.length!==0&&!XR.test(t)},JR=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),qE(t)},ZR=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Kf(t)||t&&typeof t=="object"&&Cn(t,".sv")},yp=function(t,e,n){const r=n instanceof _e?new fA(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Qr(r));if(typeof e=="function")throw new Error(t+"contains a function "+Qr(r)+" with contents = "+e.toString());if(Kf(e))throw new Error(t+"contains "+e.toString()+" "+Qr(r));if(typeof e=="string"&&e.length>pd/3&&Fc(e)>pd)throw new Error(t+"contains a string greater than "+pd+" utf8 bytes "+Qr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(et(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!vp(o)))throw new Error(t+" contains an invalid key ("+o+") "+Qr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);pA(r,o),yp(t,a,r),mA(r)}),i&&s)throw new Error(t+' contains ".value" child '+Qr(r)+" in addition to actual children.")}},eO=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=Qo(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!vp(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(hA);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&zt(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},tO=function(t,e,n,r){const i=Rf(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];et(e,(o,a)=>{const c=new _e(o);if(yp(i,a,Re(n,c)),Jf(c)===".priority"&&!ZR(a))throw new Error(i+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(c)}),eO(i,s)},QE=function(t,e,n,r){if(!qE(n))throw new Error(Rf(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},nO=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),QE(t,e,n)},rO=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!vp(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!JR(n))throw new Error(Rf(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function YE(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!mE(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function En(t,e,n){YE(t,n),sO(t,r=>zt(r,e)||zt(e,r))}function sO(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(oO(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function oO(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Eo&&Xe("event: "+n.toString()),Os(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO="repo_interrupt",aO=25;class cO{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new iO,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=cc(),this.transactionQueueTree_=new gp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function uO(t,e,n){if(t.stats_=Yf(t.repoInfo_),t.forceRestClient_||FP())t.server_=new ac(t.repoInfo_,(r,i,s,o)=>{Sv(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Iv(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{$e(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new jn(t.repoInfo_,e,(r,i,s,o)=>{Sv(t,r,i,s,o)},r=>{Iv(t,r)},r=>{hO(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=WP(t.repoInfo_,()=>new zA(t.stats_,t.server_)),t.infoData_=new MA,t.infoSyncTree_=new Ev({startListening:(r,i,s,o)=>{let a=[];const c=t.infoData_.getNode(r._path);return c.isEmpty()||(a=gl(t.infoSyncTree_,r._path,c),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Ep(t,"connected",!1),t.serverSyncTree_=new Ev({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,c)=>{const d=o(a,c);En(t.eventQueue_,r._path,d)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function dO(t){const n=t.infoData_.getNode(new _e(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function wp(t){return BR({timestamp:dO(t)})}function Sv(t,e,n,r,i){t.dataUpdateCount++;const s=new _e(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const c=Xa(n,d=>Ke(d));o=MR(t.serverSyncTree_,s,c,i)}else{const c=Ke(n);o=UE(t.serverSyncTree_,s,c,i)}else if(r){const c=Xa(n,d=>Ke(d));o=OR(t.serverSyncTree_,s,c)}else{const c=Ke(n);o=gl(t.serverSyncTree_,s,c)}let a=s;o.length>0&&(a=tl(t,s)),En(t.eventQueue_,a,o)}function Iv(t,e){Ep(t,"connected",e),e===!1&&mO(t)}function hO(t,e){et(e,(n,r)=>{Ep(t,n,r)})}function Ep(t,e,n){const r=new _e("/.info/"+e),i=Ke(n);t.infoData_.updateSnapshot(r,i);const s=gl(t.infoSyncTree_,r,i);En(t.eventQueue_,r,s)}function XE(t){return t.nextWriteId_++}function fO(t,e,n){const r=jR(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=Ke(i).withIndex(e._queryParams.getIndex());FR(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=gl(t.serverSyncTree_,e._path,s);else{const a=el(t.serverSyncTree_,e);o=UE(t.serverSyncTree_,e._path,s,a)}return En(t.eventQueue_,e._path,o),jE(t.serverSyncTree_,e,n,null,!0),s},i=>(qc(t,"get for query "+$e(e)+" failed: "+i),Promise.reject(new Error(i))))}function pO(t,e,n,r){qc(t,"update",{path:e.toString(),value:n});let i=!0;const s=wp(t),o={};if(et(n,(a,c)=>{i=!1,o[a]=HE(Re(e,a),Ke(c),t.serverSyncTree_,s)}),i)Xe("update() called with empty data.  Don't do anything."),Tv(t,r,"ok",void 0);else{const a=XE(t),c=RR(t.serverSyncTree_,e,o,a);YE(t.eventQueue_,c),t.server_.merge(e.toString(),n,(d,f)=>{const p=d==="ok";p||Ct("update at "+e+" failed: "+d);const g=ti(t.serverSyncTree_,a,!p),w=g.length>0?tl(t,e):e;En(t.eventQueue_,w,g),Tv(t,r,d,f)}),et(n,d=>{const f=nC(t,Re(e,d));tl(t,f)}),En(t.eventQueue_,e,[])}}function mO(t){qc(t,"onDisconnectEvents");const e=wp(t),n=cc();Ih(t.onDisconnect_,ce(),(i,s)=>{const o=HE(i,s,t.serverSyncTree_,e);SE(n,i,o)});let r=[];Ih(n,ce(),(i,s)=>{r=r.concat(gl(t.serverSyncTree_,i,s));const o=nC(t,i);tl(t,o)}),t.onDisconnect_=cc(),En(t.eventQueue_,ce(),r)}function gO(t){t.persistentConnection_&&t.persistentConnection_.interrupt(lO)}function qc(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Xe(n,...e)}function Tv(t,e,n,r){e&&Os(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function JE(t,e,n){return $E(t.serverSyncTree_,e,n)||G.EMPTY_NODE}function Cp(t,e=t.transactionQueueTree_){if(e||Qc(t,e),Ls(e)){const n=eC(t,e);D(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&_O(t,_l(e),n)}else GE(e)&&Kc(e,n=>{Cp(t,n)})}function _O(t,e,n){const r=n.map(d=>d.currentWriteId),i=JE(t,e,r);let s=i;const o=i.hash();for(let d=0;d<n.length;d++){const f=n[d];D(f.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;const p=ht(e,f.path);s=s.updateChild(p,f.currentOutputSnapshotRaw)}const a=s.val(!0),c=e;t.server_.put(c.toString(),a,d=>{qc(t,"transaction put response",{path:c.toString(),status:d});let f=[];if(d==="ok"){const p=[];for(let g=0;g<n.length;g++)n[g].status=2,f=f.concat(ti(t.serverSyncTree_,n[g].currentWriteId)),n[g].onComplete&&p.push(()=>n[g].onComplete(null,!0,n[g].currentOutputSnapshotResolved)),n[g].unwatcher();Qc(t,_p(t.transactionQueueTree_,e)),Cp(t,t.transactionQueueTree_),En(t.eventQueue_,e,f);for(let g=0;g<p.length;g++)Os(p[g])}else{if(d==="datastale")for(let p=0;p<n.length;p++)n[p].status===3?n[p].status=4:n[p].status=0;else{Ct("transaction at "+c.toString()+" failed: "+d);for(let p=0;p<n.length;p++)n[p].status=4,n[p].abortReason=d}tl(t,e)}},o)}function tl(t,e){const n=ZE(t,e),r=_l(n),i=eC(t,n);return vO(t,i,r),r}function vO(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const c=e[a],d=ht(n,c.path);let f=!1,p;if(D(d!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)f=!0,p=c.abortReason,i=i.concat(ti(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=aO)f=!0,p="maxretry",i=i.concat(ti(t.serverSyncTree_,c.currentWriteId,!0));else{const g=JE(t,c.path,o);c.currentInputSnapshot=g;const w=e[a].update(g.val());if(w!==void 0){yp("transaction failed: Data returned ",w,c.path);let C=Ke(w);typeof w=="object"&&w!=null&&Cn(w,".priority")||(C=C.updatePriority(g.getPriority()));const x=c.currentWriteId,v=wp(t),_=GR(C,g,v);c.currentOutputSnapshotRaw=C,c.currentOutputSnapshotResolved=_,c.currentWriteId=XE(t),o.splice(o.indexOf(x),1),i=i.concat(AR(t.serverSyncTree_,c.path,_,c.currentWriteId,c.applyLocally)),i=i.concat(ti(t.serverSyncTree_,x,!0))}else f=!0,p="nodata",i=i.concat(ti(t.serverSyncTree_,c.currentWriteId,!0))}En(t.eventQueue_,n,i),i=[],f&&(e[a].status=2,function(g){setTimeout(g,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(p==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(p),!1,null))))}Qc(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Os(r[a]);Cp(t,t.transactionQueueTree_)}function ZE(t,e){let n,r=t.transactionQueueTree_;for(n=le(e);n!==null&&Ls(r)===void 0;)r=_p(r,n),e=Ee(e),n=le(e);return r}function eC(t,e){const n=[];return tC(t,e,n),n.sort((r,i)=>r.order-i.order),n}function tC(t,e,n){const r=Ls(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Kc(e,i=>{tC(t,i,n)})}function Qc(t,e){const n=Ls(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,VE(e,n.length>0?n:void 0)}Kc(e,r=>{Qc(t,r)})}function nC(t,e){const n=_l(ZE(t,e)),r=_p(t.transactionQueueTree_,e);return qR(r,i=>{md(t,i)}),md(t,r),KE(r,i=>{md(t,i)}),n}function md(t,e){const n=Ls(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(D(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(D(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(ti(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?VE(e,void 0):n.length=s+1,En(t.eventQueue_,_l(e),i);for(let o=0;o<r.length;o++)Os(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function wO(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ct(`Invalid query segment '${n}' in query '${t}'`)}return e}const kv=function(t,e){const n=EO(t),r=n.namespace;n.domain==="firebase.com"&&Hn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Hn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||bP();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new sE(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new _e(n.pathString)}},EO=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",c=443;if(typeof t=="string"){let d=t.indexOf("//");d>=0&&(a=t.substring(0,d-1),t=t.substring(d+2));let f=t.indexOf("/");f===-1&&(f=t.length);let p=t.indexOf("?");p===-1&&(p=t.length),e=t.substring(0,Math.min(f,p)),f<p&&(i=yO(t.substring(f,p)));const g=wO(t.substring(Math.min(t.length,p)));d=e.indexOf(":"),d>=0?(o=a==="https"||a==="wss",c=parseInt(e.substring(d+1),10)):d=e.length;const w=e.slice(0,d);if(w.toLowerCase()==="localhost")n="localhost";else if(w.split(".").length<=2)n=w;else{const C=e.indexOf(".");r=e.substring(0,C).toLowerCase(),n=e.substring(C+1),s=r}"ns"in g&&(s=g.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+$e(this.snapshot.exportVal())}}class SO{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return D(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return re(this._path)?null:Jf(this._path)}get ref(){return new Gn(this._repo,this._path)}get _queryIdentifier(){const e=dv(this._queryParams),n=qf(e);return n==="{}"?"default":n}get _queryObject(){return dv(this._queryParams)}isEqual(e){if(e=Gt(e),!(e instanceof Sp))return!1;const n=this._repo===e._repo,r=mE(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+dA(this._path)}}class Gn extends Sp{constructor(e,n){super(e,n,new np,!1)}get parent(){const e=pE(this._path);return e===null?null:new Gn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class nl{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new _e(e),r=Bt(this.ref,e);return new nl(this._node.getChild(n),r,Oe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new nl(i,Bt(this.ref,r),Oe)))}hasChild(e){const n=new _e(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function vn(t,e){return t=Gt(t),t._checkNotDeleted("ref"),e!==void 0?Bt(t._root,e):t._root}function Bt(t,e){return t=Gt(t),le(t._path)===null?nO("child","path",e):QE("child","path",e),new Gn(t._repo,Re(t._path,e))}function Nv(t,e){tO("update",e,t._path);const n=new Mc;return pO(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function yn(t){t=Gt(t);const e=new IO(()=>{}),n=new Ip(e);return fO(t._repo,t,n).then(r=>new nl(r,new Gn(t._repo,t._path),t._queryParams.getIndex()))}class Ip{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new CO("value",this,new nl(e.snapshotNode,new Gn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new SO(this,e,n):null}matches(e){return e instanceof Ip?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}SR(Gn);bR(Gn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO="FIREBASE_DATABASE_EMULATOR_HOST",Ah={};let kO=!1;function NO(t,e,n,r){t.repoInfo_=new sE(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function bO(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Hn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Xe("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=kv(s,i),a=o.repoInfo,c;typeof process<"u"&&K_&&(c=K_[TO]),c?(s=`http://${c}?ns=${a.namespace}`,o=kv(s,i),a=o.repoInfo):o.repoInfo.secure;const d=new UP(t.name,t.options,e);rO("Invalid Firebase Database URL",o),re(o.path)||Hn("Database URL must point to the root of a Firebase Database (not including a child path).");const f=PO(a,t,d,new jP(t.name,n));return new AO(f,t)}function xO(t,e){const n=Ah[e];(!n||n[t.key]!==t)&&Hn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),gO(t),delete n[t.key]}function PO(t,e,n,r){let i=Ah[e.name];i||(i={},Ah[e.name]=i);let s=i[t.toURLString()];return s&&Hn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new cO(t,kO,n,r),i[t.toURLString()]=s,s}class AO{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(uO(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Gn(this._repo,ce())),this._rootInternal}_delete(){return this._rootInternal!==null&&(xO(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Hn("Cannot call "+e+" on a deleted database.")}}function vl(t=dw(),e){const n=Lf(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=Yk("database");r&&RO(n,...r)}return n}function RO(t,e,n,r={}){t=Gt(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Hn("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Hn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Sa(Sa.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:Xk(r.mockUserToken,t.app.options.projectId);s=new Sa(o)}NO(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(t){CP(As),vs(new di("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return bO(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Cr(q_,Q_,t),Cr(q_,Q_,"esm2017")}jn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};jn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};OO();const rC=t=>{const e={};return t.forEach(([n,r])=>{const i=new Date(r.date),s=i.toLocaleString("default",{month:"long"}),o=i.getFullYear(),a=`${s} ${o}`;e[a]||(e[a]=[]),e[a].push(r)}),e},iC=t=>{const e={};return Object.entries(t).forEach(([n,r])=>{let i=0,s=0;r.forEach(o=>{const{differenceHours:a,differenceMinutes:c}=Tp(o.inter_de,o.inter_a);i+=a,s+=c}),i+=Math.floor(s/60),s=s%60,e[n]={totalHours:i,totalMinutes:s}}),e},Tp=(t,e)=>{const[n,r]=t.split(":").map(Number),[i,s]=e.split(":").map(Number),o=n*60*60*1e3+r*60*1e3,c=i*60*60*1e3+s*60*1e3-o,d=Math.floor(c/(60*60*1e3)),f=Math.floor(c%(60*60*1e3)/(60*1e3));return{differenceHours:d,differenceMinutes:f}},bv=["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"],DO=t=>{const e=iC(t),n=Object.keys(e).sort((i,s)=>{const[o,a]=i.split(" "),[c,d]=s.split(" "),f=new Date(`${a}-${bv.indexOf(o.toLowerCase())+1}-01`),p=new Date(`${d}-${bv.indexOf(c.toLowerCase())+1}-01`);return f-p}),r={};return n.forEach((i,s)=>{if(s===0){r[i]=null;return}const o=n[s-1],a=e[i].totalHours+e[i].totalMinutes/60,c=e[o].totalHours+e[o].totalMinutes/60,d=(a-c)/c*100;r[i]=d}),r},LO=({user:t,onClose:e})=>{const[n,r]=L.useState({userId:t.uid,date:"",client:"",categorie:"",description:"",inter_de:"",inter_a:"",total_inter:0}),[i,s]=L.useState([]),[o,a]=L.useState([]),[c,d]=L.useState(""),f=vl(t.app);L.useEffect(()=>{(async()=>{const x=Bt(vn(f),`entreprises/${t.entrepriseId}/clients`),v=await yn(x);if(v.exists()){const _=v.val();s(Object.values(_))}else console.log("No clients available")})()},[f,t.entrepriseId]),L.useEffect(()=>{(async()=>{const x=Bt(vn(f),`entreprises/${t.entrepriseId}/categories_prestations`),v=await yn(x);if(v.exists()){const _=v.val();a(Object.values(_))}else console.log("No categories available")})()},[f,t.entrepriseId]);const p=T=>{const{value:x}=T.target;r(v=>({...v,date:x}))},g=T=>{const{name:x,value:v}=T.target;r(_=>({..._,[x]:v}))},w=()=>{for(let T in n)if(T!=="total_inter"&&n[T].trim()==="")return!1;return!(n.inter_de>n.inter_a)},C=async T=>{if(T.preventDefault(),w()){const{differenceHours:x,differenceMinutes:v}=Tp(n.inter_de,n.inter_a),_=`${x}:${v<10?"0":""}${v}`,y={...n,total_inter:_},N=Bt(vn(f),`entreprises/${t.entrepriseId}/prestations`),A=await yn(N);if(A.exists()){const O=A.val();let F={};const j=Object.keys(O),se=j.length>0?Math.max(...j.map(ln=>parseInt(ln))):-1,ot=(se===-1?0:se+1).toString();F[ot]=y,await Nv(N,F)}else await Nv(N,{0:y});e()}else n.inter_de>n.inter_a?d("Mauvaise saisie des intervalles."):d("Veuillez remplir tous les champs.")};return S.jsx(S.Fragment,{children:S.jsx("div",{className:"form-overlay",onClick:e,children:S.jsx("div",{className:"form-content",onClick:T=>T.stopPropagation(),children:S.jsx("div",{className:"form-box",children:S.jsxs("form",{className:"form-add-data",children:[S.jsxs("a",{className:"closeButton",onClick:e,children:[S.jsx("span",{className:"X"}),S.jsx("span",{className:"Y"}),S.jsx("div",{className:"close",children:"Close"})]}),S.jsx("span",{className:"form-add-data-title",children:"Ajout"}),S.jsx("span",{className:"subtitle",children:"Ajouter une heure de travail."}),c&&S.jsx("div",{className:"alert alert-danger",role:"alert",children:c}),S.jsxs("div",{className:"form-add-data-container",children:[S.jsx("input",{type:"date",name:"date",className:"form-add-data-input",value:n.date,onChange:p,dateformat:"yyyy-MM-dd",placeholder:"Select a date"}),S.jsxs("select",{name:"client",className:"form-add-data-input",value:n.client,onChange:g,children:[S.jsx("option",{value:"",children:"Slectionner un client"}),i.map((T,x)=>S.jsx("option",{value:T.nom,children:T.nom},x))]}),S.jsxs("select",{name:"categorie",className:"form-add-data-input",value:n.categorie,onChange:g,children:[S.jsx("option",{value:"",children:"Slectionner une catgorie"}),o.map((T,x)=>S.jsx("option",{value:T,children:T},x))]}),S.jsx("textarea",{type:"textarea",name:"description",className:"form-add-data-input form-add-data-input-textarea",placeholder:"Description",value:n.description,onChange:g}),S.jsx("input",{type:"time",name:"inter_de",className:"form-add-data-input",placeholder:"Intervalle de prestation",value:n.inter_de,onChange:g}),S.jsx("input",{type:"time",name:"inter_a",className:"form-add-data-input",placeholder:"Intervalle de prestation",value:n.inter_a,onChange:g})]}),S.jsx("button",{onClick:C,children:"Envoyer"})]})})})})})};var MO={exports:{}};/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(t,e){(function(n,r){t.exports=r()})(EI,function(){const n=new Map,r={set(h,l,u){n.has(h)||n.set(h,new Map);const m=n.get(h);m.has(l)||m.size===0?m.set(l,u):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(m.keys())[0]}.`)},get:(h,l)=>n.has(h)&&n.get(h).get(l)||null,remove(h,l){if(!n.has(h))return;const u=n.get(h);u.delete(l),u.size===0&&n.delete(h)}},i="transitionend",s=h=>(h&&window.CSS&&window.CSS.escape&&(h=h.replace(/#([^\s"#']+)/g,(l,u)=>`#${CSS.escape(u)}`)),h),o=h=>{h.dispatchEvent(new Event(i))},a=h=>!(!h||typeof h!="object")&&(h.jquery!==void 0&&(h=h[0]),h.nodeType!==void 0),c=h=>a(h)?h.jquery?h[0]:h:typeof h=="string"&&h.length>0?document.querySelector(s(h)):null,d=h=>{if(!a(h)||h.getClientRects().length===0)return!1;const l=getComputedStyle(h).getPropertyValue("visibility")==="visible",u=h.closest("details:not([open])");if(!u)return l;if(u!==h){const m=h.closest("summary");if(m&&m.parentNode!==u||m===null)return!1}return l},f=h=>!h||h.nodeType!==Node.ELEMENT_NODE||!!h.classList.contains("disabled")||(h.disabled!==void 0?h.disabled:h.hasAttribute("disabled")&&h.getAttribute("disabled")!=="false"),p=h=>{if(!document.documentElement.attachShadow)return null;if(typeof h.getRootNode=="function"){const l=h.getRootNode();return l instanceof ShadowRoot?l:null}return h instanceof ShadowRoot?h:h.parentNode?p(h.parentNode):null},g=()=>{},w=h=>{h.offsetHeight},C=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,T=[],x=()=>document.documentElement.dir==="rtl",v=h=>{var l;l=()=>{const u=C();if(u){const m=h.NAME,E=u.fn[m];u.fn[m]=h.jQueryInterface,u.fn[m].Constructor=h,u.fn[m].noConflict=()=>(u.fn[m]=E,h.jQueryInterface)}},document.readyState==="loading"?(T.length||document.addEventListener("DOMContentLoaded",()=>{for(const u of T)u()}),T.push(l)):l()},_=(h,l=[],u=h)=>typeof h=="function"?h(...l):u,y=(h,l,u=!0)=>{if(!u)return void _(h);const m=(b=>{if(!b)return 0;let{transitionDuration:P,transitionDelay:M}=window.getComputedStyle(b);const z=Number.parseFloat(P),B=Number.parseFloat(M);return z||B?(P=P.split(",")[0],M=M.split(",")[0],1e3*(Number.parseFloat(P)+Number.parseFloat(M))):0})(l)+5;let E=!1;const I=({target:b})=>{b===l&&(E=!0,l.removeEventListener(i,I),_(h))};l.addEventListener(i,I),setTimeout(()=>{E||o(l)},m)},N=(h,l,u,m)=>{const E=h.length;let I=h.indexOf(l);return I===-1?!u&&m?h[E-1]:h[0]:(I+=u?1:-1,m&&(I=(I+E)%E),h[Math.max(0,Math.min(I,E-1))])},A=/[^.]*(?=\..*)\.|.*/,O=/\..*/,F=/::\d+$/,j={};let se=1;const J={mouseenter:"mouseover",mouseleave:"mouseout"},ot=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function ln(h,l){return l&&`${l}::${se++}`||h.uidEvent||se++}function Kn(h){const l=ln(h);return h.uidEvent=l,j[l]=j[l]||{},j[l]}function Ms(h,l,u=null){return Object.values(h).find(m=>m.callable===l&&m.delegationSelector===u)}function yl(h,l,u){const m=typeof l=="string",E=m?u:l||u;let I=Q(h);return ot.has(I)||(I=h),[m,E,I]}function Ei(h,l,u,m,E){if(typeof l!="string"||!h)return;let[I,b,P]=yl(l,u,m);l in J&&(b=(Y=>function(K){if(!K.relatedTarget||K.relatedTarget!==K.delegateTarget&&!K.delegateTarget.contains(K.relatedTarget))return Y.call(this,K)})(b));const M=Kn(h),z=M[P]||(M[P]={}),B=Ms(z,b,I?u:null);if(B)return void(B.oneOff=B.oneOff&&E);const U=ln(b,l.replace(A,"")),Z=I?function(V,Y,K){return function X(pe){const ye=V.querySelectorAll(Y);for(let{target:te}=pe;te&&te!==this;te=te.parentNode)for(const ue of ye)if(ue===te)return Se(pe,{delegateTarget:te}),X.oneOff&&k.off(V,pe.type,Y,K),K.apply(te,[pe])}}(h,u,b):function(V,Y){return function K(X){return Se(X,{delegateTarget:V}),K.oneOff&&k.off(V,X.type,Y),Y.apply(V,[X])}}(h,b);Z.delegationSelector=I?u:null,Z.callable=b,Z.oneOff=E,Z.uidEvent=U,z[U]=Z,h.addEventListener(P,Z,I)}function Dr(h,l,u,m,E){const I=Ms(l[u],m,E);I&&(h.removeEventListener(u,I,!!E),delete l[u][I.uidEvent])}function $(h,l,u,m){const E=l[u]||{};for(const[I,b]of Object.entries(E))I.includes(m)&&Dr(h,l,u,b.callable,b.delegationSelector)}function Q(h){return h=h.replace(O,""),J[h]||h}const k={on(h,l,u,m){Ei(h,l,u,m,!1)},one(h,l,u,m){Ei(h,l,u,m,!0)},off(h,l,u,m){if(typeof l!="string"||!h)return;const[E,I,b]=yl(l,u,m),P=b!==l,M=Kn(h),z=M[b]||{},B=l.startsWith(".");if(I===void 0){if(B)for(const U of Object.keys(M))$(h,M,U,l.slice(1));for(const[U,Z]of Object.entries(z)){const V=U.replace(F,"");P&&!l.includes(V)||Dr(h,M,b,Z.callable,Z.delegationSelector)}}else{if(!Object.keys(z).length)return;Dr(h,M,b,I,E?u:null)}},trigger(h,l,u){if(typeof l!="string"||!h)return null;const m=C();let E=null,I=!0,b=!0,P=!1;l!==Q(l)&&m&&(E=m.Event(l,u),m(h).trigger(E),I=!E.isPropagationStopped(),b=!E.isImmediatePropagationStopped(),P=E.isDefaultPrevented());const M=Se(new Event(l,{bubbles:I,cancelable:!0}),u);return P&&M.preventDefault(),b&&h.dispatchEvent(M),M.defaultPrevented&&E&&E.preventDefault(),M}};function Se(h,l={}){for(const[u,m]of Object.entries(l))try{h[u]=m}catch{Object.defineProperty(h,u,{configurable:!0,get:()=>m})}return h}function De(h){if(h==="true")return!0;if(h==="false")return!1;if(h===Number(h).toString())return Number(h);if(h===""||h==="null")return null;if(typeof h!="string")return h;try{return JSON.parse(decodeURIComponent(h))}catch{return h}}function qn(h){return h.replace(/[A-Z]/g,l=>`-${l.toLowerCase()}`)}const Qe={setDataAttribute(h,l,u){h.setAttribute(`data-bs-${qn(l)}`,u)},removeDataAttribute(h,l){h.removeAttribute(`data-bs-${qn(l)}`)},getDataAttributes(h){if(!h)return{};const l={},u=Object.keys(h.dataset).filter(m=>m.startsWith("bs")&&!m.startsWith("bsConfig"));for(const m of u){let E=m.replace(/^bs/,"");E=E.charAt(0).toLowerCase()+E.slice(1,E.length),l[E]=De(h.dataset[m])}return l},getDataAttribute:(h,l)=>De(h.getAttribute(`data-bs-${qn(l)}`))};class Sn{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(l){return l=this._mergeConfigObj(l),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}_configAfterMerge(l){return l}_mergeConfigObj(l,u){const m=a(u)?Qe.getDataAttribute(u,"config"):{};return{...this.constructor.Default,...typeof m=="object"?m:{},...a(u)?Qe.getDataAttributes(u):{},...typeof l=="object"?l:{}}}_typeCheckConfig(l,u=this.constructor.DefaultType){for(const[E,I]of Object.entries(u)){const b=l[E],P=a(b)?"element":(m=b)==null?`${m}`:Object.prototype.toString.call(m).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(I).test(P))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${E}" provided type "${P}" but expected type "${I}".`)}var m}}class je extends Sn{constructor(l,u){super(),(l=c(l))&&(this._element=l,this._config=this._getConfig(u),r.set(this._element,this.constructor.DATA_KEY,this))}dispose(){r.remove(this._element,this.constructor.DATA_KEY),k.off(this._element,this.constructor.EVENT_KEY);for(const l of Object.getOwnPropertyNames(this))this[l]=null}_queueCallback(l,u,m=!0){y(l,u,m)}_getConfig(l){return l=this._mergeConfigObj(l,this._element),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}static getInstance(l){return r.get(c(l),this.DATA_KEY)}static getOrCreateInstance(l,u={}){return this.getInstance(l)||new this(l,typeof u=="object"?u:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(l){return`${l}${this.EVENT_KEY}`}}const Qn=h=>{let l=h.getAttribute("data-bs-target");if(!l||l==="#"){let u=h.getAttribute("href");if(!u||!u.includes("#")&&!u.startsWith("."))return null;u.includes("#")&&!u.startsWith("#")&&(u=`#${u.split("#")[1]}`),l=u&&u!=="#"?u.trim():null}return l?l.split(",").map(u=>s(u)).join(","):null},H={find:(h,l=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(l,h)),findOne:(h,l=document.documentElement)=>Element.prototype.querySelector.call(l,h),children:(h,l)=>[].concat(...h.children).filter(u=>u.matches(l)),parents(h,l){const u=[];let m=h.parentNode.closest(l);for(;m;)u.push(m),m=m.parentNode.closest(l);return u},prev(h,l){let u=h.previousElementSibling;for(;u;){if(u.matches(l))return[u];u=u.previousElementSibling}return[]},next(h,l){let u=h.nextElementSibling;for(;u;){if(u.matches(l))return[u];u=u.nextElementSibling}return[]},focusableChildren(h){const l=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(u=>`${u}:not([tabindex^="-"])`).join(",");return this.find(l,h).filter(u=>!f(u)&&d(u))},getSelectorFromElement(h){const l=Qn(h);return l&&H.findOne(l)?l:null},getElementFromSelector(h){const l=Qn(h);return l?H.findOne(l):null},getMultipleElementsFromSelector(h){const l=Qn(h);return l?H.find(l):[]}},wl=(h,l="hide")=>{const u=`click.dismiss${h.EVENT_KEY}`,m=h.NAME;k.on(document,u,`[data-bs-dismiss="${m}"]`,function(E){if(["A","AREA"].includes(this.tagName)&&E.preventDefault(),f(this))return;const I=H.getElementFromSelector(this)||this.closest(`.${m}`);h.getOrCreateInstance(I)[l]()})},kp=".bs.alert",sC=`close${kp}`,oC=`closed${kp}`;class Fs extends je{static get NAME(){return"alert"}close(){if(k.trigger(this._element,sC).defaultPrevented)return;this._element.classList.remove("show");const l=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,l)}_destroyElement(){this._element.remove(),k.trigger(this._element,oC),this.dispose()}static jQueryInterface(l){return this.each(function(){const u=Fs.getOrCreateInstance(this);if(typeof l=="string"){if(u[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);u[l](this)}})}}wl(Fs,"close"),v(Fs);const Np='[data-bs-toggle="button"]';class js extends je{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(l){return this.each(function(){const u=js.getOrCreateInstance(this);l==="toggle"&&u[l]()})}}k.on(document,"click.bs.button.data-api",Np,h=>{h.preventDefault();const l=h.target.closest(Np);js.getOrCreateInstance(l).toggle()}),v(js);const Ci=".bs.swipe",lC=`touchstart${Ci}`,aC=`touchmove${Ci}`,cC=`touchend${Ci}`,uC=`pointerdown${Ci}`,dC=`pointerup${Ci}`,hC={endCallback:null,leftCallback:null,rightCallback:null},fC={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class El extends Sn{constructor(l,u){super(),this._element=l,l&&El.isSupported()&&(this._config=this._getConfig(u),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return hC}static get DefaultType(){return fC}static get NAME(){return"swipe"}dispose(){k.off(this._element,Ci)}_start(l){this._supportPointerEvents?this._eventIsPointerPenTouch(l)&&(this._deltaX=l.clientX):this._deltaX=l.touches[0].clientX}_end(l){this._eventIsPointerPenTouch(l)&&(this._deltaX=l.clientX-this._deltaX),this._handleSwipe(),_(this._config.endCallback)}_move(l){this._deltaX=l.touches&&l.touches.length>1?0:l.touches[0].clientX-this._deltaX}_handleSwipe(){const l=Math.abs(this._deltaX);if(l<=40)return;const u=l/this._deltaX;this._deltaX=0,u&&_(u>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(k.on(this._element,uC,l=>this._start(l)),k.on(this._element,dC,l=>this._end(l)),this._element.classList.add("pointer-event")):(k.on(this._element,lC,l=>this._start(l)),k.on(this._element,aC,l=>this._move(l)),k.on(this._element,cC,l=>this._end(l)))}_eventIsPointerPenTouch(l){return this._supportPointerEvents&&(l.pointerType==="pen"||l.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Yn=".bs.carousel",bp=".data-api",Us="next",Si="prev",Ii="left",Cl="right",pC=`slide${Yn}`,Yc=`slid${Yn}`,mC=`keydown${Yn}`,gC=`mouseenter${Yn}`,_C=`mouseleave${Yn}`,vC=`dragstart${Yn}`,yC=`load${Yn}${bp}`,wC=`click${Yn}${bp}`,xp="carousel",Sl="active",Pp=".active",Ap=".carousel-item",EC=Pp+Ap,CC={ArrowLeft:Cl,ArrowRight:Ii},SC={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},IC={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Ti extends je{constructor(l,u){super(l,u),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=H.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===xp&&this.cycle()}static get Default(){return SC}static get DefaultType(){return IC}static get NAME(){return"carousel"}next(){this._slide(Us)}nextWhenVisible(){!document.hidden&&d(this._element)&&this.next()}prev(){this._slide(Si)}pause(){this._isSliding&&o(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?k.one(this._element,Yc,()=>this.cycle()):this.cycle())}to(l){const u=this._getItems();if(l>u.length-1||l<0)return;if(this._isSliding)return void k.one(this._element,Yc,()=>this.to(l));const m=this._getItemIndex(this._getActive());if(m===l)return;const E=l>m?Us:Si;this._slide(E,u[l])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(l){return l.defaultInterval=l.interval,l}_addEventListeners(){this._config.keyboard&&k.on(this._element,mC,l=>this._keydown(l)),this._config.pause==="hover"&&(k.on(this._element,gC,()=>this.pause()),k.on(this._element,_C,()=>this._maybeEnableCycle())),this._config.touch&&El.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const u of H.find(".carousel-item img",this._element))k.on(u,vC,m=>m.preventDefault());const l={leftCallback:()=>this._slide(this._directionToOrder(Ii)),rightCallback:()=>this._slide(this._directionToOrder(Cl)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new El(this._element,l)}_keydown(l){if(/input|textarea/i.test(l.target.tagName))return;const u=CC[l.key];u&&(l.preventDefault(),this._slide(this._directionToOrder(u)))}_getItemIndex(l){return this._getItems().indexOf(l)}_setActiveIndicatorElement(l){if(!this._indicatorsElement)return;const u=H.findOne(Pp,this._indicatorsElement);u.classList.remove(Sl),u.removeAttribute("aria-current");const m=H.findOne(`[data-bs-slide-to="${l}"]`,this._indicatorsElement);m&&(m.classList.add(Sl),m.setAttribute("aria-current","true"))}_updateInterval(){const l=this._activeElement||this._getActive();if(!l)return;const u=Number.parseInt(l.getAttribute("data-bs-interval"),10);this._config.interval=u||this._config.defaultInterval}_slide(l,u=null){if(this._isSliding)return;const m=this._getActive(),E=l===Us,I=u||N(this._getItems(),m,E,this._config.wrap);if(I===m)return;const b=this._getItemIndex(I),P=U=>k.trigger(this._element,U,{relatedTarget:I,direction:this._orderToDirection(l),from:this._getItemIndex(m),to:b});if(P(pC).defaultPrevented||!m||!I)return;const M=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(b),this._activeElement=I;const z=E?"carousel-item-start":"carousel-item-end",B=E?"carousel-item-next":"carousel-item-prev";I.classList.add(B),w(I),m.classList.add(z),I.classList.add(z),this._queueCallback(()=>{I.classList.remove(z,B),I.classList.add(Sl),m.classList.remove(Sl,B,z),this._isSliding=!1,P(Yc)},m,this._isAnimated()),M&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return H.findOne(EC,this._element)}_getItems(){return H.find(Ap,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(l){return x()?l===Ii?Si:Us:l===Ii?Us:Si}_orderToDirection(l){return x()?l===Si?Ii:Cl:l===Si?Cl:Ii}static jQueryInterface(l){return this.each(function(){const u=Ti.getOrCreateInstance(this,l);if(typeof l!="number"){if(typeof l=="string"){if(u[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);u[l]()}}else u.to(l)})}}k.on(document,wC,"[data-bs-slide], [data-bs-slide-to]",function(h){const l=H.getElementFromSelector(this);if(!l||!l.classList.contains(xp))return;h.preventDefault();const u=Ti.getOrCreateInstance(l),m=this.getAttribute("data-bs-slide-to");return m?(u.to(m),void u._maybeEnableCycle()):Qe.getDataAttribute(this,"slide")==="next"?(u.next(),void u._maybeEnableCycle()):(u.prev(),void u._maybeEnableCycle())}),k.on(window,yC,()=>{const h=H.find('[data-bs-ride="carousel"]');for(const l of h)Ti.getOrCreateInstance(l)}),v(Ti);const $s=".bs.collapse",TC=`show${$s}`,kC=`shown${$s}`,NC=`hide${$s}`,bC=`hidden${$s}`,xC=`click${$s}.data-api`,Xc="show",ki="collapse",Il="collapsing",PC=`:scope .${ki} .${ki}`,Jc='[data-bs-toggle="collapse"]',AC={parent:null,toggle:!0},RC={parent:"(null|element)",toggle:"boolean"};class Ni extends je{constructor(l,u){super(l,u),this._isTransitioning=!1,this._triggerArray=[];const m=H.find(Jc);for(const E of m){const I=H.getSelectorFromElement(E),b=H.find(I).filter(P=>P===this._element);I!==null&&b.length&&this._triggerArray.push(E)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return AC}static get DefaultType(){return RC}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let l=[];if(this._config.parent&&(l=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(E=>E!==this._element).map(E=>Ni.getOrCreateInstance(E,{toggle:!1}))),l.length&&l[0]._isTransitioning||k.trigger(this._element,TC).defaultPrevented)return;for(const E of l)E.hide();const u=this._getDimension();this._element.classList.remove(ki),this._element.classList.add(Il),this._element.style[u]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const m=`scroll${u[0].toUpperCase()+u.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Il),this._element.classList.add(ki,Xc),this._element.style[u]="",k.trigger(this._element,kC)},this._element,!0),this._element.style[u]=`${this._element[m]}px`}hide(){if(this._isTransitioning||!this._isShown()||k.trigger(this._element,NC).defaultPrevented)return;const l=this._getDimension();this._element.style[l]=`${this._element.getBoundingClientRect()[l]}px`,w(this._element),this._element.classList.add(Il),this._element.classList.remove(ki,Xc);for(const u of this._triggerArray){const m=H.getElementFromSelector(u);m&&!this._isShown(m)&&this._addAriaAndCollapsedClass([u],!1)}this._isTransitioning=!0,this._element.style[l]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Il),this._element.classList.add(ki),k.trigger(this._element,bC)},this._element,!0)}_isShown(l=this._element){return l.classList.contains(Xc)}_configAfterMerge(l){return l.toggle=!!l.toggle,l.parent=c(l.parent),l}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const l=this._getFirstLevelChildren(Jc);for(const u of l){const m=H.getElementFromSelector(u);m&&this._addAriaAndCollapsedClass([u],this._isShown(m))}}_getFirstLevelChildren(l){const u=H.find(PC,this._config.parent);return H.find(l,this._config.parent).filter(m=>!u.includes(m))}_addAriaAndCollapsedClass(l,u){if(l.length)for(const m of l)m.classList.toggle("collapsed",!u),m.setAttribute("aria-expanded",u)}static jQueryInterface(l){const u={};return typeof l=="string"&&/show|hide/.test(l)&&(u.toggle=!1),this.each(function(){const m=Ni.getOrCreateInstance(this,u);if(typeof l=="string"){if(m[l]===void 0)throw new TypeError(`No method named "${l}"`);m[l]()}})}}k.on(document,xC,Jc,function(h){(h.target.tagName==="A"||h.delegateTarget&&h.delegateTarget.tagName==="A")&&h.preventDefault();for(const l of H.getMultipleElementsFromSelector(this))Ni.getOrCreateInstance(l,{toggle:!1}).toggle()}),v(Ni);var lt="top",St="bottom",It="right",at="left",Tl="auto",bi=[lt,St,It,at],Lr="start",xi="end",Rp="clippingParents",Zc="viewport",Pi="popper",Op="reference",eu=bi.reduce(function(h,l){return h.concat([l+"-"+Lr,l+"-"+xi])},[]),tu=[].concat(bi,[Tl]).reduce(function(h,l){return h.concat([l,l+"-"+Lr,l+"-"+xi])},[]),Dp="beforeRead",Lp="read",Mp="afterRead",Fp="beforeMain",jp="main",Up="afterMain",$p="beforeWrite",zp="write",Wp="afterWrite",Bp=[Dp,Lp,Mp,Fp,jp,Up,$p,zp,Wp];function an(h){return h?(h.nodeName||"").toLowerCase():null}function Tt(h){if(h==null)return window;if(h.toString()!=="[object Window]"){var l=h.ownerDocument;return l&&l.defaultView||window}return h}function Mr(h){return h instanceof Tt(h).Element||h instanceof Element}function Ot(h){return h instanceof Tt(h).HTMLElement||h instanceof HTMLElement}function nu(h){return typeof ShadowRoot<"u"&&(h instanceof Tt(h).ShadowRoot||h instanceof ShadowRoot)}const ru={name:"applyStyles",enabled:!0,phase:"write",fn:function(h){var l=h.state;Object.keys(l.elements).forEach(function(u){var m=l.styles[u]||{},E=l.attributes[u]||{},I=l.elements[u];Ot(I)&&an(I)&&(Object.assign(I.style,m),Object.keys(E).forEach(function(b){var P=E[b];P===!1?I.removeAttribute(b):I.setAttribute(b,P===!0?"":P)}))})},effect:function(h){var l=h.state,u={popper:{position:l.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(l.elements.popper.style,u.popper),l.styles=u,l.elements.arrow&&Object.assign(l.elements.arrow.style,u.arrow),function(){Object.keys(l.elements).forEach(function(m){var E=l.elements[m],I=l.attributes[m]||{},b=Object.keys(l.styles.hasOwnProperty(m)?l.styles[m]:u[m]).reduce(function(P,M){return P[M]="",P},{});Ot(E)&&an(E)&&(Object.assign(E.style,b),Object.keys(I).forEach(function(P){E.removeAttribute(P)}))})}},requires:["computeStyles"]};function cn(h){return h.split("-")[0]}var Fr=Math.max,kl=Math.min,Ai=Math.round;function iu(){var h=navigator.userAgentData;return h!=null&&h.brands&&Array.isArray(h.brands)?h.brands.map(function(l){return l.brand+"/"+l.version}).join(" "):navigator.userAgent}function Hp(){return!/^((?!chrome|android).)*safari/i.test(iu())}function Ri(h,l,u){l===void 0&&(l=!1),u===void 0&&(u=!1);var m=h.getBoundingClientRect(),E=1,I=1;l&&Ot(h)&&(E=h.offsetWidth>0&&Ai(m.width)/h.offsetWidth||1,I=h.offsetHeight>0&&Ai(m.height)/h.offsetHeight||1);var b=(Mr(h)?Tt(h):window).visualViewport,P=!Hp()&&u,M=(m.left+(P&&b?b.offsetLeft:0))/E,z=(m.top+(P&&b?b.offsetTop:0))/I,B=m.width/E,U=m.height/I;return{width:B,height:U,top:z,right:M+B,bottom:z+U,left:M,x:M,y:z}}function su(h){var l=Ri(h),u=h.offsetWidth,m=h.offsetHeight;return Math.abs(l.width-u)<=1&&(u=l.width),Math.abs(l.height-m)<=1&&(m=l.height),{x:h.offsetLeft,y:h.offsetTop,width:u,height:m}}function Vp(h,l){var u=l.getRootNode&&l.getRootNode();if(h.contains(l))return!0;if(u&&nu(u)){var m=l;do{if(m&&h.isSameNode(m))return!0;m=m.parentNode||m.host}while(m)}return!1}function In(h){return Tt(h).getComputedStyle(h)}function OC(h){return["table","td","th"].indexOf(an(h))>=0}function Xn(h){return((Mr(h)?h.ownerDocument:h.document)||window.document).documentElement}function Nl(h){return an(h)==="html"?h:h.assignedSlot||h.parentNode||(nu(h)?h.host:null)||Xn(h)}function Gp(h){return Ot(h)&&In(h).position!=="fixed"?h.offsetParent:null}function zs(h){for(var l=Tt(h),u=Gp(h);u&&OC(u)&&In(u).position==="static";)u=Gp(u);return u&&(an(u)==="html"||an(u)==="body"&&In(u).position==="static")?l:u||function(m){var E=/firefox/i.test(iu());if(/Trident/i.test(iu())&&Ot(m)&&In(m).position==="fixed")return null;var I=Nl(m);for(nu(I)&&(I=I.host);Ot(I)&&["html","body"].indexOf(an(I))<0;){var b=In(I);if(b.transform!=="none"||b.perspective!=="none"||b.contain==="paint"||["transform","perspective"].indexOf(b.willChange)!==-1||E&&b.willChange==="filter"||E&&b.filter&&b.filter!=="none")return I;I=I.parentNode}return null}(h)||l}function ou(h){return["top","bottom"].indexOf(h)>=0?"x":"y"}function Ws(h,l,u){return Fr(h,kl(l,u))}function Kp(h){return Object.assign({},{top:0,right:0,bottom:0,left:0},h)}function qp(h,l){return l.reduce(function(u,m){return u[m]=h,u},{})}const Qp={name:"arrow",enabled:!0,phase:"main",fn:function(h){var l,u=h.state,m=h.name,E=h.options,I=u.elements.arrow,b=u.modifiersData.popperOffsets,P=cn(u.placement),M=ou(P),z=[at,It].indexOf(P)>=0?"height":"width";if(I&&b){var B=function(me,he){return Kp(typeof(me=typeof me=="function"?me(Object.assign({},he.rects,{placement:he.placement})):me)!="number"?me:qp(me,bi))}(E.padding,u),U=su(I),Z=M==="y"?lt:at,V=M==="y"?St:It,Y=u.rects.reference[z]+u.rects.reference[M]-b[M]-u.rects.popper[z],K=b[M]-u.rects.reference[M],X=zs(I),pe=X?M==="y"?X.clientHeight||0:X.clientWidth||0:0,ye=Y/2-K/2,te=B[Z],ue=pe-U[z]-B[V],ee=pe/2-U[z]/2+ye,oe=Ws(te,ee,ue),de=M;u.modifiersData[m]=((l={})[de]=oe,l.centerOffset=oe-ee,l)}},effect:function(h){var l=h.state,u=h.options.element,m=u===void 0?"[data-popper-arrow]":u;m!=null&&(typeof m!="string"||(m=l.elements.popper.querySelector(m)))&&Vp(l.elements.popper,m)&&(l.elements.arrow=m)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Oi(h){return h.split("-")[1]}var DC={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Yp(h){var l,u=h.popper,m=h.popperRect,E=h.placement,I=h.variation,b=h.offsets,P=h.position,M=h.gpuAcceleration,z=h.adaptive,B=h.roundOffsets,U=h.isFixed,Z=b.x,V=Z===void 0?0:Z,Y=b.y,K=Y===void 0?0:Y,X=typeof B=="function"?B({x:V,y:K}):{x:V,y:K};V=X.x,K=X.y;var pe=b.hasOwnProperty("x"),ye=b.hasOwnProperty("y"),te=at,ue=lt,ee=window;if(z){var oe=zs(u),de="clientHeight",me="clientWidth";oe===Tt(u)&&In(oe=Xn(u)).position!=="static"&&P==="absolute"&&(de="scrollHeight",me="scrollWidth"),(E===lt||(E===at||E===It)&&I===xi)&&(ue=St,K-=(U&&oe===ee&&ee.visualViewport?ee.visualViewport.height:oe[de])-m.height,K*=M?1:-1),E!==at&&(E!==lt&&E!==St||I!==xi)||(te=It,V-=(U&&oe===ee&&ee.visualViewport?ee.visualViewport.width:oe[me])-m.width,V*=M?1:-1)}var he,Le=Object.assign({position:P},z&&DC),kt=B===!0?function(qt,ct){var Lt=qt.x,Mt=qt.y,Pe=ct.devicePixelRatio||1;return{x:Ai(Lt*Pe)/Pe||0,y:Ai(Mt*Pe)/Pe||0}}({x:V,y:K},Tt(u)):{x:V,y:K};return V=kt.x,K=kt.y,M?Object.assign({},Le,((he={})[ue]=ye?"0":"",he[te]=pe?"0":"",he.transform=(ee.devicePixelRatio||1)<=1?"translate("+V+"px, "+K+"px)":"translate3d("+V+"px, "+K+"px, 0)",he)):Object.assign({},Le,((l={})[ue]=ye?K+"px":"",l[te]=pe?V+"px":"",l.transform="",l))}const lu={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(h){var l=h.state,u=h.options,m=u.gpuAcceleration,E=m===void 0||m,I=u.adaptive,b=I===void 0||I,P=u.roundOffsets,M=P===void 0||P,z={placement:cn(l.placement),variation:Oi(l.placement),popper:l.elements.popper,popperRect:l.rects.popper,gpuAcceleration:E,isFixed:l.options.strategy==="fixed"};l.modifiersData.popperOffsets!=null&&(l.styles.popper=Object.assign({},l.styles.popper,Yp(Object.assign({},z,{offsets:l.modifiersData.popperOffsets,position:l.options.strategy,adaptive:b,roundOffsets:M})))),l.modifiersData.arrow!=null&&(l.styles.arrow=Object.assign({},l.styles.arrow,Yp(Object.assign({},z,{offsets:l.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:M})))),l.attributes.popper=Object.assign({},l.attributes.popper,{"data-popper-placement":l.placement})},data:{}};var bl={passive:!0};const au={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(h){var l=h.state,u=h.instance,m=h.options,E=m.scroll,I=E===void 0||E,b=m.resize,P=b===void 0||b,M=Tt(l.elements.popper),z=[].concat(l.scrollParents.reference,l.scrollParents.popper);return I&&z.forEach(function(B){B.addEventListener("scroll",u.update,bl)}),P&&M.addEventListener("resize",u.update,bl),function(){I&&z.forEach(function(B){B.removeEventListener("scroll",u.update,bl)}),P&&M.removeEventListener("resize",u.update,bl)}},data:{}};var LC={left:"right",right:"left",bottom:"top",top:"bottom"};function xl(h){return h.replace(/left|right|bottom|top/g,function(l){return LC[l]})}var MC={start:"end",end:"start"};function Xp(h){return h.replace(/start|end/g,function(l){return MC[l]})}function cu(h){var l=Tt(h);return{scrollLeft:l.pageXOffset,scrollTop:l.pageYOffset}}function uu(h){return Ri(Xn(h)).left+cu(h).scrollLeft}function du(h){var l=In(h),u=l.overflow,m=l.overflowX,E=l.overflowY;return/auto|scroll|overlay|hidden/.test(u+E+m)}function Jp(h){return["html","body","#document"].indexOf(an(h))>=0?h.ownerDocument.body:Ot(h)&&du(h)?h:Jp(Nl(h))}function Bs(h,l){var u;l===void 0&&(l=[]);var m=Jp(h),E=m===((u=h.ownerDocument)==null?void 0:u.body),I=Tt(m),b=E?[I].concat(I.visualViewport||[],du(m)?m:[]):m,P=l.concat(b);return E?P:P.concat(Bs(Nl(b)))}function hu(h){return Object.assign({},h,{left:h.x,top:h.y,right:h.x+h.width,bottom:h.y+h.height})}function Zp(h,l,u){return l===Zc?hu(function(m,E){var I=Tt(m),b=Xn(m),P=I.visualViewport,M=b.clientWidth,z=b.clientHeight,B=0,U=0;if(P){M=P.width,z=P.height;var Z=Hp();(Z||!Z&&E==="fixed")&&(B=P.offsetLeft,U=P.offsetTop)}return{width:M,height:z,x:B+uu(m),y:U}}(h,u)):Mr(l)?function(m,E){var I=Ri(m,!1,E==="fixed");return I.top=I.top+m.clientTop,I.left=I.left+m.clientLeft,I.bottom=I.top+m.clientHeight,I.right=I.left+m.clientWidth,I.width=m.clientWidth,I.height=m.clientHeight,I.x=I.left,I.y=I.top,I}(l,u):hu(function(m){var E,I=Xn(m),b=cu(m),P=(E=m.ownerDocument)==null?void 0:E.body,M=Fr(I.scrollWidth,I.clientWidth,P?P.scrollWidth:0,P?P.clientWidth:0),z=Fr(I.scrollHeight,I.clientHeight,P?P.scrollHeight:0,P?P.clientHeight:0),B=-b.scrollLeft+uu(m),U=-b.scrollTop;return In(P||I).direction==="rtl"&&(B+=Fr(I.clientWidth,P?P.clientWidth:0)-M),{width:M,height:z,x:B,y:U}}(Xn(h)))}function em(h){var l,u=h.reference,m=h.element,E=h.placement,I=E?cn(E):null,b=E?Oi(E):null,P=u.x+u.width/2-m.width/2,M=u.y+u.height/2-m.height/2;switch(I){case lt:l={x:P,y:u.y-m.height};break;case St:l={x:P,y:u.y+u.height};break;case It:l={x:u.x+u.width,y:M};break;case at:l={x:u.x-m.width,y:M};break;default:l={x:u.x,y:u.y}}var z=I?ou(I):null;if(z!=null){var B=z==="y"?"height":"width";switch(b){case Lr:l[z]=l[z]-(u[B]/2-m[B]/2);break;case xi:l[z]=l[z]+(u[B]/2-m[B]/2)}}return l}function Di(h,l){l===void 0&&(l={});var u=l,m=u.placement,E=m===void 0?h.placement:m,I=u.strategy,b=I===void 0?h.strategy:I,P=u.boundary,M=P===void 0?Rp:P,z=u.rootBoundary,B=z===void 0?Zc:z,U=u.elementContext,Z=U===void 0?Pi:U,V=u.altBoundary,Y=V!==void 0&&V,K=u.padding,X=K===void 0?0:K,pe=Kp(typeof X!="number"?X:qp(X,bi)),ye=Z===Pi?Op:Pi,te=h.rects.popper,ue=h.elements[Y?ye:Z],ee=function(ct,Lt,Mt,Pe){var un=Lt==="clippingParents"?function(ve){var ut=Bs(Nl(ve)),Ft=["absolute","fixed"].indexOf(In(ve).position)>=0&&Ot(ve)?zs(ve):ve;return Mr(Ft)?ut.filter(function(Zn){return Mr(Zn)&&Vp(Zn,Ft)&&an(Zn)!=="body"}):[]}(ct):[].concat(Lt),dn=[].concat(un,[Mt]),Fi=dn[0],Be=dn.reduce(function(ve,ut){var Ft=Zp(ct,ut,Pe);return ve.top=Fr(Ft.top,ve.top),ve.right=kl(Ft.right,ve.right),ve.bottom=kl(Ft.bottom,ve.bottom),ve.left=Fr(Ft.left,ve.left),ve},Zp(ct,Fi,Pe));return Be.width=Be.right-Be.left,Be.height=Be.bottom-Be.top,Be.x=Be.left,Be.y=Be.top,Be}(Mr(ue)?ue:ue.contextElement||Xn(h.elements.popper),M,B,b),oe=Ri(h.elements.reference),de=em({reference:oe,element:te,strategy:"absolute",placement:E}),me=hu(Object.assign({},te,de)),he=Z===Pi?me:oe,Le={top:ee.top-he.top+pe.top,bottom:he.bottom-ee.bottom+pe.bottom,left:ee.left-he.left+pe.left,right:he.right-ee.right+pe.right},kt=h.modifiersData.offset;if(Z===Pi&&kt){var qt=kt[E];Object.keys(Le).forEach(function(ct){var Lt=[It,St].indexOf(ct)>=0?1:-1,Mt=[lt,St].indexOf(ct)>=0?"y":"x";Le[ct]+=qt[Mt]*Lt})}return Le}function FC(h,l){l===void 0&&(l={});var u=l,m=u.placement,E=u.boundary,I=u.rootBoundary,b=u.padding,P=u.flipVariations,M=u.allowedAutoPlacements,z=M===void 0?tu:M,B=Oi(m),U=B?P?eu:eu.filter(function(Y){return Oi(Y)===B}):bi,Z=U.filter(function(Y){return z.indexOf(Y)>=0});Z.length===0&&(Z=U);var V=Z.reduce(function(Y,K){return Y[K]=Di(h,{placement:K,boundary:E,rootBoundary:I,padding:b})[cn(K)],Y},{});return Object.keys(V).sort(function(Y,K){return V[Y]-V[K]})}const tm={name:"flip",enabled:!0,phase:"main",fn:function(h){var l=h.state,u=h.options,m=h.name;if(!l.modifiersData[m]._skip){for(var E=u.mainAxis,I=E===void 0||E,b=u.altAxis,P=b===void 0||b,M=u.fallbackPlacements,z=u.padding,B=u.boundary,U=u.rootBoundary,Z=u.altBoundary,V=u.flipVariations,Y=V===void 0||V,K=u.allowedAutoPlacements,X=l.options.placement,pe=cn(X),ye=M||(pe!==X&&Y?function(ve){if(cn(ve)===Tl)return[];var ut=xl(ve);return[Xp(ve),ut,Xp(ut)]}(X):[xl(X)]),te=[X].concat(ye).reduce(function(ve,ut){return ve.concat(cn(ut)===Tl?FC(l,{placement:ut,boundary:B,rootBoundary:U,padding:z,flipVariations:Y,allowedAutoPlacements:K}):ut)},[]),ue=l.rects.reference,ee=l.rects.popper,oe=new Map,de=!0,me=te[0],he=0;he<te.length;he++){var Le=te[he],kt=cn(Le),qt=Oi(Le)===Lr,ct=[lt,St].indexOf(kt)>=0,Lt=ct?"width":"height",Mt=Di(l,{placement:Le,boundary:B,rootBoundary:U,altBoundary:Z,padding:z}),Pe=ct?qt?It:at:qt?St:lt;ue[Lt]>ee[Lt]&&(Pe=xl(Pe));var un=xl(Pe),dn=[];if(I&&dn.push(Mt[kt]<=0),P&&dn.push(Mt[Pe]<=0,Mt[un]<=0),dn.every(function(ve){return ve})){me=Le,de=!1;break}oe.set(Le,dn)}if(de)for(var Fi=function(ve){var ut=te.find(function(Ft){var Zn=oe.get(Ft);if(Zn)return Zn.slice(0,ve).every(function(jl){return jl})});if(ut)return me=ut,"break"},Be=Y?3:1;Be>0&&Fi(Be)!=="break";Be--);l.placement!==me&&(l.modifiersData[m]._skip=!0,l.placement=me,l.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function nm(h,l,u){return u===void 0&&(u={x:0,y:0}),{top:h.top-l.height-u.y,right:h.right-l.width+u.x,bottom:h.bottom-l.height+u.y,left:h.left-l.width-u.x}}function rm(h){return[lt,It,St,at].some(function(l){return h[l]>=0})}const im={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(h){var l=h.state,u=h.name,m=l.rects.reference,E=l.rects.popper,I=l.modifiersData.preventOverflow,b=Di(l,{elementContext:"reference"}),P=Di(l,{altBoundary:!0}),M=nm(b,m),z=nm(P,E,I),B=rm(M),U=rm(z);l.modifiersData[u]={referenceClippingOffsets:M,popperEscapeOffsets:z,isReferenceHidden:B,hasPopperEscaped:U},l.attributes.popper=Object.assign({},l.attributes.popper,{"data-popper-reference-hidden":B,"data-popper-escaped":U})}},sm={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(h){var l=h.state,u=h.options,m=h.name,E=u.offset,I=E===void 0?[0,0]:E,b=tu.reduce(function(B,U){return B[U]=function(Z,V,Y){var K=cn(Z),X=[at,lt].indexOf(K)>=0?-1:1,pe=typeof Y=="function"?Y(Object.assign({},V,{placement:Z})):Y,ye=pe[0],te=pe[1];return ye=ye||0,te=(te||0)*X,[at,It].indexOf(K)>=0?{x:te,y:ye}:{x:ye,y:te}}(U,l.rects,I),B},{}),P=b[l.placement],M=P.x,z=P.y;l.modifiersData.popperOffsets!=null&&(l.modifiersData.popperOffsets.x+=M,l.modifiersData.popperOffsets.y+=z),l.modifiersData[m]=b}},fu={name:"popperOffsets",enabled:!0,phase:"read",fn:function(h){var l=h.state,u=h.name;l.modifiersData[u]=em({reference:l.rects.reference,element:l.rects.popper,strategy:"absolute",placement:l.placement})},data:{}},om={name:"preventOverflow",enabled:!0,phase:"main",fn:function(h){var l=h.state,u=h.options,m=h.name,E=u.mainAxis,I=E===void 0||E,b=u.altAxis,P=b!==void 0&&b,M=u.boundary,z=u.rootBoundary,B=u.altBoundary,U=u.padding,Z=u.tether,V=Z===void 0||Z,Y=u.tetherOffset,K=Y===void 0?0:Y,X=Di(l,{boundary:M,rootBoundary:z,padding:U,altBoundary:B}),pe=cn(l.placement),ye=Oi(l.placement),te=!ye,ue=ou(pe),ee=ue==="x"?"y":"x",oe=l.modifiersData.popperOffsets,de=l.rects.reference,me=l.rects.popper,he=typeof K=="function"?K(Object.assign({},l.rects,{placement:l.placement})):K,Le=typeof he=="number"?{mainAxis:he,altAxis:he}:Object.assign({mainAxis:0,altAxis:0},he),kt=l.modifiersData.offset?l.modifiersData.offset[l.placement]:null,qt={x:0,y:0};if(oe){if(I){var ct,Lt=ue==="y"?lt:at,Mt=ue==="y"?St:It,Pe=ue==="y"?"height":"width",un=oe[ue],dn=un+X[Lt],Fi=un-X[Mt],Be=V?-me[Pe]/2:0,ve=ye===Lr?de[Pe]:me[Pe],ut=ye===Lr?-me[Pe]:-de[Pe],Ft=l.elements.arrow,Zn=V&&Ft?su(Ft):{width:0,height:0},jl=l.modifiersData["arrow#persistent"]?l.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Gm=jl[Lt],Km=jl[Mt],Ul=Ws(0,de[Pe],Zn[Pe]),hI=te?de[Pe]/2-Be-Ul-Gm-Le.mainAxis:ve-Ul-Gm-Le.mainAxis,fI=te?-de[Pe]/2+Be+Ul+Km+Le.mainAxis:ut+Ul+Km+Le.mainAxis,ku=l.elements.arrow&&zs(l.elements.arrow),pI=ku?ue==="y"?ku.clientTop||0:ku.clientLeft||0:0,qm=(ct=kt==null?void 0:kt[ue])!=null?ct:0,mI=un+fI-qm,Qm=Ws(V?kl(dn,un+hI-qm-pI):dn,un,V?Fr(Fi,mI):Fi);oe[ue]=Qm,qt[ue]=Qm-un}if(P){var Ym,gI=ue==="x"?lt:at,_I=ue==="x"?St:It,Vr=oe[ee],$l=ee==="y"?"height":"width",Xm=Vr+X[gI],Jm=Vr-X[_I],Nu=[lt,at].indexOf(pe)!==-1,Zm=(Ym=kt==null?void 0:kt[ee])!=null?Ym:0,eg=Nu?Xm:Vr-de[$l]-me[$l]-Zm+Le.altAxis,tg=Nu?Vr+de[$l]+me[$l]-Zm-Le.altAxis:Jm,ng=V&&Nu?function(vI,yI,bu){var rg=Ws(vI,yI,bu);return rg>bu?bu:rg}(eg,Vr,tg):Ws(V?eg:Xm,Vr,V?tg:Jm);oe[ee]=ng,qt[ee]=ng-Vr}l.modifiersData[m]=qt}},requiresIfExists:["offset"]};function jC(h,l,u){u===void 0&&(u=!1);var m,E,I=Ot(l),b=Ot(l)&&function(U){var Z=U.getBoundingClientRect(),V=Ai(Z.width)/U.offsetWidth||1,Y=Ai(Z.height)/U.offsetHeight||1;return V!==1||Y!==1}(l),P=Xn(l),M=Ri(h,b,u),z={scrollLeft:0,scrollTop:0},B={x:0,y:0};return(I||!I&&!u)&&((an(l)!=="body"||du(P))&&(z=(m=l)!==Tt(m)&&Ot(m)?{scrollLeft:(E=m).scrollLeft,scrollTop:E.scrollTop}:cu(m)),Ot(l)?((B=Ri(l,!0)).x+=l.clientLeft,B.y+=l.clientTop):P&&(B.x=uu(P))),{x:M.left+z.scrollLeft-B.x,y:M.top+z.scrollTop-B.y,width:M.width,height:M.height}}function UC(h){var l=new Map,u=new Set,m=[];function E(I){u.add(I.name),[].concat(I.requires||[],I.requiresIfExists||[]).forEach(function(b){if(!u.has(b)){var P=l.get(b);P&&E(P)}}),m.push(I)}return h.forEach(function(I){l.set(I.name,I)}),h.forEach(function(I){u.has(I.name)||E(I)}),m}var lm={placement:"bottom",modifiers:[],strategy:"absolute"};function am(){for(var h=arguments.length,l=new Array(h),u=0;u<h;u++)l[u]=arguments[u];return!l.some(function(m){return!(m&&typeof m.getBoundingClientRect=="function")})}function Pl(h){h===void 0&&(h={});var l=h,u=l.defaultModifiers,m=u===void 0?[]:u,E=l.defaultOptions,I=E===void 0?lm:E;return function(b,P,M){M===void 0&&(M=I);var z,B,U={placement:"bottom",orderedModifiers:[],options:Object.assign({},lm,I),modifiersData:{},elements:{reference:b,popper:P},attributes:{},styles:{}},Z=[],V=!1,Y={state:U,setOptions:function(X){var pe=typeof X=="function"?X(U.options):X;K(),U.options=Object.assign({},I,U.options,pe),U.scrollParents={reference:Mr(b)?Bs(b):b.contextElement?Bs(b.contextElement):[],popper:Bs(P)};var ye,te,ue=function(ee){var oe=UC(ee);return Bp.reduce(function(de,me){return de.concat(oe.filter(function(he){return he.phase===me}))},[])}((ye=[].concat(m,U.options.modifiers),te=ye.reduce(function(ee,oe){var de=ee[oe.name];return ee[oe.name]=de?Object.assign({},de,oe,{options:Object.assign({},de.options,oe.options),data:Object.assign({},de.data,oe.data)}):oe,ee},{}),Object.keys(te).map(function(ee){return te[ee]})));return U.orderedModifiers=ue.filter(function(ee){return ee.enabled}),U.orderedModifiers.forEach(function(ee){var oe=ee.name,de=ee.options,me=de===void 0?{}:de,he=ee.effect;if(typeof he=="function"){var Le=he({state:U,name:oe,instance:Y,options:me});Z.push(Le||function(){})}}),Y.update()},forceUpdate:function(){if(!V){var X=U.elements,pe=X.reference,ye=X.popper;if(am(pe,ye)){U.rects={reference:jC(pe,zs(ye),U.options.strategy==="fixed"),popper:su(ye)},U.reset=!1,U.placement=U.options.placement,U.orderedModifiers.forEach(function(he){return U.modifiersData[he.name]=Object.assign({},he.data)});for(var te=0;te<U.orderedModifiers.length;te++)if(U.reset!==!0){var ue=U.orderedModifiers[te],ee=ue.fn,oe=ue.options,de=oe===void 0?{}:oe,me=ue.name;typeof ee=="function"&&(U=ee({state:U,options:de,name:me,instance:Y})||U)}else U.reset=!1,te=-1}}},update:(z=function(){return new Promise(function(X){Y.forceUpdate(),X(U)})},function(){return B||(B=new Promise(function(X){Promise.resolve().then(function(){B=void 0,X(z())})})),B}),destroy:function(){K(),V=!0}};if(!am(b,P))return Y;function K(){Z.forEach(function(X){return X()}),Z=[]}return Y.setOptions(M).then(function(X){!V&&M.onFirstUpdate&&M.onFirstUpdate(X)}),Y}}var $C=Pl(),zC=Pl({defaultModifiers:[au,fu,lu,ru]}),pu=Pl({defaultModifiers:[au,fu,lu,ru,sm,tm,om,Qp,im]});const cm=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Up,afterRead:Mp,afterWrite:Wp,applyStyles:ru,arrow:Qp,auto:Tl,basePlacements:bi,beforeMain:Fp,beforeRead:Dp,beforeWrite:$p,bottom:St,clippingParents:Rp,computeStyles:lu,createPopper:pu,createPopperBase:$C,createPopperLite:zC,detectOverflow:Di,end:xi,eventListeners:au,flip:tm,hide:im,left:at,main:jp,modifierPhases:Bp,offset:sm,placements:tu,popper:Pi,popperGenerator:Pl,popperOffsets:fu,preventOverflow:om,read:Lp,reference:Op,right:It,start:Lr,top:lt,variationPlacements:eu,viewport:Zc,write:zp},Symbol.toStringTag,{value:"Module"})),um="dropdown",jr=".bs.dropdown",mu=".data-api",WC="ArrowUp",dm="ArrowDown",BC=`hide${jr}`,HC=`hidden${jr}`,VC=`show${jr}`,GC=`shown${jr}`,hm=`click${jr}${mu}`,fm=`keydown${jr}${mu}`,KC=`keyup${jr}${mu}`,Li="show",Ur='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',qC=`${Ur}.${Li}`,Al=".dropdown-menu",QC=x()?"top-end":"top-start",YC=x()?"top-start":"top-end",XC=x()?"bottom-end":"bottom-start",JC=x()?"bottom-start":"bottom-end",ZC=x()?"left-start":"right-start",eS=x()?"right-start":"left-start",tS={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},nS={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Kt extends je{constructor(l,u){super(l,u),this._popper=null,this._parent=this._element.parentNode,this._menu=H.next(this._element,Al)[0]||H.prev(this._element,Al)[0]||H.findOne(Al,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return tS}static get DefaultType(){return nS}static get NAME(){return um}toggle(){return this._isShown()?this.hide():this.show()}show(){if(f(this._element)||this._isShown())return;const l={relatedTarget:this._element};if(!k.trigger(this._element,VC,l).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const u of[].concat(...document.body.children))k.on(u,"mouseover",g);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Li),this._element.classList.add(Li),k.trigger(this._element,GC,l)}}hide(){if(f(this._element)||!this._isShown())return;const l={relatedTarget:this._element};this._completeHide(l)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(l){if(!k.trigger(this._element,BC,l).defaultPrevented){if("ontouchstart"in document.documentElement)for(const u of[].concat(...document.body.children))k.off(u,"mouseover",g);this._popper&&this._popper.destroy(),this._menu.classList.remove(Li),this._element.classList.remove(Li),this._element.setAttribute("aria-expanded","false"),Qe.removeDataAttribute(this._menu,"popper"),k.trigger(this._element,HC,l)}}_getConfig(l){if(typeof(l=super._getConfig(l)).reference=="object"&&!a(l.reference)&&typeof l.reference.getBoundingClientRect!="function")throw new TypeError(`${um.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return l}_createPopper(){if(cm===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let l=this._element;this._config.reference==="parent"?l=this._parent:a(this._config.reference)?l=c(this._config.reference):typeof this._config.reference=="object"&&(l=this._config.reference);const u=this._getPopperConfig();this._popper=pu(l,this._menu,u)}_isShown(){return this._menu.classList.contains(Li)}_getPlacement(){const l=this._parent;if(l.classList.contains("dropend"))return ZC;if(l.classList.contains("dropstart"))return eS;if(l.classList.contains("dropup-center"))return"top";if(l.classList.contains("dropdown-center"))return"bottom";const u=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return l.classList.contains("dropup")?u?YC:QC:u?JC:XC}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:l}=this._config;return typeof l=="string"?l.split(",").map(u=>Number.parseInt(u,10)):typeof l=="function"?u=>l(u,this._element):l}_getPopperConfig(){const l={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Qe.setDataAttribute(this._menu,"popper","static"),l.modifiers=[{name:"applyStyles",enabled:!1}]),{...l,..._(this._config.popperConfig,[l])}}_selectMenuItem({key:l,target:u}){const m=H.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(E=>d(E));m.length&&N(m,u,l===dm,!m.includes(u)).focus()}static jQueryInterface(l){return this.each(function(){const u=Kt.getOrCreateInstance(this,l);if(typeof l=="string"){if(u[l]===void 0)throw new TypeError(`No method named "${l}"`);u[l]()}})}static clearMenus(l){if(l.button===2||l.type==="keyup"&&l.key!=="Tab")return;const u=H.find(qC);for(const m of u){const E=Kt.getInstance(m);if(!E||E._config.autoClose===!1)continue;const I=l.composedPath(),b=I.includes(E._menu);if(I.includes(E._element)||E._config.autoClose==="inside"&&!b||E._config.autoClose==="outside"&&b||E._menu.contains(l.target)&&(l.type==="keyup"&&l.key==="Tab"||/input|select|option|textarea|form/i.test(l.target.tagName)))continue;const P={relatedTarget:E._element};l.type==="click"&&(P.clickEvent=l),E._completeHide(P)}}static dataApiKeydownHandler(l){const u=/input|textarea/i.test(l.target.tagName),m=l.key==="Escape",E=[WC,dm].includes(l.key);if(!E&&!m||u&&!m)return;l.preventDefault();const I=this.matches(Ur)?this:H.prev(this,Ur)[0]||H.next(this,Ur)[0]||H.findOne(Ur,l.delegateTarget.parentNode),b=Kt.getOrCreateInstance(I);if(E)return l.stopPropagation(),b.show(),void b._selectMenuItem(l);b._isShown()&&(l.stopPropagation(),b.hide(),I.focus())}}k.on(document,fm,Ur,Kt.dataApiKeydownHandler),k.on(document,fm,Al,Kt.dataApiKeydownHandler),k.on(document,hm,Kt.clearMenus),k.on(document,KC,Kt.clearMenus),k.on(document,hm,Ur,function(h){h.preventDefault(),Kt.getOrCreateInstance(this).toggle()}),v(Kt);const pm="backdrop",mm="show",gm=`mousedown.bs.${pm}`,rS={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},iS={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class _m extends Sn{constructor(l){super(),this._config=this._getConfig(l),this._isAppended=!1,this._element=null}static get Default(){return rS}static get DefaultType(){return iS}static get NAME(){return pm}show(l){if(!this._config.isVisible)return void _(l);this._append();const u=this._getElement();this._config.isAnimated&&w(u),u.classList.add(mm),this._emulateAnimation(()=>{_(l)})}hide(l){this._config.isVisible?(this._getElement().classList.remove(mm),this._emulateAnimation(()=>{this.dispose(),_(l)})):_(l)}dispose(){this._isAppended&&(k.off(this._element,gm),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const l=document.createElement("div");l.className=this._config.className,this._config.isAnimated&&l.classList.add("fade"),this._element=l}return this._element}_configAfterMerge(l){return l.rootElement=c(l.rootElement),l}_append(){if(this._isAppended)return;const l=this._getElement();this._config.rootElement.append(l),k.on(l,gm,()=>{_(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(l){y(l,this._getElement(),this._config.isAnimated)}}const Rl=".bs.focustrap",sS=`focusin${Rl}`,oS=`keydown.tab${Rl}`,vm="backward",lS={autofocus:!0,trapElement:null},aS={autofocus:"boolean",trapElement:"element"};class ym extends Sn{constructor(l){super(),this._config=this._getConfig(l),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return lS}static get DefaultType(){return aS}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),k.off(document,Rl),k.on(document,sS,l=>this._handleFocusin(l)),k.on(document,oS,l=>this._handleKeydown(l)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,k.off(document,Rl))}_handleFocusin(l){const{trapElement:u}=this._config;if(l.target===document||l.target===u||u.contains(l.target))return;const m=H.focusableChildren(u);m.length===0?u.focus():this._lastTabNavDirection===vm?m[m.length-1].focus():m[0].focus()}_handleKeydown(l){l.key==="Tab"&&(this._lastTabNavDirection=l.shiftKey?vm:"forward")}}const wm=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Em=".sticky-top",Ol="padding-right",Cm="margin-right";class gu{constructor(){this._element=document.body}getWidth(){const l=document.documentElement.clientWidth;return Math.abs(window.innerWidth-l)}hide(){const l=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Ol,u=>u+l),this._setElementAttributes(wm,Ol,u=>u+l),this._setElementAttributes(Em,Cm,u=>u-l)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Ol),this._resetElementAttributes(wm,Ol),this._resetElementAttributes(Em,Cm)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(l,u,m){const E=this.getWidth();this._applyManipulationCallback(l,I=>{if(I!==this._element&&window.innerWidth>I.clientWidth+E)return;this._saveInitialAttribute(I,u);const b=window.getComputedStyle(I).getPropertyValue(u);I.style.setProperty(u,`${m(Number.parseFloat(b))}px`)})}_saveInitialAttribute(l,u){const m=l.style.getPropertyValue(u);m&&Qe.setDataAttribute(l,u,m)}_resetElementAttributes(l,u){this._applyManipulationCallback(l,m=>{const E=Qe.getDataAttribute(m,u);E!==null?(Qe.removeDataAttribute(m,u),m.style.setProperty(u,E)):m.style.removeProperty(u)})}_applyManipulationCallback(l,u){if(a(l))u(l);else for(const m of H.find(l,this._element))u(m)}}const Dt=".bs.modal",cS=`hide${Dt}`,uS=`hidePrevented${Dt}`,Sm=`hidden${Dt}`,Im=`show${Dt}`,dS=`shown${Dt}`,hS=`resize${Dt}`,fS=`click.dismiss${Dt}`,pS=`mousedown.dismiss${Dt}`,mS=`keydown.dismiss${Dt}`,gS=`click${Dt}.data-api`,Tm="modal-open",km="show",_u="modal-static",_S={backdrop:!0,focus:!0,keyboard:!0},vS={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class $r extends je{constructor(l,u){super(l,u),this._dialog=H.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new gu,this._addEventListeners()}static get Default(){return _S}static get DefaultType(){return vS}static get NAME(){return"modal"}toggle(l){return this._isShown?this.hide():this.show(l)}show(l){this._isShown||this._isTransitioning||k.trigger(this._element,Im,{relatedTarget:l}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Tm),this._adjustDialog(),this._backdrop.show(()=>this._showElement(l)))}hide(){this._isShown&&!this._isTransitioning&&(k.trigger(this._element,cS).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(km),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){k.off(window,Dt),k.off(this._dialog,Dt),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new _m({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new ym({trapElement:this._element})}_showElement(l){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const u=H.findOne(".modal-body",this._dialog);u&&(u.scrollTop=0),w(this._element),this._element.classList.add(km),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,k.trigger(this._element,dS,{relatedTarget:l})},this._dialog,this._isAnimated())}_addEventListeners(){k.on(this._element,mS,l=>{l.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),k.on(window,hS,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),k.on(this._element,pS,l=>{k.one(this._element,fS,u=>{this._element===l.target&&this._element===u.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Tm),this._resetAdjustments(),this._scrollBar.reset(),k.trigger(this._element,Sm)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(k.trigger(this._element,uS).defaultPrevented)return;const l=this._element.scrollHeight>document.documentElement.clientHeight,u=this._element.style.overflowY;u==="hidden"||this._element.classList.contains(_u)||(l||(this._element.style.overflowY="hidden"),this._element.classList.add(_u),this._queueCallback(()=>{this._element.classList.remove(_u),this._queueCallback(()=>{this._element.style.overflowY=u},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const l=this._element.scrollHeight>document.documentElement.clientHeight,u=this._scrollBar.getWidth(),m=u>0;if(m&&!l){const E=x()?"paddingLeft":"paddingRight";this._element.style[E]=`${u}px`}if(!m&&l){const E=x()?"paddingRight":"paddingLeft";this._element.style[E]=`${u}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(l,u){return this.each(function(){const m=$r.getOrCreateInstance(this,l);if(typeof l=="string"){if(m[l]===void 0)throw new TypeError(`No method named "${l}"`);m[l](u)}})}}k.on(document,gS,'[data-bs-toggle="modal"]',function(h){const l=H.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&h.preventDefault(),k.one(l,Im,m=>{m.defaultPrevented||k.one(l,Sm,()=>{d(this)&&this.focus()})});const u=H.findOne(".modal.show");u&&$r.getInstance(u).hide(),$r.getOrCreateInstance(l).toggle(this)}),wl($r),v($r);const Tn=".bs.offcanvas",Nm=".data-api",yS=`load${Tn}${Nm}`,bm="show",xm="showing",Pm="hiding",Am=".offcanvas.show",wS=`show${Tn}`,ES=`shown${Tn}`,CS=`hide${Tn}`,Rm=`hidePrevented${Tn}`,Om=`hidden${Tn}`,SS=`resize${Tn}`,IS=`click${Tn}${Nm}`,TS=`keydown.dismiss${Tn}`,kS={backdrop:!0,keyboard:!0,scroll:!1},NS={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class kn extends je{constructor(l,u){super(l,u),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return kS}static get DefaultType(){return NS}static get NAME(){return"offcanvas"}toggle(l){return this._isShown?this.hide():this.show(l)}show(l){this._isShown||k.trigger(this._element,wS,{relatedTarget:l}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new gu().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(xm),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(bm),this._element.classList.remove(xm),k.trigger(this._element,ES,{relatedTarget:l})},this._element,!0))}hide(){this._isShown&&(k.trigger(this._element,CS).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Pm),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(bm,Pm),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new gu().reset(),k.trigger(this._element,Om)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const l=!!this._config.backdrop;return new _m({className:"offcanvas-backdrop",isVisible:l,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:l?()=>{this._config.backdrop!=="static"?this.hide():k.trigger(this._element,Rm)}:null})}_initializeFocusTrap(){return new ym({trapElement:this._element})}_addEventListeners(){k.on(this._element,TS,l=>{l.key==="Escape"&&(this._config.keyboard?this.hide():k.trigger(this._element,Rm))})}static jQueryInterface(l){return this.each(function(){const u=kn.getOrCreateInstance(this,l);if(typeof l=="string"){if(u[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);u[l](this)}})}}k.on(document,IS,'[data-bs-toggle="offcanvas"]',function(h){const l=H.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&h.preventDefault(),f(this))return;k.one(l,Om,()=>{d(this)&&this.focus()});const u=H.findOne(Am);u&&u!==l&&kn.getInstance(u).hide(),kn.getOrCreateInstance(l).toggle(this)}),k.on(window,yS,()=>{for(const h of H.find(Am))kn.getOrCreateInstance(h).show()}),k.on(window,SS,()=>{for(const h of H.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(h).position!=="fixed"&&kn.getOrCreateInstance(h).hide()}),wl(kn),v(kn);const Dm={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},bS=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),xS=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,PS=(h,l)=>{const u=h.nodeName.toLowerCase();return l.includes(u)?!bS.has(u)||!!xS.test(h.nodeValue):l.filter(m=>m instanceof RegExp).some(m=>m.test(u))},AS={allowList:Dm,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},RS={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},OS={entry:"(string|element|function|null)",selector:"(string|element)"};class DS extends Sn{constructor(l){super(),this._config=this._getConfig(l)}static get Default(){return AS}static get DefaultType(){return RS}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(l=>this._resolvePossibleFunction(l)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(l){return this._checkContent(l),this._config.content={...this._config.content,...l},this}toHtml(){const l=document.createElement("div");l.innerHTML=this._maybeSanitize(this._config.template);for(const[E,I]of Object.entries(this._config.content))this._setContent(l,I,E);const u=l.children[0],m=this._resolvePossibleFunction(this._config.extraClass);return m&&u.classList.add(...m.split(" ")),u}_typeCheckConfig(l){super._typeCheckConfig(l),this._checkContent(l.content)}_checkContent(l){for(const[u,m]of Object.entries(l))super._typeCheckConfig({selector:u,entry:m},OS)}_setContent(l,u,m){const E=H.findOne(m,l);E&&((u=this._resolvePossibleFunction(u))?a(u)?this._putElementInTemplate(c(u),E):this._config.html?E.innerHTML=this._maybeSanitize(u):E.textContent=u:E.remove())}_maybeSanitize(l){return this._config.sanitize?function(u,m,E){if(!u.length)return u;if(E&&typeof E=="function")return E(u);const I=new window.DOMParser().parseFromString(u,"text/html"),b=[].concat(...I.body.querySelectorAll("*"));for(const P of b){const M=P.nodeName.toLowerCase();if(!Object.keys(m).includes(M)){P.remove();continue}const z=[].concat(...P.attributes),B=[].concat(m["*"]||[],m[M]||[]);for(const U of z)PS(U,B)||P.removeAttribute(U.nodeName)}return I.body.innerHTML}(l,this._config.allowList,this._config.sanitizeFn):l}_resolvePossibleFunction(l){return _(l,[this])}_putElementInTemplate(l,u){if(this._config.html)return u.innerHTML="",void u.append(l);u.textContent=l.textContent}}const LS=new Set(["sanitize","allowList","sanitizeFn"]),vu="fade",Dl="show",Lm=".modal",Mm="hide.bs.modal",Hs="hover",yu="focus",MS={AUTO:"auto",TOP:"top",RIGHT:x()?"left":"right",BOTTOM:"bottom",LEFT:x()?"right":"left"},FS={allowList:Dm,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},jS={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class zr extends je{constructor(l,u){if(cm===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(l,u),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return FS}static get DefaultType(){return jS}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),k.off(this._element.closest(Lm),Mm,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const l=k.trigger(this._element,this.constructor.eventName("show")),u=(p(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(l.defaultPrevented||!u)return;this._disposePopper();const m=this._getTipElement();this._element.setAttribute("aria-describedby",m.getAttribute("id"));const{container:E}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(E.append(m),k.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(m),m.classList.add(Dl),"ontouchstart"in document.documentElement)for(const I of[].concat(...document.body.children))k.on(I,"mouseover",g);this._queueCallback(()=>{k.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!k.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Dl),"ontouchstart"in document.documentElement)for(const l of[].concat(...document.body.children))k.off(l,"mouseover",g);this._activeTrigger.click=!1,this._activeTrigger[yu]=!1,this._activeTrigger[Hs]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),k.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(l){const u=this._getTemplateFactory(l).toHtml();if(!u)return null;u.classList.remove(vu,Dl),u.classList.add(`bs-${this.constructor.NAME}-auto`);const m=(E=>{do E+=Math.floor(1e6*Math.random());while(document.getElementById(E));return E})(this.constructor.NAME).toString();return u.setAttribute("id",m),this._isAnimated()&&u.classList.add(vu),u}setContent(l){this._newContent=l,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(l){return this._templateFactory?this._templateFactory.changeContent(l):this._templateFactory=new DS({...this._config,content:l,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(l){return this.constructor.getOrCreateInstance(l.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(vu)}_isShown(){return this.tip&&this.tip.classList.contains(Dl)}_createPopper(l){const u=_(this._config.placement,[this,l,this._element]),m=MS[u.toUpperCase()];return pu(this._element,l,this._getPopperConfig(m))}_getOffset(){const{offset:l}=this._config;return typeof l=="string"?l.split(",").map(u=>Number.parseInt(u,10)):typeof l=="function"?u=>l(u,this._element):l}_resolvePossibleFunction(l){return _(l,[this._element])}_getPopperConfig(l){const u={placement:l,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:m=>{this._getTipElement().setAttribute("data-popper-placement",m.state.placement)}}]};return{...u,..._(this._config.popperConfig,[u])}}_setListeners(){const l=this._config.trigger.split(" ");for(const u of l)if(u==="click")k.on(this._element,this.constructor.eventName("click"),this._config.selector,m=>{this._initializeOnDelegatedTarget(m).toggle()});else if(u!=="manual"){const m=u===Hs?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),E=u===Hs?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");k.on(this._element,m,this._config.selector,I=>{const b=this._initializeOnDelegatedTarget(I);b._activeTrigger[I.type==="focusin"?yu:Hs]=!0,b._enter()}),k.on(this._element,E,this._config.selector,I=>{const b=this._initializeOnDelegatedTarget(I);b._activeTrigger[I.type==="focusout"?yu:Hs]=b._element.contains(I.relatedTarget),b._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},k.on(this._element.closest(Lm),Mm,this._hideModalHandler)}_fixTitle(){const l=this._element.getAttribute("title");l&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",l),this._element.setAttribute("data-bs-original-title",l),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(l,u){clearTimeout(this._timeout),this._timeout=setTimeout(l,u)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(l){const u=Qe.getDataAttributes(this._element);for(const m of Object.keys(u))LS.has(m)&&delete u[m];return l={...u,...typeof l=="object"&&l?l:{}},l=this._mergeConfigObj(l),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}_configAfterMerge(l){return l.container=l.container===!1?document.body:c(l.container),typeof l.delay=="number"&&(l.delay={show:l.delay,hide:l.delay}),typeof l.title=="number"&&(l.title=l.title.toString()),typeof l.content=="number"&&(l.content=l.content.toString()),l}_getDelegateConfig(){const l={};for(const[u,m]of Object.entries(this._config))this.constructor.Default[u]!==m&&(l[u]=m);return l.selector=!1,l.trigger="manual",l}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(l){return this.each(function(){const u=zr.getOrCreateInstance(this,l);if(typeof l=="string"){if(u[l]===void 0)throw new TypeError(`No method named "${l}"`);u[l]()}})}}v(zr);const US={...zr.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},$S={...zr.DefaultType,content:"(null|string|element|function)"};class Ll extends zr{static get Default(){return US}static get DefaultType(){return $S}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(l){return this.each(function(){const u=Ll.getOrCreateInstance(this,l);if(typeof l=="string"){if(u[l]===void 0)throw new TypeError(`No method named "${l}"`);u[l]()}})}}v(Ll);const wu=".bs.scrollspy",zS=`activate${wu}`,Fm=`click${wu}`,WS=`load${wu}.data-api`,Mi="active",Eu="[href]",jm=".nav-link",BS=`${jm}, .nav-item > ${jm}, .list-group-item`,HS={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},VS={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Vs extends je{constructor(l,u){super(l,u),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return HS}static get DefaultType(){return VS}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const l of this._observableSections.values())this._observer.observe(l)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(l){return l.target=c(l.target)||document.body,l.rootMargin=l.offset?`${l.offset}px 0px -30%`:l.rootMargin,typeof l.threshold=="string"&&(l.threshold=l.threshold.split(",").map(u=>Number.parseFloat(u))),l}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(k.off(this._config.target,Fm),k.on(this._config.target,Fm,Eu,l=>{const u=this._observableSections.get(l.target.hash);if(u){l.preventDefault();const m=this._rootElement||window,E=u.offsetTop-this._element.offsetTop;if(m.scrollTo)return void m.scrollTo({top:E,behavior:"smooth"});m.scrollTop=E}}))}_getNewObserver(){const l={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(u=>this._observerCallback(u),l)}_observerCallback(l){const u=b=>this._targetLinks.get(`#${b.target.id}`),m=b=>{this._previousScrollData.visibleEntryTop=b.target.offsetTop,this._process(u(b))},E=(this._rootElement||document.documentElement).scrollTop,I=E>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=E;for(const b of l){if(!b.isIntersecting){this._activeTarget=null,this._clearActiveClass(u(b));continue}const P=b.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(I&&P){if(m(b),!E)return}else I||P||m(b)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const l=H.find(Eu,this._config.target);for(const u of l){if(!u.hash||f(u))continue;const m=H.findOne(decodeURI(u.hash),this._element);d(m)&&(this._targetLinks.set(decodeURI(u.hash),u),this._observableSections.set(u.hash,m))}}_process(l){this._activeTarget!==l&&(this._clearActiveClass(this._config.target),this._activeTarget=l,l.classList.add(Mi),this._activateParents(l),k.trigger(this._element,zS,{relatedTarget:l}))}_activateParents(l){if(l.classList.contains("dropdown-item"))H.findOne(".dropdown-toggle",l.closest(".dropdown")).classList.add(Mi);else for(const u of H.parents(l,".nav, .list-group"))for(const m of H.prev(u,BS))m.classList.add(Mi)}_clearActiveClass(l){l.classList.remove(Mi);const u=H.find(`${Eu}.${Mi}`,l);for(const m of u)m.classList.remove(Mi)}static jQueryInterface(l){return this.each(function(){const u=Vs.getOrCreateInstance(this,l);if(typeof l=="string"){if(u[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);u[l]()}})}}k.on(window,WS,()=>{for(const h of H.find('[data-bs-spy="scroll"]'))Vs.getOrCreateInstance(h)}),v(Vs);const Wr=".bs.tab",GS=`hide${Wr}`,KS=`hidden${Wr}`,qS=`show${Wr}`,QS=`shown${Wr}`,YS=`click${Wr}`,XS=`keydown${Wr}`,JS=`load${Wr}`,ZS="ArrowLeft",Um="ArrowRight",eI="ArrowUp",$m="ArrowDown",Cu="Home",zm="End",Br="active",Wm="fade",Su="show",Bm=".dropdown-toggle",Iu=`:not(${Bm})`,Hm='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Tu=`.nav-link${Iu}, .list-group-item${Iu}, [role="tab"]${Iu}, ${Hm}`,tI=`.${Br}[data-bs-toggle="tab"], .${Br}[data-bs-toggle="pill"], .${Br}[data-bs-toggle="list"]`;class Hr extends je{constructor(l){super(l),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),k.on(this._element,XS,u=>this._keydown(u)))}static get NAME(){return"tab"}show(){const l=this._element;if(this._elemIsActive(l))return;const u=this._getActiveElem(),m=u?k.trigger(u,GS,{relatedTarget:l}):null;k.trigger(l,qS,{relatedTarget:u}).defaultPrevented||m&&m.defaultPrevented||(this._deactivate(u,l),this._activate(l,u))}_activate(l,u){l&&(l.classList.add(Br),this._activate(H.getElementFromSelector(l)),this._queueCallback(()=>{l.getAttribute("role")==="tab"?(l.removeAttribute("tabindex"),l.setAttribute("aria-selected",!0),this._toggleDropDown(l,!0),k.trigger(l,QS,{relatedTarget:u})):l.classList.add(Su)},l,l.classList.contains(Wm)))}_deactivate(l,u){l&&(l.classList.remove(Br),l.blur(),this._deactivate(H.getElementFromSelector(l)),this._queueCallback(()=>{l.getAttribute("role")==="tab"?(l.setAttribute("aria-selected",!1),l.setAttribute("tabindex","-1"),this._toggleDropDown(l,!1),k.trigger(l,KS,{relatedTarget:u})):l.classList.remove(Su)},l,l.classList.contains(Wm)))}_keydown(l){if(![ZS,Um,eI,$m,Cu,zm].includes(l.key))return;l.stopPropagation(),l.preventDefault();const u=this._getChildren().filter(E=>!f(E));let m;if([Cu,zm].includes(l.key))m=u[l.key===Cu?0:u.length-1];else{const E=[Um,$m].includes(l.key);m=N(u,l.target,E,!0)}m&&(m.focus({preventScroll:!0}),Hr.getOrCreateInstance(m).show())}_getChildren(){return H.find(Tu,this._parent)}_getActiveElem(){return this._getChildren().find(l=>this._elemIsActive(l))||null}_setInitialAttributes(l,u){this._setAttributeIfNotExists(l,"role","tablist");for(const m of u)this._setInitialAttributesOnChild(m)}_setInitialAttributesOnChild(l){l=this._getInnerElement(l);const u=this._elemIsActive(l),m=this._getOuterElement(l);l.setAttribute("aria-selected",u),m!==l&&this._setAttributeIfNotExists(m,"role","presentation"),u||l.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(l,"role","tab"),this._setInitialAttributesOnTargetPanel(l)}_setInitialAttributesOnTargetPanel(l){const u=H.getElementFromSelector(l);u&&(this._setAttributeIfNotExists(u,"role","tabpanel"),l.id&&this._setAttributeIfNotExists(u,"aria-labelledby",`${l.id}`))}_toggleDropDown(l,u){const m=this._getOuterElement(l);if(!m.classList.contains("dropdown"))return;const E=(I,b)=>{const P=H.findOne(I,m);P&&P.classList.toggle(b,u)};E(Bm,Br),E(".dropdown-menu",Su),m.setAttribute("aria-expanded",u)}_setAttributeIfNotExists(l,u,m){l.hasAttribute(u)||l.setAttribute(u,m)}_elemIsActive(l){return l.classList.contains(Br)}_getInnerElement(l){return l.matches(Tu)?l:H.findOne(Tu,l)}_getOuterElement(l){return l.closest(".nav-item, .list-group-item")||l}static jQueryInterface(l){return this.each(function(){const u=Hr.getOrCreateInstance(this);if(typeof l=="string"){if(u[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);u[l]()}})}}k.on(document,YS,Hm,function(h){["A","AREA"].includes(this.tagName)&&h.preventDefault(),f(this)||Hr.getOrCreateInstance(this).show()}),k.on(window,JS,()=>{for(const h of H.find(tI))Hr.getOrCreateInstance(h)}),v(Hr);const Jn=".bs.toast",nI=`mouseover${Jn}`,rI=`mouseout${Jn}`,iI=`focusin${Jn}`,sI=`focusout${Jn}`,oI=`hide${Jn}`,lI=`hidden${Jn}`,aI=`show${Jn}`,cI=`shown${Jn}`,Vm="hide",Ml="show",Fl="showing",uI={animation:"boolean",autohide:"boolean",delay:"number"},dI={animation:!0,autohide:!0,delay:5e3};class Gs extends je{constructor(l,u){super(l,u),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return dI}static get DefaultType(){return uI}static get NAME(){return"toast"}show(){k.trigger(this._element,aI).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(Vm),w(this._element),this._element.classList.add(Ml,Fl),this._queueCallback(()=>{this._element.classList.remove(Fl),k.trigger(this._element,cI),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(k.trigger(this._element,oI).defaultPrevented||(this._element.classList.add(Fl),this._queueCallback(()=>{this._element.classList.add(Vm),this._element.classList.remove(Fl,Ml),k.trigger(this._element,lI)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Ml),super.dispose()}isShown(){return this._element.classList.contains(Ml)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(l,u){switch(l.type){case"mouseover":case"mouseout":this._hasMouseInteraction=u;break;case"focusin":case"focusout":this._hasKeyboardInteraction=u}if(u)return void this._clearTimeout();const m=l.relatedTarget;this._element===m||this._element.contains(m)||this._maybeScheduleHide()}_setListeners(){k.on(this._element,nI,l=>this._onInteraction(l,!0)),k.on(this._element,rI,l=>this._onInteraction(l,!1)),k.on(this._element,iI,l=>this._onInteraction(l,!0)),k.on(this._element,sI,l=>this._onInteraction(l,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(l){return this.each(function(){const u=Gs.getOrCreateInstance(this,l);if(typeof l=="string"){if(u[l]===void 0)throw new TypeError(`No method named "${l}"`);u[l](this)}})}}return wl(Gs),v(Gs),{Alert:Fs,Button:js,Carousel:Ti,Collapse:Ni,Dropdown:Kt,Modal:$r,Offcanvas:kn,Popover:Ll,ScrollSpy:Vs,Tab:Hr,Toast:Gs,Tooltip:zr}})})(MO);const FO=({user:t,month:e,setFilters:n})=>{const[r,i]=L.useState({userId:t.uid,date:"",client:"",categorie:"",description:"",inter_de:"",inter_a:"",mois:""}),[s,o]=L.useState([]),a=vl(t.app),[c,d]=L.useState([]);L.useEffect(()=>{(async()=>{const T=Bt(vn(a),`entreprises/${t.entrepriseId}/clients`),x=await yn(T);if(x.exists()){const v=x.val();o(Object.values(v))}else console.log("No clients available")})()},[a,t.entrepriseId]),L.useEffect(()=>{(async()=>{const T=Bt(vn(a),`entreprises/${t.entrepriseId}/categories_prestations`),x=await yn(T);if(x.exists()){const v=x.val();d(Object.values(v))}else console.log("No clients available")})()},[a,t.entrepriseId]);const f=C=>{const{name:T,value:x}=C.target;i(v=>({...v,[T]:x}))},p=()=>{n(r)},g=C=>{const{value:T}=C.target;i(x=>({...x,date:T}))},w=()=>{const C={userId:t.uid,date:"",client:"",categorie:"",description:"",inter_de:"",inter_a:"",mois:""};i(C),n(C)};return S.jsxs(S.Fragment,{children:[S.jsx("label",{htmlFor:"categorie",children:"Par catgorie :"}),S.jsx("br",{}),S.jsxs("select",{name:"categorie",className:"form-add-data-input",value:r.categorie,onChange:f,children:[S.jsx("option",{value:"",children:"Slectionner une catgorie"}),c.map((C,T)=>S.jsx("option",{value:C,children:C},T))]}),S.jsx("br",{}),S.jsx("label",{htmlFor:"client",children:"Par client :"}),S.jsx("br",{}),S.jsxs("select",{name:"client",className:"form-add-data-input",value:r.client,onChange:f,children:[S.jsx("option",{value:"",children:"Slectionner un client"}),s.map((C,T)=>S.jsx("option",{value:C.nom,children:C.nom},T))]}),S.jsx("br",{}),S.jsx("label",{htmlFor:"mois",children:"Par mois :"}),S.jsx("br",{}),S.jsxs("select",{id:"mois",name:"mois",value:r.mois,onChange:f,className:"form-add-data-input",children:[S.jsx("option",{value:"",children:"Slectionner un mois"}),e.map((C,T)=>S.jsx("option",{value:C,children:C},T))]}),S.jsx("br",{}),S.jsx("label",{htmlFor:"date",children:"Par date :"}),S.jsx("br",{}),S.jsx("input",{type:"date",name:"date",className:"form-add-data-input",value:r.date,onChange:g,placeholder:"Slectionner une date"}),S.jsx("br",{}),S.jsx("button",{onClick:p,children:"Search"}),S.jsx("button",{onClick:w,children:"Reset Filters"})]})},jO=({user:t})=>{const[e,n]=L.useState([]),[r,i]=L.useState({}),[s,o]=L.useState(["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"]),[a,c]=L.useState({}),d=al(),f=vl(t.app);L.useEffect(()=>{(async()=>{const y=Bt(vn(f),`entreprises/${t.entrepriseId}/prestations`);try{const N=await yn(y);if(N.exists()){const A=N.val();if(t.role==="admin")n(Object.entries(A));else{const O=Object.entries(A).filter(([F,j])=>j.userId===t.uid);n(O)}}else console.log("No data available")}catch(N){console.error("Error fetching data:",N)}})()},[t.app,t.uid,t.role]);const g=(_=>!r||Object.keys(r).length===0?_:_.filter(([y,N])=>{const{client:A,categorie:O,mois:F,date:j}=r,se=new Date(N.date).toLocaleString("fr-FR",{month:"long"}).toLowerCase();return(!A||N.client===A)&&(!O||N.categorie===O)&&(!F||se===F.toLowerCase())&&(!j||N.date===j)}))(e),w=rC(g);L.useEffect(()=>{const _={};for(const A in w)w.hasOwnProperty(A)&&w[A].forEach(O=>{_[O.userId]=!0});const y=Object.keys(_);(async()=>{for(const A of y)try{const O=await yn(Bt(vn(f),`users/${A}`));if(O.exists()){const F=O.val();c(j=>({...j,[A]:{nom:F.nom,prenom:F.prenom}}))}}catch(O){console.error("Error fetching user data:",O)}})()},[f,w]);const C=iC(w),T=DO(w),x=Object.keys(w).sort((_,y)=>{const[N,A]=_.split(" "),[O,F]=y.split(" "),j=new Date(`${A}-${s.indexOf(N.toLowerCase())+1}-01`);return new Date(`${F}-${s.indexOf(O.toLowerCase())+1}-01`)-j}),v=async _=>{const{uid:y,capitalizedName:N,capitalizedFirstName:A,entrepriseId:O,tarif_horaire:F}=t,se=(await yn(Bt(vn(f),`entreprises/${t.entrepriseId}`))).val().nom;d("/fiche-de-paie",{state:{monthYear:_,user:{uid:y,capitalizedName:N,capitalizedFirstName:A,entrepriseId:O,tarif_horaire:F,nomEntreprise:se}}})};return S.jsxs(S.Fragment,{children:[S.jsx("h1",{children:"Listes des heures"}),S.jsx(FO,{user:t,month:s,setFilters:i}),x.length>0?S.jsx("div",{className:"accordion",children:x.map((_,y)=>S.jsxs("div",{className:"accordion-item",children:[S.jsx("h2",{className:"accordion-header",id:`heading${y}`,children:S.jsxs("button",{className:"accordion-button collapsed bg-gradient",style:{backgroundColor:"#003C43",color:"white"},type:"button","data-bs-toggle":"collapse","data-bs-target":`#collapse${y}`,"aria-expanded":"false","aria-controls":`collapse${y}`,children:[`${_} | ${C[_].totalHours}h ${C[_].totalMinutes}m `,T[_]!==null&&S.jsxs("span",{children:[" | ",T[_].toFixed(2),"%"]}),S.jsx("a",{href:"#",onClick:()=>v(_),children:"Fiche de paie"})]})}),S.jsx("div",{id:`collapse${y}`,className:"accordion-collapse collapse","aria-labelledby":`heading${y}`,"data-bs-parent":"#accordionExample",children:S.jsx("div",{className:"accordion-body text-start",style:{backgroundColor:"#77B0AA"},children:w[_].map((N,A)=>{const{differenceHours:O,differenceMinutes:F}=Tp(N.inter_de,N.inter_a),j=a[N.userId]||{nom:"Nom",prenom:"inconnu"};return S.jsxs("div",{children:[t.role==="admin"&&S.jsxs("p",{children:["Nom de l'employ : ",j.nom," ",j.prenom]}),S.jsxs("p",{children:["Client: ",N.client]}),S.jsxs("p",{children:["Date: ",N.date]}),S.jsxs("p",{children:["Catgorie: ",N.categorie]}),S.jsxs("p",{children:["Description: ",N.description]}),S.jsxs("p",{children:["Temps de travail: ",O,"h :"," ",F,"m"]}),A<e.length-1&&S.jsx("hr",{})]},A)})})})]},y))}):S.jsx("h2",{children:"Pas d'heures enregistres"})]})},UO=({openModal:t,logout:e})=>S.jsxs("div",{className:"menu-container",children:[S.jsx("input",{id:"check",type:"checkbox",className:"menu-checkbox"}),S.jsxs("label",{htmlFor:"check",className:"menuButton",children:[S.jsx("span",{className:"top"}),S.jsx("span",{className:"mid"}),S.jsx("span",{className:"bot"})]}),S.jsx("div",{className:"menu-options",children:S.jsxs("ul",{children:[S.jsx("li",{children:S.jsx("a",{href:"#",onClick:t,children:"Ouvrir le formulaire"})}),S.jsx("li",{children:S.jsx("a",{href:"#",onClick:e,children:"Deconnexion"})})]})})]}),$O=()=>{const t=new Hw,[e,n]=L.useState(null),[r,i]=L.useState(t.getApp()),[s,o]=L.useState(!1),a=al();L.useEffect(()=>{const p=wh(r),g=vl(r),w=sx(p,async C=>{if(C){const T=vn(g,`users/${C.uid}`),x=await yn(T);if(x.exists()){const v=x.val(),{entrepriseId:_,tarif_horaire:y,role:N}=v,[A,O]=C.displayName.split(" "),F=A.charAt(0).toUpperCase()+A.slice(1).toLowerCase(),j=O.charAt(0).toUpperCase()+O.slice(1).toLowerCase();n({uid:C.uid,capitalizedName:F,capitalizedFirstName:j,entrepriseId:_,app:r,tarif_horaire:y,role:N})}else return S.jsx(S.Fragment,{children:S.jsx("h1",{children:"Aucune donnes"})})}else a("/")});return()=>w()},[r,a]);const c=()=>{o(!0)},d=()=>{o(!1)},f=()=>{wh(r).signOut().then(()=>{a("/")})};return S.jsx(S.Fragment,{children:S.jsxs("div",{className:"displayElements",children:[e&&S.jsxs("h1",{children:["Bonjour ",e.capitalizedName," ",e.capitalizedFirstName]}),S.jsx(UO,{openModal:c,logout:f}),S.jsx("br",{}),s&&S.jsx(LO,{user:e,onClose:d}),S.jsx("br",{}),e&&S.jsx(jO,{user:e})]})})},zO=()=>{const[t,e]=L.useState([]),n=bf(),{monthYear:r,user:i}=n.state||{},s=al();L.useEffect(()=>{(async()=>{const g=vl(i.app),w=Bt(vn(g),`entreprises/${i.entrepriseId}/prestations`);try{const C=await yn(w);if(C.exists()){const T=C.val();if(i.role==="admin")e(Object.entries(T));else{const x=Object.entries(T).filter(([v,_])=>_.userId===i.uid);e(x)}}else console.log("No data available")}catch(C){console.error("Error fetching data:",C)}})()},[i.app,i.uid]);const o=rC(t);if(!r||!i||!o)return S.jsx("div",{children:"Les donnes ncessaires ne sont pas disponibles."});const a=o[r]||[],c=a.reduce((p,g)=>{const w=parseFloat(g.total_inter);return p+w},0),d=c*i.tarif_horaire,f=d*5/100;return S.jsx(S.Fragment,{children:S.jsxs("div",{style:{textAlign:"center"},children:[S.jsx("button",{onClick:()=>s("/dashboard"),children:"Retour"}),S.jsx("h1",{children:"Fiche de Paie"}),S.jsxs("h2",{children:["Mois de ",r]}),S.jsxs("p",{children:[i.capitalizedName," ",i.capitalizedFirstName]}),S.jsx("p",{children:i.nomEntreprise}),S.jsx("h2",{children:"Dtails des heures:"}),a.length>0?S.jsxs(S.Fragment,{children:[S.jsxs("table",{children:[S.jsx("thead",{children:S.jsxs("tr",{children:[S.jsx("th",{children:"Date"}),S.jsx("th",{children:"Client"}),S.jsx("th",{children:"Catgorie"}),S.jsx("th",{children:"Nombre d'heures"})]})}),S.jsx("tbody",{children:a.map((p,g)=>S.jsxs("tr",{children:[S.jsx("td",{className:"border",children:p.date}),S.jsx("td",{className:"border",children:p.client}),S.jsx("td",{className:"border",children:p.categorie}),S.jsxs("td",{className:"border",children:[p.total_inter,"h"]})]},g))})]}),S.jsxs("p",{children:["Total des heures ce mois: ",c,"h",S.jsx("br",{}),"Tarif par heure : ",i.tarif_horaire," CHF",S.jsx("br",{}),"Salaire brut : ",d," CHF",S.jsx("br",{}),"AVS : - ",f," CHF",S.jsx("br",{}),S.jsxs("strong",{children:["Salaire net : ",d-f," CHF"]})]})]}):S.jsx("p",{children:"Pas d'heures enregistres pour ce mois."})]})})},WO=()=>{const[e,n]=L.useState(5),r=al(),i=setInterval(()=>{n(e-1)},1e3);return setTimeout(()=>{clearInterval(i),r("/")},5*1e3),S.jsx(S.Fragment,{children:S.jsxs("div",{style:{display:"block",textAlign:"center"},children:[S.jsx("h1",{children:"La page n'existe pas!"}),S.jsx("br",{}),S.jsxs("p",{children:["Vous allez tre redirig dans ",e," seconde",e>1?"s":""]})]})})};function BO(){return S.jsx(S.Fragment,{children:S.jsxs(jk,{children:[S.jsx(co,{path:"/",element:S.jsx(EP,{})}),S.jsx(co,{path:"/dashboard",element:S.jsx($O,{})}),S.jsx(co,{path:"/fiche-de-paie",element:S.jsx(zO,{})}),S.jsx(co,{path:"*",element:S.jsx(WO,{})})]})})}gd.createRoot(document.getElementById("root")).render(S.jsx(Uv.StrictMode,{children:S.jsx(zk,{children:S.jsx(BO,{})})}));
